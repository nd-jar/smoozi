(self.webpackChunkcrm=self.webpackChunkcrm||[]).push([[179],{7128:(gt,Ne,b)=>{"use strict";b.d(Ne,{nm:()=>Xe});var f=b(880),x=(b(5e3),b(3692),b(5867),b(5861)),H=b(9681),j=b(4859),W=b(2090),Z=b(1877);const z=new Map,q={activated:!1,tokenObservers:[]},te={initialized:!1,enabled:!1};function Te(Ke){return z.get(Ke)||q}function Ae(Ke,je){z.set(Ke,je)}function Ye(){return te}class w{constructor(je,Qe,ft,Ot,zt){if(this.operation=je,this.retryPolicy=Qe,this.getWaitDuration=ft,this.lowerBound=Ot,this.upperBound=zt,this.pending=null,this.nextErrorWaitInterval=Ot,Ot>zt)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(je){var Qe=this;return(0,x.Z)(function*(){Qe.stop();try{Qe.pending=new W.BH,yield(Ke=Qe.getNextRun(je),new Promise(je=>{setTimeout(je,Ke)})),Qe.pending.resolve(),yield Qe.pending.promise,Qe.pending=new W.BH,yield Qe.operation(),Qe.pending.resolve(),yield Qe.pending.promise,Qe.process(!0).catch(()=>{})}catch(ft){Qe.retryPolicy(ft)?Qe.process(!1).catch(()=>{}):Qe.stop()}var Ke})()}getNextRun(je){if(je)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const Qe=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),Qe}}}const we=new W.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function le(Ke){if(!Te(Ke).activated)throw we.create("use-before-activation",{appName:Ke.name})}function He(Ke,je){return De.apply(this,arguments)}function De(){return(De=(0,x.Z)(function*({url:Ke,body:je},Qe){const ft={"Content-Type":"application/json"},Ot=Qe.getImmediate({optional:!0});Ot&&(ft["X-Firebase-Client"]=Ot.getPlatformInfoString());const zt={method:"POST",body:JSON.stringify(je),headers:ft};let Kn,gr;try{Kn=yield fetch(Ke,zt)}catch(Ii){throw we.create("fetch-network-error",{originalErrorMessage:Ii.message})}if(200!==Kn.status)throw we.create("fetch-status-error",{httpStatus:Kn.status});try{gr=yield Kn.json()}catch(Ii){throw we.create("fetch-parse-error",{originalErrorMessage:Ii.message})}const xn=gr.ttl.match(/^([\d.]+)(s)$/);if(!xn||!xn[2]||isNaN(Number(xn[1])))throw we.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${gr.ttl}`});const qr=1e3*Number(xn[1]),$r=Date.now();return{token:gr.attestationToken,expireTimeMillis:$r+qr,issuedAtTimeMillis:$r}})).apply(this,arguments)}function Ht(Ke,je){const{projectId:Qe,appId:ft,apiKey:Ot}=Ke.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${Qe}/apps/${ft}:exchangeDebugToken?key=${Ot}`,body:{debug_token:je}}}const xt="firebase-app-check-store";let Hn=null;function Cn(){return Hn||(Hn=new Promise((Ke,je)=>{try{const Qe=indexedDB.open("firebase-app-check-database",1);Qe.onsuccess=ft=>{Ke(ft.target.result)},Qe.onerror=ft=>{var Ot;je(we.create("storage-open",{originalErrorMessage:null===(Ot=ft.target.error)||void 0===Ot?void 0:Ot.message}))},Qe.onupgradeneeded=ft=>{0===ft.oldVersion&&ft.target.result.createObjectStore(xt,{keyPath:"compositeKey"})}}catch(Qe){je(we.create("storage-open",{originalErrorMessage:Qe.message}))}}),Hn)}function tr(){return(tr=(0,x.Z)(function*(Ke,je){const ft=(yield Cn()).transaction(xt,"readwrite"),zt=ft.objectStore(xt).put({compositeKey:Ke,value:je});return new Promise((Kn,gr)=>{zt.onsuccess=xn=>{Kn()},ft.onerror=xn=>{var qr;gr(we.create("storage-set",{originalErrorMessage:null===(qr=xn.target.error)||void 0===qr?void 0:qr.message}))}})})).apply(this,arguments)}const bn=new Z.Yd("@firebase/app-check");function Xt(Ke,je){return(0,W.hl)()?function(Ke,je){return function(Ke,je){return tr.apply(this,arguments)}(function(Ke){return`${Ke.options.appId}-${Ke.name}`}(Ke),je)}(Ke,je).catch(Qe=>{bn.warn(`Failed to write token to IndexedDB. Error: ${Qe}`)}):Promise.resolve()}function ar(){return Ye().enabled}function Kt(){return en.apply(this,arguments)}function en(){return(en=(0,x.Z)(function*(){const Ke=Ye();if(Ke.enabled&&Ke.token)return Ke.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Zt={error:"UNKNOWN_ERROR"};function jn(Ke){return W.US.encodeString(JSON.stringify(Ke),!1)}function yn(Ke){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,x.Z)(function*(Ke,je=!1){const Qe=Ke.app;le(Qe);const ft=Te(Qe);let zt,Ot=ft.token;if(!Ot){const xn=yield ft.cachedTokenPromise;xn&&ur(xn)&&(Ot=xn)}if(!je&&Ot&&ur(Ot))return{token:Ot.token};let gr,Kn=!1;if(ar()){ft.exchangeTokenPromise||(ft.exchangeTokenPromise=He(Ht(Qe,yield Kt()),Ke.platformLoggerProvider).then(qr=>(ft.exchangeTokenPromise=void 0,qr)),Kn=!0);const xn=yield ft.exchangeTokenPromise;return yield Xt(Qe,xn),Ae(Qe,Object.assign(Object.assign({},ft),{token:xn})),{token:xn.token}}try{ft.exchangeTokenPromise||(ft.exchangeTokenPromise=ft.provider.getToken().then(xn=>(ft.exchangeTokenPromise=void 0,xn)),Kn=!0),Ot=yield ft.exchangeTokenPromise}catch(xn){"appCheck/throttled"===xn.code?bn.warn(xn.message):bn.error(xn),zt=xn}return Ot?(gr={token:Ot.token},Ae(Qe,Object.assign(Object.assign({},ft),{token:Ot})),yield Xt(Qe,Ot)):gr=Nr(zt),Kn&&Fn(Qe,gr),gr})).apply(this,arguments)}function _n(Ke,je){const Qe=Te(Ke),ft=Qe.tokenObservers.filter(Ot=>Ot.next!==je);0===ft.length&&Qe.tokenRefresher&&Qe.tokenRefresher.isRunning()&&Qe.tokenRefresher.stop(),Ae(Ke,Object.assign(Object.assign({},Qe),{tokenObservers:ft}))}function sr(Ke){const{app:je}=Ke,Qe=Te(je);let ft=Qe.tokenRefresher;ft||(ft=function(Ke){const{app:je}=Ke;return new w((0,x.Z)(function*(){let ft;if(ft=Te(je).token?yield yn(Ke,!0):yield yn(Ke),ft.error)throw ft.error}),()=>!0,()=>{const Qe=Te(je);if(Qe.token){let ft=Qe.token.issuedAtTimeMillis+.5*(Qe.token.expireTimeMillis-Qe.token.issuedAtTimeMillis)+3e5;return ft=Math.min(ft,Qe.token.expireTimeMillis-3e5),Math.max(0,ft-Date.now())}return 0},3e4,96e4)}(Ke),Ae(je,Object.assign(Object.assign({},Qe),{tokenRefresher:ft}))),!ft.isRunning()&&Qe.isTokenAutoRefreshEnabled&&ft.start()}function Fn(Ke,je){const Qe=Te(Ke).tokenObservers;for(const ft of Qe)try{"EXTERNAL"===ft.type&&null!=je.error?ft.error(je.error):ft.next(je)}catch(Ot){}}function ur(Ke){return Ke.expireTimeMillis-Date.now()>0}function Nr(Ke){return{token:jn(Zt),error:Ke}}class xe{constructor(je,Qe){this.app=je,this.platformLoggerProvider=Qe}_delete(){const{tokenObservers:je}=Te(this.app);for(const Qe of je)_n(this.app,Qe.next);return Promise.resolve()}}const _r="app-check-internal";(0,H._registerComponent)(new j.wA("app-check",Ke=>function(Ke,je){return new xe(Ke,je)}(Ke.getProvider("app").getImmediate(),Ke.getProvider("platform-logger")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((Ke,je,Qe)=>{Ke.getProvider(_r).initialize()})),(0,H._registerComponent)(new j.wA(_r,Ke=>function(Ke){return{getToken:je=>yn(Ke,je),addTokenListener:je=>function(Ke,je,Qe,ft){const{app:Ot}=Ke,zt=Te(Ot),Kn={next:Qe,error:ft,type:je};if(Ae(Ot,Object.assign(Object.assign({},zt),{tokenObservers:[...zt.tokenObservers,Kn]})),zt.token&&ur(zt.token)){const gr=zt.token;Promise.resolve().then(()=>{Qe({token:gr.token}),sr(Ke)}).catch(()=>{})}zt.cachedTokenPromise.then(()=>sr(Ke))}(Ke,"INTERNAL",je),removeTokenListener:je=>_n(Ke.app,je)}}(Ke.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,H.registerVersion)("@firebase/app-check","0.5.3");class Xe{constructor(){return(0,f.vb)("app-check")}}"undefined"!=typeof window&&window},3692:(gt,Ne,b)=>{"use strict";b.d(Ne,{Ot:()=>$}),b(5867),b(5e3);class ${constructor(G){return G}}},948:(gt,Ne,b)=>{"use strict";b.d(Ne,{zQ:()=>ge,ww:()=>ye,rT:()=>re,f7:()=>Fe,L6:()=>w,_Q:()=>ae,lh:()=>we,Qv:()=>G,nw:()=>le});var f=b(5e3),C=b(7579),$=b(9646),ce=b(8306),x=b(8996),H=b(6451),j=b(5363),W=b(3900),Z=b(4004),z=b(4782),q=b(590),te=b(6304),Te=b(9468),Ae=b(9300),Ye=b(880),Ze=b(2011),ue=b(9808),de=b(7128),Ie=b(127);const G=new f.OlP("angularfire2.auth.use-emulator"),w=new f.OlP("angularfire2.auth.settings"),ae=new f.OlP("angularfire2.auth.tenant-id"),re=new f.OlP("angularfire2.auth.langugage-code"),we=new f.OlP("angularfire2.auth.use-device-language"),Fe=new f.OlP("angularfire.auth.persistence"),le=(_e,He,De,Et,It,Ht,it,kt)=>(0,Ze.cc)(`${_e.name}.auth`,"AngularFireAuth",_e.name,()=>{const xt=He.runOutsideAngular(()=>_e.auth());if(De&&xt.useEmulator(...De),Et&&(xt.tenantId=Et),xt.languageCode=It,Ht&&xt.useDeviceLanguage(),it)for(const[tn,Hn]of Object.entries(it))xt.settings[tn]=Hn;return kt&&xt.setPersistence(kt),xt},[De,Et,It,Ht,it,kt]);let ge=(()=>{class _e{constructor(De,Et,It,Ht,it,kt,xt,tn,Hn,Cn,Bn,An){const qt=new C.x,Ln=(0,$.of)(void 0).pipe((0,j.Q)(it.outsideAngular),(0,W.w)(()=>Ht.runOutsideAngular(()=>Promise.resolve().then(b.bind(b,8999)))),(0,Z.U)(()=>(0,Ze.on)(De,Ht,Et)),(0,Z.U)(er=>le(er,Ht,kt,tn,Hn,Cn,xt,Bn)),(0,z.d)({bufferSize:1,refCount:!1}));if((0,ue.PM)(It))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,$.of)(null);else{Ln.pipe((0,q.P)()).subscribe();const tr=Ln.pipe((0,W.w)(Pn=>Pn.getRedirectResult().then(bn=>bn,()=>null)),Ye.iC,(0,z.d)({bufferSize:1,refCount:!1})),Gn=Ln.pipe((0,W.w)(Pn=>new ce.y(bn=>({unsubscribe:Ht.runOutsideAngular(()=>Pn.onAuthStateChanged(Vn=>bn.next(Vn),Vn=>bn.error(Vn),()=>bn.complete()))})))),cr=Ln.pipe((0,W.w)(Pn=>new ce.y(bn=>({unsubscribe:Ht.runOutsideAngular(()=>Pn.onIdTokenChanged(Vn=>bn.next(Vn),Vn=>bn.error(Vn),()=>bn.complete()))}))));this.authState=tr.pipe((0,te.c)(Gn),(0,Te.R)(it.outsideAngular),(0,j.Q)(it.insideAngular)),this.user=tr.pipe((0,te.c)(cr),(0,Te.R)(it.outsideAngular),(0,j.Q)(it.insideAngular)),this.idToken=this.user.pipe((0,W.w)(Pn=>Pn?(0,x.D)(Pn.getIdToken()):(0,$.of)(null))),this.idTokenResult=this.user.pipe((0,W.w)(Pn=>Pn?(0,x.D)(Pn.getIdTokenResult()):(0,$.of)(null))),this.credential=(0,H.T)(tr,qt,this.authState.pipe((0,Ae.h)(Pn=>!Pn))).pipe((0,Z.U)(Pn=>(null==Pn?void 0:Pn.user)?Pn:null),(0,Te.R)(it.outsideAngular),(0,j.Q)(it.insideAngular))}return(0,Ze.pX)(this,Ln,Ht,{spy:{apply:(er,tr,Gn)=>{(er.startsWith("signIn")||er.startsWith("createUser"))&&Gn.then(cr=>qt.next(cr))}}})}}return _e.\u0275fac=function(De){return new(De||_e)(f.LFG(Ze.Dh),f.LFG(Ze.xv,8),f.LFG(f.Lbi),f.LFG(f.R0b),f.LFG(Ye.HU),f.LFG(G,8),f.LFG(w,8),f.LFG(ae,8),f.LFG(re,8),f.LFG(we,8),f.LFG(Fe,8),f.LFG(de.nm,8))},_e.\u0275prov=f.Yz7({token:_e,factory:_e.\u0275fac,providedIn:"any"}),_e})(),ye=(()=>{class _e{constructor(){Ie.Z.registerVersion("angularfire",Ye.q4.full,"auth-compat")}}return _e.\u0275fac=function(De){return new(De||_e)},_e.\u0275mod=f.oAB({type:_e}),_e.\u0275inj=f.cJS({providers:[ge]}),_e})()},3290:(gt,Ne,b)=>{"use strict";b.d(Ne,{ST:()=>xe});var f=b(5e3),C=b(4986),$=b(8306),ce=b(8996),x=b(9646),H=b(880),j=b(8675),W=b(1520),Z=b(4004),z=b(2940),q=b(1884),te=b(9300),Te=b(2011),Ae=b(9808),Ze=(b(8999),b(3942)),ue=b(5525),de=b(2090),Ie=b(4859);function w(he,V){if(void 0===V)return{merge:!1};if(void 0!==V.mergeFields&&void 0!==V.merge)throw new ue.WA("invalid-argument",`Invalid options passed to function ${he}(): You cannot specify both "merge" and "mergeFields".`);return V}function ae(){if("undefined"==typeof Uint8Array)throw new ue.WA("unimplemented","Uint8Arrays are not available in this environment.")}function re(){if(!(0,ue.Me)())throw new ue.WA("unimplemented","Blobs are unavailable in Firestore in this environment.")}class we{constructor(V){this._delegate=V}static fromBase64String(V){return re(),new we(ue.Jj.fromBase64String(V))}static fromUint8Array(V){return ae(),new we(ue.Jj.fromUint8Array(V))}toBase64(){return re(),this._delegate.toBase64()}toUint8Array(){return ae(),this._delegate.toUint8Array()}isEqual(V){return this._delegate.isEqual(V._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Fe(he){return function(he,V){if("object"!=typeof he||null===he)return!1;const K=he;for(const ze of["next","error","complete"])if(ze in K&&"function"==typeof K[ze])return!0;return!1}(he)}class ge{enableIndexedDbPersistence(V,K){return(0,ue.ST)(V._delegate,{forceOwnership:K})}enableMultiTabIndexedDbPersistence(V){return(0,ue.fH)(V._delegate)}clearIndexedDbPersistence(V){return(0,ue.Fc)(V._delegate)}}class ye{constructor(V,K,ze){this._delegate=K,this._persistenceProvider=ze,this.INTERNAL={delete:()=>this.terminate()},V instanceof ue.l7||(this._appCompat=V)}get _databaseId(){return this._delegate._databaseId}settings(V){const K=this._delegate._getSettings();!V.merge&&K.host!==V.host&&(0,ue.yq)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),V.merge&&delete(V=Object.assign(Object.assign({},K),V)).merge,this._delegate._setSettings(V)}useEmulator(V,K,ze={}){(0,ue.at)(this._delegate,V,K,ze)}enableNetwork(){return(0,ue.Ix)(this._delegate)}disableNetwork(){return(0,ue.TF)(this._delegate)}enablePersistence(V){let K=!1,ze=!1;return V&&(K=!!V.synchronizeTabs,ze=!!V.experimentalForceOwningTab,(0,ue.Wi)("synchronizeTabs",K,"experimentalForceOwningTab",ze)),K?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,ze)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return(0,ue.Mx)(this._delegate)}onSnapshotsInSync(V){return(0,ue.sc)(this._delegate,V)}get app(){if(!this._appCompat)throw new ue.WA("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(V){try{return new qt(this,(0,ue.hJ)(this._delegate,V))}catch(K){throw it(K,"collection()","Firestore.collection()")}}doc(V){try{return new Ht(this,(0,ue.JU)(this._delegate,V))}catch(K){throw it(K,"doc()","Firestore.doc()")}}collectionGroup(V){try{return new Cn(this,(0,ue.B$)(this._delegate,V))}catch(K){throw it(K,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(V){return(0,ue.i3)(this._delegate,K=>V(new De(this,K)))}batch(){return(0,ue.qY)(this._delegate),new Et(new ue.PU(this._delegate,V=>(0,ue.GL)(this._delegate,V)))}loadBundle(V){return(0,ue.Pb)(this._delegate,V)}namedQuery(V){return(0,ue.L$)(this._delegate,V).then(K=>K?new Cn(this,K):null)}}class _e extends ue.u7{constructor(V){super(),this.firestore=V}convertBytes(V){return new we(new ue.Jj(V))}convertReference(V){const K=this.convertDocumentKey(V,this.firestore._databaseId);return Ht.forKey(K,this.firestore,null)}}class De{constructor(V,K){this._firestore=V,this._delegate=K,this._userDataWriter=new _e(V)}get(V){const K=Ln(V);return this._delegate.get(K).then(ze=>new tn(this._firestore,new ue.xU(this._firestore._delegate,this._userDataWriter,ze._key,ze._document,ze.metadata,K.converter)))}set(V,K,ze){const Ce=Ln(V);return ze?(w("Transaction.set",ze),this._delegate.set(Ce,K,ze)):this._delegate.set(Ce,K),this}update(V,K,ze,...Ce){const We=Ln(V);return 2===arguments.length?this._delegate.update(We,K):this._delegate.update(We,K,ze,...Ce),this}delete(V){const K=Ln(V);return this._delegate.delete(K),this}}class Et{constructor(V){this._delegate=V}set(V,K,ze){const Ce=Ln(V);return ze?(w("WriteBatch.set",ze),this._delegate.set(Ce,K,ze)):this._delegate.set(Ce,K),this}update(V,K,ze,...Ce){const We=Ln(V);return 2===arguments.length?this._delegate.update(We,K):this._delegate.update(We,K,ze,...Ce),this}delete(V){const K=Ln(V);return this._delegate.delete(K),this}commit(){return this._delegate.commit()}}class It{constructor(V,K,ze){this._firestore=V,this._userDataWriter=K,this._delegate=ze}fromFirestore(V,K){const ze=new ue.$q(this._firestore._delegate,this._userDataWriter,V._key,V._document,V.metadata,null);return this._delegate.fromFirestore(new Hn(this._firestore,ze),null!=K?K:{})}toFirestore(V,K){return K?this._delegate.toFirestore(V,K):this._delegate.toFirestore(V)}static getInstance(V,K){const ze=It.INSTANCES;let Ce=ze.get(V);Ce||(Ce=new WeakMap,ze.set(V,Ce));let We=Ce.get(K);return We||(We=new It(V,new _e(V),K),Ce.set(K,We)),We}}It.INSTANCES=new WeakMap;class Ht{constructor(V,K){this.firestore=V,this._delegate=K,this._userDataWriter=new _e(V)}static forPath(V,K,ze){if(V.length%2!=0)throw new ue.WA("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${V.canonicalString()} has ${V.length}`);return new Ht(K,new ue.my(K._delegate,ze,new ue.Ky(V)))}static forKey(V,K,ze){return new Ht(K,new ue.my(K._delegate,ze,V))}get id(){return this._delegate.id}get parent(){return new qt(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(V){try{return new qt(this.firestore,(0,ue.hJ)(this._delegate,V))}catch(K){throw it(K,"collection()","DocumentReference.collection()")}}isEqual(V){return(V=(0,de.m9)(V))instanceof ue.my&&(0,ue.Eo)(this._delegate,V)}set(V,K){K=w("DocumentReference.set",K);try{return K?(0,ue.pl)(this._delegate,V,K):(0,ue.pl)(this._delegate,V)}catch(ze){throw it(ze,"setDoc()","DocumentReference.set()")}}update(V,K,...ze){try{return 1===arguments.length?(0,ue.r7)(this._delegate,V):(0,ue.r7)(this._delegate,V,K,...ze)}catch(Ce){throw it(Ce,"updateDoc()","DocumentReference.update()")}}delete(){return(0,ue.oe)(this._delegate)}onSnapshot(...V){const K=kt(V),ze=xt(V,Ce=>new tn(this.firestore,new ue.xU(this.firestore._delegate,this._userDataWriter,Ce._key,Ce._document,Ce.metadata,this._delegate.converter)));return(0,ue.cf)(this._delegate,K,ze)}get(V){let K;return K="cache"===(null==V?void 0:V.source)?(0,ue.kl)(this._delegate):"server"===(null==V?void 0:V.source)?(0,ue.Xk)(this._delegate):(0,ue.QT)(this._delegate),K.then(ze=>new tn(this.firestore,new ue.xU(this.firestore._delegate,this._userDataWriter,ze._key,ze._document,ze.metadata,this._delegate.converter)))}withConverter(V){return new Ht(this.firestore,this._delegate.withConverter(V?It.getInstance(this.firestore,V):null))}}function it(he,V,K){return he.message=he.message.replace(V,K),he}function kt(he){for(const V of he)if("object"==typeof V&&!Fe(V))return V;return{}}function xt(he,V){var K,ze;let Ce;return Ce=Fe(he[0])?he[0]:Fe(he[1])?he[1]:"function"==typeof he[0]?{next:he[0],error:he[1],complete:he[2]}:{next:he[1],error:he[2],complete:he[3]},{next:We=>{Ce.next&&Ce.next(V(We))},error:null===(K=Ce.error)||void 0===K?void 0:K.bind(Ce),complete:null===(ze=Ce.complete)||void 0===ze?void 0:ze.bind(Ce)}}class tn{constructor(V,K){this._firestore=V,this._delegate=K}get ref(){return new Ht(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(V){return this._delegate.data(V)}get(V,K){return this._delegate.get(V,K)}isEqual(V){return(0,ue.qK)(this._delegate,V._delegate)}}class Hn extends tn{data(V){const K=this._delegate.data(V);return(0,ue.K9)(void 0!==K,"Document in a QueryDocumentSnapshot should exist"),K}}class Cn{constructor(V,K){this.firestore=V,this._delegate=K,this._userDataWriter=new _e(V)}where(V,K,ze){try{return new Cn(this.firestore,(0,ue.IO)(this._delegate,(0,ue.ar)(V,K,ze)))}catch(Ce){throw it(Ce,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(V,K){try{return new Cn(this.firestore,(0,ue.IO)(this._delegate,(0,ue.Xo)(V,K)))}catch(ze){throw it(ze,/(orderBy|where)\(\)/,"Query.$1()")}}limit(V){try{return new Cn(this.firestore,(0,ue.IO)(this._delegate,(0,ue.b9)(V)))}catch(K){throw it(K,"limit()","Query.limit()")}}limitToLast(V){try{return new Cn(this.firestore,(0,ue.IO)(this._delegate,(0,ue.vh)(V)))}catch(K){throw it(K,"limitToLast()","Query.limitToLast()")}}startAt(...V){try{return new Cn(this.firestore,(0,ue.IO)(this._delegate,(0,ue.e0)(...V)))}catch(K){throw it(K,"startAt()","Query.startAt()")}}startAfter(...V){try{return new Cn(this.firestore,(0,ue.IO)(this._delegate,(0,ue.TQ)(...V)))}catch(K){throw it(K,"startAfter()","Query.startAfter()")}}endBefore(...V){try{return new Cn(this.firestore,(0,ue.IO)(this._delegate,(0,ue.Lx)(...V)))}catch(K){throw it(K,"endBefore()","Query.endBefore()")}}endAt(...V){try{return new Cn(this.firestore,(0,ue.IO)(this._delegate,(0,ue.Wu)(...V)))}catch(K){throw it(K,"endAt()","Query.endAt()")}}isEqual(V){return(0,ue.iE)(this._delegate,V._delegate)}get(V){let K;return K="cache"===(null==V?void 0:V.source)?(0,ue.UQ)(this._delegate):"server"===(null==V?void 0:V.source)?(0,ue.zN)(this._delegate):(0,ue.PL)(this._delegate),K.then(ze=>new An(this.firestore,new ue.W(this.firestore._delegate,this._userDataWriter,this._delegate,ze._snapshot)))}onSnapshot(...V){const K=kt(V),ze=xt(V,Ce=>new An(this.firestore,new ue.W(this.firestore._delegate,this._userDataWriter,this._delegate,Ce._snapshot)));return(0,ue.cf)(this._delegate,K,ze)}withConverter(V){return new Cn(this.firestore,this._delegate.withConverter(V?It.getInstance(this.firestore,V):null))}}class Bn{constructor(V,K){this._firestore=V,this._delegate=K}get type(){return this._delegate.type}get doc(){return new Hn(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class An{constructor(V,K){this._firestore=V,this._delegate=K}get query(){return new Cn(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(V=>new Hn(this._firestore,V))}docChanges(V){return this._delegate.docChanges(V).map(K=>new Bn(this._firestore,K))}forEach(V,K){this._delegate.forEach(ze=>{V.call(K,new Hn(this._firestore,ze))})}isEqual(V){return(0,ue.qK)(this._delegate,V._delegate)}}class qt extends Cn{constructor(V,K){super(V,K),this.firestore=V,this._delegate=K}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const V=this._delegate.parent;return V?new Ht(this.firestore,V):null}doc(V){try{return new Ht(this.firestore,void 0===V?(0,ue.JU)(this._delegate):(0,ue.JU)(this._delegate,V))}catch(K){throw it(K,"doc()","CollectionReference.doc()")}}add(V){return(0,ue.ET)(this._delegate,V).then(K=>new Ht(this.firestore,K))}isEqual(V){return(0,ue.Eo)(this._delegate,V._delegate)}withConverter(V){return new qt(this.firestore,this._delegate.withConverter(V?It.getInstance(this.firestore,V):null))}}function Ln(he){return(0,ue.Cf)(he,ue.my)}class er{constructor(...V){this._delegate=new ue.Lz(...V)}static documentId(){return new er(ue.Xb.keyField().canonicalString())}isEqual(V){return(V=(0,de.m9)(V))instanceof ue.Lz&&this._delegate._internalPath.isEqual(V._internalPath)}}class tr{constructor(V){this._delegate=V}static serverTimestamp(){const V=(0,ue.Bt)();return V._methodName="FieldValue.serverTimestamp",new tr(V)}static delete(){const V=(0,ue.AK)();return V._methodName="FieldValue.delete",new tr(V)}static arrayUnion(...V){const K=(0,ue.vr)(...V);return K._methodName="FieldValue.arrayUnion",new tr(K)}static arrayRemove(...V){const K=(0,ue.Ab)(...V);return K._methodName="FieldValue.arrayRemove",new tr(K)}static increment(V){const K=(0,ue.nP)(V);return K._methodName="FieldValue.increment",new tr(K)}isEqual(V){return this._delegate.isEqual(V._delegate)}}const Gn={Firestore:ye,GeoPoint:ue.F8,Timestamp:ue.EK,Blob:we,Transaction:De,WriteBatch:Et,DocumentReference:Ht,DocumentSnapshot:tn,Query:Cn,QueryDocumentSnapshot:Hn,QuerySnapshot:An,CollectionReference:qt,FieldPath:er,FieldValue:tr,setLogLevel:function(he){(0,ue.Ub)(he)},CACHE_SIZE_UNLIMITED:ue.IX};var he;(function(he,V){he.INTERNAL.registerComponent(new Ie.wA("firestore-compat",K=>((V,K)=>new ye(V,K,new ge))(K.getProvider("app-compat").getImmediate(),K.getProvider("firestore").getImmediate()),"PUBLIC").setServiceProps(Object.assign({},Gn)))})(he=Ze.Z),he.registerVersion("@firebase/firestore-compat","0.1.13");var bn=b(948),Vn=b(7128);function kn(he,V){return function(he,V=C.z){return new $.y(K=>{let ze;return null!=V?V.schedule(()=>{ze=he.onSnapshot({includeMetadataChanges:!0},K)}):ze=he.onSnapshot({includeMetadataChanges:!0},K),()=>{null!=ze&&ze()}})}(he,V)}function ar(he,V){return kn(he,V).pipe((0,Z.U)(K=>({payload:K,type:"query"})))}function Kt(he,V){return ar(he,V).pipe((0,j.O)(void 0),(0,W.G)(),(0,Z.U)(([K,ze])=>{const Ce=ze.payload.docChanges(),We=Ce.map(st=>({type:st.type,payload:st}));return K&&JSON.stringify(K.payload.metadata)!==JSON.stringify(ze.payload.metadata)&&ze.payload.docs.forEach((st,vt)=>{const Dt=Ce.find(St=>St.doc.ref.isEqual(st.ref)),mt=null==K?void 0:K.payload.docs.find(St=>St.ref.isEqual(st.ref));Dt&&JSON.stringify(Dt.doc.metadata)===JSON.stringify(st.metadata)||!Dt&&mt&&JSON.stringify(mt.metadata)===JSON.stringify(st.metadata)||We.push({type:"modified",payload:{oldIndex:vt,newIndex:vt,type:"modified",doc:st}})}),We}))}function en(he,V,K){return Kt(he,K).pipe((0,z.R)((ze,Ce)=>function(he,V,K){return V.forEach(ze=>{K.indexOf(ze.type)>-1&&(he=function(he,V){switch(V.type){case"added":if(!he[V.newIndex]||!he[V.newIndex].doc.ref.isEqual(V.doc.ref))return Zt(he,V.newIndex,0,V);break;case"modified":if(null==he[V.oldIndex]||he[V.oldIndex].doc.ref.isEqual(V.doc.ref)){if(V.oldIndex!==V.newIndex){const K=he.slice();return K.splice(V.oldIndex,1),K.splice(V.newIndex,0,V),K}return Zt(he,V.newIndex,1,V)}break;case"removed":if(he[V.oldIndex]&&he[V.oldIndex].doc.ref.isEqual(V.doc.ref))return Zt(he,V.oldIndex,1)}return he}(he,ze))}),he}(ze,Ce.map(We=>We.payload),V),[]),(0,q.x)(),(0,Z.U)(ze=>ze.map(Ce=>({type:Ce.type,payload:Ce}))))}function Zt(he,V,K,...ze){const Ce=he.slice();return Ce.splice(V,K,...ze),Ce}function yn(he){return(!he||0===he.length)&&(he=["added","removed","modified"]),he}b(127);class Lt{constructor(V,K,ze){this.ref=V,this.query=K,this.afs=ze}stateChanges(V){let K=Kt(this.query,this.afs.schedulers.outsideAngular);return V&&V.length>0&&(K=K.pipe((0,Z.U)(ze=>ze.filter(Ce=>V.indexOf(Ce.type)>-1)))),K.pipe((0,j.O)(void 0),(0,W.G)(),(0,te.h)(([ze,Ce])=>Ce.length>0||!ze),(0,Z.U)(([ze,Ce])=>Ce),H.iC)}auditTrail(V){return this.stateChanges(V).pipe((0,z.R)((K,ze)=>[...K,...ze],[]))}snapshotChanges(V){const K=yn(V);return en(this.query,K,this.afs.schedulers.outsideAngular).pipe(H.iC)}valueChanges(V={}){return ar(this.query,this.afs.schedulers.outsideAngular).pipe((0,Z.U)(K=>K.payload.docs.map(ze=>V.idField?Object.assign(Object.assign({},ze.data()),{[V.idField]:ze.id}):ze.data())),H.iC)}get(V){return(0,ce.D)(this.query.get(V)).pipe(H.iC)}add(V){return this.ref.add(V)}doc(V){return new jt(this.ref.doc(V),this.afs)}}class jt{constructor(V,K){this.ref=V,this.afs=K}set(V,K){return this.ref.set(V,K)}update(V){return this.ref.update(V)}delete(){return this.ref.delete()}collection(V,K){const ze=this.ref.collection(V),{ref:Ce,query:We}=Nr(ze,K);return new Lt(Ce,We,this.afs)}snapshotChanges(){return function(he,V){return kn(he,V).pipe((0,j.O)(void 0),(0,W.G)(),(0,Z.U)(([K,ze])=>ze.exists?(null==K?void 0:K.exists)?{payload:ze,type:"modified"}:{payload:ze,type:"added"}:{payload:ze,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(H.iC)}valueChanges(V={}){return this.snapshotChanges().pipe((0,Z.U)(({payload:K})=>V.idField?Object.assign(Object.assign({},K.data()),{[V.idField]:K.id}):K.data()))}get(V){return(0,ce.D)(this.ref.get(V)).pipe(H.iC)}}class _n{constructor(V,K){this.query=V,this.afs=K}stateChanges(V){return V&&0!==V.length?Kt(this.query,this.afs.schedulers.outsideAngular).pipe((0,Z.U)(K=>K.filter(ze=>V.indexOf(ze.type)>-1)),(0,te.h)(K=>K.length>0),H.iC):Kt(this.query,this.afs.schedulers.outsideAngular).pipe(H.iC)}auditTrail(V){return this.stateChanges(V).pipe((0,z.R)((K,ze)=>[...K,...ze],[]))}snapshotChanges(V){const K=yn(V);return en(this.query,K,this.afs.schedulers.outsideAngular).pipe(H.iC)}valueChanges(V={}){return ar(this.query,this.afs.schedulers.outsideAngular).pipe((0,Z.U)(ze=>ze.payload.docs.map(Ce=>V.idField?Object.assign({[V.idField]:Ce.id},Ce.data()):Ce.data())),H.iC)}get(V){return(0,ce.D)(this.query.get(V)).pipe(H.iC)}}const sr=new f.OlP("angularfire2.enableFirestorePersistence"),Tr=new f.OlP("angularfire2.firestore.persistenceSettings"),Fn=new f.OlP("angularfire2.firestore.settings"),ur=new f.OlP("angularfire2.firestore.use-emulator");function Nr(he,V=(K=>K)){return{query:V(he),ref:he}}let xe=(()=>{class he{constructor(K,ze,Ce,We,st,vt,Dt,mt,St,rn,vn,Ue,Oe,pe,Ve,rt,$t){this.schedulers=Dt;const sn=(0,Te.on)(K,vt,ze),En=St;rn&&(0,bn.nw)(sn,vt,vn,Oe,pe,Ve,Ue,rt),[this.firestore,this.persistenceEnabled$]=(0,Te.cc)(`${sn.name}.firestore`,"AngularFirestore",sn.name,()=>{const lr=vt.runOutsideAngular(()=>sn.firestore());if(We&&lr.settings(We),En&&lr.useEmulator(...En),Ce&&!(0,Ae.PM)(st)){const ii=()=>{try{return(0,ce.D)(lr.enablePersistence(mt||void 0).then(()=>!0,()=>!1))}catch(Ur){return"undefined"!=typeof console&&console.warn(Ur),(0,x.of)(!1)}};return[lr,vt.runOutsideAngular(ii)]}return[lr,(0,x.of)(!1)]},[We,En,Ce])}collection(K,ze){let Ce;Ce="string"==typeof K?this.firestore.collection(K):K;const{ref:We,query:st}=Nr(Ce,ze),vt=this.schedulers.ngZone.run(()=>We);return new Lt(vt,st,this)}collectionGroup(K,ze){const Ce=ze||(st=>st),We=this.firestore.collectionGroup(K);return new _n(Ce(We),this)}doc(K){let ze;ze="string"==typeof K?this.firestore.doc(K):K;const Ce=this.schedulers.ngZone.run(()=>ze);return new jt(Ce,this)}createId(){return this.firestore.collection("_").doc().id}}return he.\u0275fac=function(K){return new(K||he)(f.LFG(Te.Dh),f.LFG(Te.xv,8),f.LFG(sr,8),f.LFG(Fn,8),f.LFG(f.Lbi),f.LFG(f.R0b),f.LFG(H.HU),f.LFG(Tr,8),f.LFG(ur,8),f.LFG(bn.zQ,8),f.LFG(bn.Qv,8),f.LFG(bn.L6,8),f.LFG(bn._Q,8),f.LFG(bn.rT,8),f.LFG(bn.lh,8),f.LFG(bn.f7,8),f.LFG(Vn.nm,8))},he.\u0275prov=f.Yz7({token:he,factory:he.\u0275fac,providedIn:"any"}),he})()},2011:(gt,Ne,b)=>{"use strict";b.d(Ne,{hO:()=>Te,xv:()=>Z,Dh:()=>W,Ot:()=>j,GT:()=>H,cc:()=>Ae,on:()=>z,pX:()=>x});var f=b(5e3),C=b(127),$=b(880);gt=b.hmd(gt);const ce=["ngOnDestroy"],x=(de,Ie,me,G={})=>new Proxy(de,{get:(w,ae)=>me.runOutsideAngular(()=>{var re;if(de[ae])return(null===(re=null==G?void 0:G.spy)||void 0===re?void 0:re.get)&&G.spy.get(ae,de[ae]),de[ae];if(ce.indexOf(ae)>-1)return()=>{};const we=Ie.toPromise().then(Fe=>{const le=Fe&&Fe[ae];return"function"==typeof le?le.bind(Fe):le&&le.then?le.then(ge=>me.run(()=>ge)):me.run(()=>le)});return new Proxy(()=>{},{get:(Fe,le)=>we[le],apply:(Fe,le,ge)=>we.then(ye=>{var _e;const He=ye&&ye(...ge);return(null===(_e=null==G?void 0:G.spy)||void 0===_e?void 0:_e.apply)&&G.spy.apply(ae,ge,He),He})})})}),H=(de,Ie)=>{Ie.forEach(me=>{Object.getOwnPropertyNames(me.prototype||me).forEach(G=>{Object.defineProperty(de.prototype,G,Object.getOwnPropertyDescriptor(me.prototype||me,G))})})};class j{constructor(Ie){return Ie}}const W=new f.OlP("angularfire2.app.options"),Z=new f.OlP("angularfire2.app.name");function z(de,Ie,me){const w="object"==typeof me&&me||{};w.name=w.name||"string"==typeof me&&me||"[DEFAULT]";const re=C.Z.apps.filter(we=>we&&we.name===w.name)[0]||Ie.runOutsideAngular(()=>C.Z.initializeApp(de,w));try{JSON.stringify(de)!==JSON.stringify(re.options)&&q("error",`${re.name} Firebase App already initialized with different options${gt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(we){}return new j(re)}const q=(de,...Ie)=>{(0,f.X6Q)()&&"undefined"!=typeof console&&console[de](...Ie)},te={provide:j,useFactory:z,deps:[W,f.R0b,[new f.FiY,Z]]};let Te=(()=>{class de{constructor(me){C.Z.registerVersion("angularfire",$.q4.full,"core"),C.Z.registerVersion("angularfire",$.q4.full,"app-compat"),C.Z.registerVersion("angular",f.q4F.full,me.toString())}static initializeApp(me,G){return{ngModule:de,providers:[{provide:W,useValue:me},{provide:Z,useValue:G}]}}}return de.\u0275fac=function(me){return new(me||de)(f.LFG(f.Lbi))},de.\u0275mod=f.oAB({type:de}),de.\u0275inj=f.cJS({providers:[te]}),de})();function Ae(de,Ie,me,G,w){const[,ae,re]=globalThis.\u0275AngularfireInstanceCache.find(we=>we[0]===de)||[];if(ae)return function(de,Ie){try{return de.toString()===Ie.toString()}catch(me){return de===Ie}}(w,re)||(ue("error",`${Ie} was already initialized on the ${me} Firebase App with different settings.${Ze?" You may need to reload as Firebase is not HMR aware.":""}`),ue("warn",{is:w,was:re})),ae;{const we=G();return globalThis.\u0275AngularfireInstanceCache.push([de,we,w]),we}}const Ze=!!gt.hot,ue=(de,...Ie)=>{(0,f.X6Q)()&&"undefined"!=typeof console&&console[de](...Ie)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},880:(gt,Ne,b)=>{"use strict";b.d(Ne,{q4:()=>ki,iC:()=>Tt,fc:()=>ke,HU:()=>R,vb:()=>Oo,JM:()=>Rs,nk:()=>Os,u3:()=>wr});var f=b(5e3),C=b(5867),$=b(5861),ce=b(9681),x=b(2090),H=b(4859),j=b(1877);b(2833);const Z="@firebase/remote-config",z="0.3.4",Ae=new x.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class It{constructor(ie,Le,et,yt){this.client=ie,this.storage=Le,this.storageCache=et,this.logger=yt}isCachedDataFresh(ie,Le){if(!Le)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const et=Date.now()-Le,yt=et<=ie;return this.logger.debug(`Config fetch cache check. Cache age millis: ${et}. Cache max age millis (minimumFetchIntervalMillis setting): ${ie}. Is cache hit: ${yt}.`),yt}fetch(ie){var Le=this;return(0,$.Z)(function*(){const[et,yt]=yield Promise.all([Le.storage.getLastSuccessfulFetchTimestampMillis(),Le.storage.getLastSuccessfulFetchResponse()]);if(yt&&Le.isCachedDataFresh(ie.cacheMaxAgeMillis,et))return yt;ie.eTag=yt&&yt.eTag;const pt=yield Le.client.fetch(ie),In=[Le.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===pt.status&&In.push(Le.storage.setLastSuccessfulFetchResponse(pt)),yield Promise.all(In),pt})()}}function Ht(oe=navigator){return oe.languages&&oe.languages[0]||oe.language}class it{constructor(ie,Le,et,yt,pt,In){this.firebaseInstallations=ie,this.sdkVersion=Le,this.namespace=et,this.projectId=yt,this.apiKey=pt,this.appId=In}fetch(ie){var Le=this;return(0,$.Z)(function*(){const[et,yt]=yield Promise.all([Le.firebaseInstallations.getId(),Le.firebaseInstallations.getToken()]),In=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${Le.projectId}/namespaces/${Le.namespace}:fetch?key=${Le.apiKey}`,Ar={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":ie.eTag||"*"},Tn={sdk_version:Le.sdkVersion,app_instance_id:et,app_instance_id_token:yt,app_id:Le.appId,language_code:Ht()},Dr={method:"POST",headers:Ar,body:JSON.stringify(Tn)},vr=fetch(In,Dr),Ci=new Promise((cs,_s)=>{ie.signal.addEventListener(()=>{const Wi=new Error("The operation was aborted.");Wi.name="AbortError",_s(Wi)})});let ls;try{yield Promise.race([vr,Ci]),ls=yield vr}catch(cs){let _s="fetch-client-network";throw"AbortError"===cs.name&&(_s="fetch-timeout"),Ae.create(_s,{originalErrorMessage:cs.message})}let ht=ls.status;const Yn=ls.headers.get("ETag")||void 0;let to,Wn;if(200===ls.status){let cs;try{cs=yield ls.json()}catch(_s){throw Ae.create("fetch-client-parse",{originalErrorMessage:_s.message})}to=cs.entries,Wn=cs.state}if("INSTANCE_STATE_UNSPECIFIED"===Wn?ht=500:"NO_CHANGE"===Wn?ht=304:("NO_TEMPLATE"===Wn||"EMPTY_CONFIG"===Wn)&&(to={}),304!==ht&&200!==ht)throw Ae.create("fetch-status",{httpStatus:ht});return{status:ht,eTag:Yn,config:to}})()}}class tn{constructor(ie,Le){this.client=ie,this.storage=Le}fetch(ie){var Le=this;return(0,$.Z)(function*(){const et=(yield Le.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return Le.attemptFetch(ie,et)})()}attemptFetch(ie,{throttleEndTimeMillis:Le,backoffCount:et}){var yt=this;return(0,$.Z)(function*(){yield function(oe,ie){return new Promise((Le,et)=>{const yt=Math.max(ie-Date.now(),0),pt=setTimeout(Le,yt);oe.addEventListener(()=>{clearTimeout(pt),et(Ae.create("fetch-throttle",{throttleEndTimeMillis:ie}))})})}(ie.signal,Le);try{const pt=yield yt.client.fetch(ie);return yield yt.storage.deleteThrottleMetadata(),pt}catch(pt){if(!function(oe){if(!(oe instanceof x.ZR&&oe.customData))return!1;const ie=Number(oe.customData.httpStatus);return 429===ie||500===ie||503===ie||504===ie}(pt))throw pt;const In={throttleEndTimeMillis:Date.now()+(0,x.$s)(et),backoffCount:et+1};return yield yt.storage.setThrottleMetadata(In),yt.attemptFetch(ie,In)}})()}}class Bn{constructor(ie,Le,et,yt,pt){this.app=ie,this._client=Le,this._storageCache=et,this._storage=yt,this._logger=pt,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function An(oe,ie){const Le=oe.target.error||void 0;return Ae.create(ie,{originalErrorMessage:Le&&Le.message})}const qt="app_namespace_store";class Gn{constructor(ie,Le,et,yt=function(){return new Promise((oe,ie)=>{try{const Le=indexedDB.open("firebase_remote_config",1);Le.onerror=et=>{ie(An(et,"storage-open"))},Le.onsuccess=et=>{oe(et.target.result)},Le.onupgradeneeded=et=>{0===et.oldVersion&&et.target.result.createObjectStore(qt,{keyPath:"compositeKey"})}}catch(Le){ie(Ae.create("storage-open",{originalErrorMessage:Le}))}})}()){this.appId=ie,this.appName=Le,this.namespace=et,this.openDbPromise=yt}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(ie){return this.set("last_fetch_status",ie)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(ie){return this.set("last_successful_fetch_timestamp_millis",ie)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(ie){return this.set("last_successful_fetch_response",ie)}getActiveConfig(){return this.get("active_config")}setActiveConfig(ie){return this.set("active_config",ie)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(ie){return this.set("active_config_etag",ie)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(ie){return this.set("throttle_metadata",ie)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(ie){var Le=this;return(0,$.Z)(function*(){const et=yield Le.openDbPromise;return new Promise((yt,pt)=>{const Ar=et.transaction([qt],"readonly").objectStore(qt),Tn=Le.createCompositeKey(ie);try{const Dr=Ar.get(Tn);Dr.onerror=vr=>{pt(An(vr,"storage-get"))},Dr.onsuccess=vr=>{const Ci=vr.target.result;yt(Ci?Ci.value:void 0)}}catch(Dr){pt(Ae.create("storage-get",{originalErrorMessage:Dr&&Dr.message}))}})})()}set(ie,Le){var et=this;return(0,$.Z)(function*(){const yt=yield et.openDbPromise;return new Promise((pt,In)=>{const Tn=yt.transaction([qt],"readwrite").objectStore(qt),Dr=et.createCompositeKey(ie);try{const vr=Tn.put({compositeKey:Dr,value:Le});vr.onerror=Ci=>{In(An(Ci,"storage-set"))},vr.onsuccess=()=>{pt()}}catch(vr){In(Ae.create("storage-set",{originalErrorMessage:vr&&vr.message}))}})})()}delete(ie){var Le=this;return(0,$.Z)(function*(){const et=yield Le.openDbPromise;return new Promise((yt,pt)=>{const Ar=et.transaction([qt],"readwrite").objectStore(qt),Tn=Le.createCompositeKey(ie);try{const Dr=Ar.delete(Tn);Dr.onerror=vr=>{pt(An(vr,"storage-delete"))},Dr.onsuccess=()=>{yt()}}catch(Dr){pt(Ae.create("storage-delete",{originalErrorMessage:Dr&&Dr.message}))}})})()}createCompositeKey(ie){return[this.appId,this.appName,this.namespace,ie].join()}}class cr{constructor(ie){this.storage=ie}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var ie=this;return(0,$.Z)(function*(){const Le=ie.storage.getLastFetchStatus(),et=ie.storage.getLastSuccessfulFetchTimestampMillis(),yt=ie.storage.getActiveConfig(),pt=yield Le;pt&&(ie.lastFetchStatus=pt);const In=yield et;In&&(ie.lastSuccessfulFetchTimestampMillis=In);const Ar=yield yt;Ar&&(ie.activeConfig=Ar)})()}setLastFetchStatus(ie){return this.lastFetchStatus=ie,this.storage.setLastFetchStatus(ie)}setLastSuccessfulFetchTimestampMillis(ie){return this.lastSuccessfulFetchTimestampMillis=ie,this.storage.setLastSuccessfulFetchTimestampMillis(ie)}setActiveConfig(ie){return this.activeConfig=ie,this.storage.setActiveConfig(ie)}}function nn(){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,$.Z)(function*(){if(!(0,x.hl)())return!1;try{return yield(0,x.eu)()}catch(oe){return!1}})).apply(this,arguments)}(0,ce._registerComponent)(new H.wA("remote-config",function(ie,{instanceIdentifier:Le}){const et=ie.getProvider("app").getImmediate(),yt=ie.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Ae.create("registration-window");if(!(0,x.hl)())throw Ae.create("indexed-db-unavailable");const{projectId:pt,apiKey:In,appId:Ar}=et.options;if(!pt)throw Ae.create("registration-project-id");if(!In)throw Ae.create("registration-api-key");if(!Ar)throw Ae.create("registration-app-id");const Tn=new Gn(Ar,et.name,Le=Le||"firebase"),Dr=new cr(Tn),vr=new j.Yd(Z);vr.logLevel=j.in.ERROR;const Ci=new it(yt,ce.SDK_VERSION,Le,pt,In,Ar),ls=new tn(Ci,Tn),ht=new It(ls,Tn,Dr,vr),Yn=new Bn(et,ht,Dr,Tn,vr);return function(oe){const ie=(0,x.m9)(oe);ie._initializePromise||(ie._initializePromise=ie._storageCache.loadFromStorage().then(()=>{ie._isInitializationComplete=!0}))}(Yn),Yn},"PUBLIC").setMultipleInstances(!0)),(0,ce.registerVersion)(Z,z),(0,ce.registerVersion)(Z,z,"esm2017");var kn=b(6033);const rr="/firebase-messaging-sw.js",ar="/firebase-cloud-messaging-push-scope",Kt="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",un="google.c.a.c_id",Zt="google.c.a.c_l",jn="google.c.a.ts",yn="google.c.a.e";var jt=(()=>{return(oe=jt||(jt={})).PUSH_RECEIVED="push-received",oe.NOTIFICATION_CLICKED="notification-clicked",jt;var oe})();function _n(oe){const ie=new Uint8Array(oe);return btoa(String.fromCharCode(...ie)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function sr(oe){const Le=(oe+"=".repeat((4-oe.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),et=atob(Le),yt=new Uint8Array(et.length);for(let pt=0;pt<et.length;++pt)yt[pt]=et.charCodeAt(pt);return yt}const Tr="fcm_token_details_db",ur="fcm_token_object_Store";function Nr(oe){return xe.apply(this,arguments)}function xe(){return xe=(0,$.Z)(function*(oe){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(pt=>pt.name).includes(Tr))return null;let ie=null;return(yield(0,kn.openDb)(Tr,5,function(){var et=(0,$.Z)(function*(yt){var pt;if(yt.oldVersion<2||!yt.objectStoreNames.contains(ur))return;const In=yt.transaction.objectStore(ur),Ar=yield In.index("fcmSenderId").get(oe);if(yield In.clear(),Ar)if(2===yt.oldVersion){const Tn=Ar;if(!Tn.auth||!Tn.p256dh||!Tn.endpoint)return;ie={token:Tn.fcmToken,createTime:null!==(pt=Tn.createTime)&&void 0!==pt?pt:Date.now(),subscriptionOptions:{auth:Tn.auth,p256dh:Tn.p256dh,endpoint:Tn.endpoint,swScope:Tn.swScope,vapidKey:"string"==typeof Tn.vapidKey?Tn.vapidKey:_n(Tn.vapidKey)}}}else if(3===yt.oldVersion){const Tn=Ar;ie={token:Tn.fcmToken,createTime:Tn.createTime,subscriptionOptions:{auth:_n(Tn.auth),p256dh:_n(Tn.p256dh),endpoint:Tn.endpoint,swScope:Tn.swScope,vapidKey:_n(Tn.vapidKey)}}}else if(4===yt.oldVersion){const Tn=Ar;ie={token:Tn.fcmToken,createTime:Tn.createTime,subscriptionOptions:{auth:_n(Tn.auth),p256dh:_n(Tn.p256dh),endpoint:Tn.endpoint,swScope:Tn.swScope,vapidKey:_n(Tn.vapidKey)}}}});return function(yt){return et.apply(this,arguments)}}())).close(),yield(0,kn.deleteDb)(Tr),yield(0,kn.deleteDb)("fcm_vapid_details_db"),yield(0,kn.deleteDb)("undefined"),Me(ie)?ie:null}),xe.apply(this,arguments)}function Me(oe){if(!oe||!oe.subscriptionOptions)return!1;const{subscriptionOptions:ie}=oe;return"number"==typeof oe.createTime&&oe.createTime>0&&"string"==typeof oe.token&&oe.token.length>0&&"string"==typeof ie.auth&&ie.auth.length>0&&"string"==typeof ie.p256dh&&ie.p256dh.length>0&&"string"==typeof ie.endpoint&&ie.endpoint.length>0&&"string"==typeof ie.swScope&&ie.swScope.length>0&&"string"==typeof ie.vapidKey&&ie.vapidKey.length>0}const K="firebase-messaging-store";let ze=null;function Ce(){return ze||(ze=(0,kn.openDb)("firebase-messaging-database",1,oe=>{0===oe.oldVersion&&oe.createObjectStore(K)})),ze}function We(oe){return st.apply(this,arguments)}function st(){return(st=(0,$.Z)(function*(oe){const ie=rn(oe),et=yield(yield Ce()).transaction(K).objectStore(K).get(ie);if(et)return et;{const yt=yield Nr(oe.appConfig.senderId);if(yt)return yield vt(oe,yt),yt}})).apply(this,arguments)}function vt(oe,ie){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,$.Z)(function*(oe,ie){const Le=rn(oe),yt=(yield Ce()).transaction(K,"readwrite");return yield yt.objectStore(K).put(ie,Le),yield yt.complete,ie})).apply(this,arguments)}function mt(oe){return St.apply(this,arguments)}function St(){return(St=(0,$.Z)(function*(oe){const ie=rn(oe),et=(yield Ce()).transaction(K,"readwrite");yield et.objectStore(K).delete(ie),yield et.complete})).apply(this,arguments)}function rn({appConfig:oe}){return oe.appId}const Ue=new x.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Oe(oe,ie){return pe.apply(this,arguments)}function pe(){return(pe=(0,$.Z)(function*(oe,ie){const Le=yield lr(oe),et=Ur(ie),yt={method:"POST",headers:Le,body:JSON.stringify(et)};let pt;try{pt=yield(yield fetch(En(oe.appConfig),yt)).json()}catch(In){throw Ue.create("token-subscribe-failed",{errorInfo:In})}if(pt.error)throw Ue.create("token-subscribe-failed",{errorInfo:pt.error.message});if(!pt.token)throw Ue.create("token-subscribe-no-token");return pt.token})).apply(this,arguments)}function Ve(oe,ie){return rt.apply(this,arguments)}function rt(){return(rt=(0,$.Z)(function*(oe,ie){const Le=yield lr(oe),et=Ur(ie.subscriptionOptions),yt={method:"PATCH",headers:Le,body:JSON.stringify(et)};let pt;try{pt=yield(yield fetch(`${En(oe.appConfig)}/${ie.token}`,yt)).json()}catch(In){throw Ue.create("token-update-failed",{errorInfo:In})}if(pt.error)throw Ue.create("token-update-failed",{errorInfo:pt.error.message});if(!pt.token)throw Ue.create("token-update-no-token");return pt.token})).apply(this,arguments)}function $t(oe,ie){return sn.apply(this,arguments)}function sn(){return(sn=(0,$.Z)(function*(oe,ie){const et={method:"DELETE",headers:yield lr(oe)};try{const pt=yield(yield fetch(`${En(oe.appConfig)}/${ie}`,et)).json();if(pt.error)throw Ue.create("token-unsubscribe-failed",{errorInfo:pt.error.message})}catch(yt){throw Ue.create("token-unsubscribe-failed",{errorInfo:yt})}})).apply(this,arguments)}function En({projectId:oe}){return`https://fcmregistrations.googleapis.com/v1/projects/${oe}/registrations`}function lr(oe){return ii.apply(this,arguments)}function ii(){return(ii=(0,$.Z)(function*({appConfig:oe,installations:ie}){const Le=yield ie.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":oe.apiKey,"x-goog-firebase-installations-auth":`FIS ${Le}`})})).apply(this,arguments)}function Ur({p256dh:oe,auth:ie,endpoint:Le,vapidKey:et}){const yt={web:{endpoint:Le,auth:ie,p256dh:oe}};return et!==Kt&&(yt.web.applicationPubKey=et),yt}const Si=6048e5;function si(oe){return _r.apply(this,arguments)}function _r(){return(_r=(0,$.Z)(function*(oe){const ie=yield Qn(oe.swRegistration,oe.vapidKey),Le={vapidKey:oe.vapidKey,swScope:oe.swRegistration.scope,endpoint:ie.endpoint,auth:_n(ie.getKey("auth")),p256dh:_n(ie.getKey("p256dh"))},et=yield We(oe.firebaseDependencies);if(et){if(Jn(et.subscriptionOptions,Le))return Date.now()>=et.createTime+Si?be(oe,{token:et.token,createTime:Date.now(),subscriptionOptions:Le}):et.token;try{yield $t(oe.firebaseDependencies,et.token)}catch(yt){console.warn(yt)}return dt(oe.firebaseDependencies,Le)}return dt(oe.firebaseDependencies,Le)})).apply(this,arguments)}function As(oe){return nr.apply(this,arguments)}function nr(){return(nr=(0,$.Z)(function*(oe){const ie=yield We(oe.firebaseDependencies);ie&&(yield $t(oe.firebaseDependencies,ie.token),yield mt(oe.firebaseDependencies));const Le=yield oe.swRegistration.pushManager.getSubscription();return!Le||Le.unsubscribe()})).apply(this,arguments)}function be(oe,ie){return Xe.apply(this,arguments)}function Xe(){return(Xe=(0,$.Z)(function*(oe,ie){try{const Le=yield Ve(oe.firebaseDependencies,ie),et=Object.assign(Object.assign({},ie),{token:Le,createTime:Date.now()});return yield vt(oe.firebaseDependencies,et),Le}catch(Le){throw yield As(oe),Le}})).apply(this,arguments)}function dt(oe,ie){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,$.Z)(function*(oe,ie){const et={token:yield Oe(oe,ie),createTime:Date.now(),subscriptionOptions:ie};return yield vt(oe,et),et.token})).apply(this,arguments)}function Qn(oe,ie){return dn.apply(this,arguments)}function dn(){return(dn=(0,$.Z)(function*(oe,ie){return(yield oe.pushManager.getSubscription())||oe.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:sr(ie)})})).apply(this,arguments)}function Jn(oe,ie){return ie.vapidKey===oe.vapidKey&&ie.endpoint===oe.endpoint&&ie.auth===oe.auth&&ie.p256dh===oe.p256dh}function Rn(oe){const ie={from:oe.from,collapseKey:oe.collapse_key,messageId:oe.fcmMessageId};return function(oe,ie){if(!ie.notification)return;oe.notification={};const Le=ie.notification.title;Le&&(oe.notification.title=Le);const et=ie.notification.body;et&&(oe.notification.body=et);const yt=ie.notification.image;yt&&(oe.notification.image=yt)}(ie,oe),function(oe,ie){!ie.data||(oe.data=ie.data)}(ie,oe),function(oe,ie){if(!ie.fcmOptions)return;oe.fcmOptions={};const Le=ie.fcmOptions.link;Le&&(oe.fcmOptions.link=Le);const et=ie.fcmOptions.analytics_label;et&&(oe.fcmOptions.analyticsLabel=et)}(ie,oe),ie}function ss(oe){return"object"==typeof oe&&!!oe&&un in oe}function Oi(oe,ie){const Le=[];for(let et=0;et<oe.length;et++)Le.push(oe.charAt(et)),et<ie.length&&Le.push(ie.charAt(et));return Le.join("")}function Zr(oe){return Ue.create("missing-app-config-values",{valueName:oe})}Oi("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Oi("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Rr{constructor(ie,Le,et){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const yt=function(oe){if(!oe||!oe.options)throw Zr("App Configuration Object");if(!oe.name)throw Zr("App Name");const ie=["projectId","apiKey","appId","messagingSenderId"],{options:Le}=oe;for(const et of ie)if(!Le[et])throw Zr(et);return{appName:oe.name,projectId:Le.projectId,apiKey:Le.apiKey,appId:Le.appId,senderId:Le.messagingSenderId}}(ie);this.firebaseDependencies={app:ie,appConfig:yt,installations:Le,analyticsProvider:et}}_delete(){return Promise.resolve()}}function Mr(oe){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,$.Z)(function*(oe){try{oe.swRegistration=yield navigator.serviceWorker.register(rr,{scope:ar}),oe.swRegistration.update().catch(()=>{})}catch(ie){throw Ue.create("failed-service-worker-registration",{browserErrorMessage:ie.message})}})).apply(this,arguments)}function je(oe,ie){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,$.Z)(function*(oe,ie){if(!ie&&!oe.swRegistration&&(yield Mr(oe)),ie||!oe.swRegistration){if(!(ie instanceof ServiceWorkerRegistration))throw Ue.create("invalid-sw-registration");oe.swRegistration=ie}})).apply(this,arguments)}function ft(oe,ie){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,$.Z)(function*(oe,ie){ie?oe.vapidKey=ie:oe.vapidKey||(oe.vapidKey=Kt)})).apply(this,arguments)}function Kn(){return(Kn=(0,$.Z)(function*(oe,ie){if(!navigator)throw Ue.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Ue.create("permission-blocked");return yield ft(oe,null==ie?void 0:ie.vapidKey),yield je(oe,null==ie?void 0:ie.serviceWorkerRegistration),si(oe)})).apply(this,arguments)}function gr(oe,ie,Le){return xn.apply(this,arguments)}function xn(){return(xn=(0,$.Z)(function*(oe,ie,Le){const et=qr(ie);(yield oe.firebaseDependencies.analyticsProvider.get()).logEvent(et,{message_id:Le[un],message_name:Le[Zt],message_time:Le[jn],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function qr(oe){switch(oe){case jt.NOTIFICATION_CLICKED:return"notification_open";case jt.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Ii(){return(Ii=(0,$.Z)(function*(oe,ie){const Le=ie.data;if(!Le.isFirebaseMessaging)return;oe.onMessageHandler&&Le.messageType===jt.PUSH_RECEIVED&&("function"==typeof oe.onMessageHandler?oe.onMessageHandler(Rn(Le)):oe.onMessageHandler.next(Rn(Le)));const et=Le.data;ss(et)&&"1"===et[yn]&&(yield gr(oe,Le.messageType,et))})).apply(this,arguments)}const ms="@firebase/messaging";function hi(){return $i.apply(this,arguments)}function $i(){return($i=(0,$.Z)(function*(){return"undefined"!=typeof window&&(0,x.hl)()&&(yield(0,x.eu)())&&(0,x.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}(0,ce._registerComponent)(new H.wA("messaging",oe=>{const ie=new Rr(oe.getProvider("app").getImmediate(),oe.getProvider("installations-internal").getImmediate(),oe.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",Le=>function(oe,ie){return Ii.apply(this,arguments)}(ie,Le)),ie},"PUBLIC")),(0,ce._registerComponent)(new H.wA("messaging-internal",oe=>{const ie=oe.getProvider("messaging").getImmediate();return{getToken:et=>function(oe,ie){return Kn.apply(this,arguments)}(ie,et)}},"PRIVATE")),(0,ce.registerVersion)(ms,"0.9.7"),(0,ce.registerVersion)(ms,"0.9.7","esm2017");var co=b(7982),ys=b(4408),Di=b(7565);const Hr=new class extends Di.v{}(class extends ys.o{constructor(ie,Le){super(ie,Le),this.scheduler=ie,this.work=Le}schedule(ie,Le=0){return Le>0?super.schedule(ie,Le):(this.delay=Le,this.state=ie,this.scheduler.flush(this),this)}execute(ie,Le){return Le>0||this.closed?super.execute(ie,Le):this._execute(ie,Le)}requestAsyncId(ie,Le,et=0){return null!=et&&et>0||null==et&&this.delay>0?super.requestAsyncId(ie,Le,et):ie.flush(this)}});var Ri=b(4986),ai=b(8306),Yr=b(8505),qi=b(5363),Hi=b(9468);const ki=new f.GfV("7.2.0"),Xs="__angularfire_symbol__analyticsIsSupportedValue",or="__angularfire_symbol__analyticsIsSupported",Vs="__angularfire_symbol__remoteConfigIsSupported",dr="__angularfire_symbol__messagingIsSupported";globalThis[or]||(globalThis[or]=(0,co.Gb)().then(oe=>globalThis[Xs]=oe)),globalThis[dr]||(globalThis[dr]=hi().then(oe=>globalThis.__angularfire_symbol__messagingIsSupportedValue=oe)),globalThis[Vs]||(globalThis[Vs]=nn().then(oe=>globalThis.__angularfire_symbol__remoteConfigIsSupportedValue=oe));const Os={async:()=>globalThis[or],sync:()=>{const oe=globalThis[Xs];if(void 0===oe)throw new Error((oe=>`The APP_INITIALIZER that is "making" isSupported() sync for the sake of convenient DI has not resolved in this\ncontext. Rather than injecting ${oe} in the constructor, first ensure that ${oe} is supported by calling\n\`await isSupported()\`, then retrieve the instance from the injector manually \`injector.get(${oe})\`.`)("Analytics"));return oe}};function Rs(oe,ie,Le){if(ie){if(1===ie.length)return ie[0];const pt=ie.filter(In=>In.app===Le);if(1===pt.length)return pt[0]}return Le.container.getProvider(oe).getImmediate({optional:!0})}const Oo=(oe,ie)=>{const Le=ie?[ie]:(0,C.C6)(),et=[];return Le.forEach(yt=>{yt.container.getProvider(oe).instances.forEach(In=>{et.includes(In)||et.push(In)})}),et};function mr(){}class us{constructor(ie,Le=Hr){this.zone=ie,this.delegate=Le}now(){return this.delegate.now()}schedule(ie,Le,et){const yt=this.zone;return this.delegate.schedule(function(In){yt.runGuarded(()=>{ie.apply(this,[In])})},Le,et)}}class Mi{constructor(ie){this.zone=ie,this.task=null}call(ie,Le){const et=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",mr,{},mr,mr)),Le.pipe((0,Yr.b)({next:et,complete:et,error:et})).subscribe(ie).add(et)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let R=(()=>{class oe{constructor(Le){this.ngZone=Le,this.outsideAngular=Le.runOutsideAngular(()=>new us(Zone.current)),this.insideAngular=Le.run(()=>new us(Zone.current,Ri.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return oe.\u0275fac=function(Le){return new(Le||oe)(f.LFG(f.R0b))},oe.\u0275prov=f.Yz7({token:oe,factory:oe.\u0275fac,providedIn:"root"}),oe})();function J(){const oe=globalThis.\u0275AngularFireScheduler;if(!oe)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return oe}function N(oe){return J().ngZone.runOutsideAngular(()=>oe())}function ee(oe){return J().ngZone.run(()=>oe())}function ke(oe){return oe.pipe((0,qi.Q)(J().outsideAngular))}function Tt(oe){return J(),function(oe){return function(Le){return(Le=Le.lift(new Mi(oe.ngZone))).pipe((0,Hi.R)(oe.outsideAngular),(0,qi.Q)(oe.insideAngular))}}(J())(oe)}const Zn=(oe,ie)=>function(){return ie&&setTimeout(()=>{"scheduled"===ie.state&&ie.invoke()},10),ee(()=>oe.apply(void 0,arguments))},wr=(oe,ie)=>function(){let Le;for(let yt=0;yt<arguments.length;yt++)"function"==typeof arguments[yt]&&(ie&&(Le||(Le=ee(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",mr,{},mr,mr)))),arguments[yt]=Zn(arguments[yt],Le));const et=N(()=>oe.apply(this,arguments));if(!ie){if(et instanceof ai.y){const yt=J();return et.pipe((0,Hi.R)(yt.outsideAngular),(0,qi.Q)(yt.insideAngular))}return ee(()=>et)}return et instanceof ai.y?et.pipe(Tt):et instanceof Promise?ee(()=>new Promise((yt,pt)=>et.then(In=>ee(()=>yt(In)),In=>ee(()=>pt(In))))):"function"==typeof et&&Le?function(){return setTimeout(()=>{Le&&"scheduled"===Le.state&&Le.invoke()},10),et.apply(this,arguments)}:ee(()=>et)}},5525:(gt,Ne,b)=>{"use strict";b.d(Ne,{u7:()=>Jc,Jj:()=>Nu,IX:()=>zl,my:()=>jr,xU:()=>gl,Lz:()=>du,WA:()=>Ct,F8:()=>Gc,$q:()=>Zl,W:()=>Lu,EK:()=>Pr,PU:()=>rp,l7:()=>jl,Ky:()=>L,Xb:()=>gi,Cf:()=>Sr,K9:()=>Ji,Me:()=>qo,yq:()=>Zo,Wi:()=>_g,ET:()=>Wg,Ab:()=>ps,vr:()=>ry,Fc:()=>Ig,hJ:()=>cl,B$:()=>Jd,at:()=>Vf,oe:()=>Hg,AK:()=>ny,TF:()=>bg,JU:()=>Bo,ST:()=>Tg,fH:()=>wg,Ix:()=>Cg,Wu:()=>Bg,Lx:()=>Xf,qY:()=>Ti,GL:()=>ml,QT:()=>ip,kl:()=>ey,Xk:()=>Vg,PL:()=>jg,UQ:()=>sp,zN:()=>sh,nP:()=>Zg,b9:()=>Yf,vh:()=>Qf,Pb:()=>Wm,L$:()=>Ag,cf:()=>zg,sc:()=>Gg,Xo:()=>qf,IO:()=>d_,iE:()=>dl,Eo:()=>jf,i3:()=>ty,Bt:()=>Kg,pl:()=>op,Ub:()=>yl,qK:()=>c_,TQ:()=>Jm,e0:()=>h_,r7:()=>$g,Mx:()=>Dg,ar:()=>Fg});var W,f=b(5861),C=b(9681),$=b(4859),ce=b(1877),x=b(2090),H="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},j={},Z=Z||{},z=H||self;function q(){}function te(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function Te(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var Ye="closure_uid_"+(1e9*Math.random()>>>0),Ze=0;function ue(i,e,r){return i.call.apply(i.bind,arguments)}function de(i,e,r){if(!i)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var l=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(l,o),i.apply(e,l)}}return function(){return i.apply(e,arguments)}}function Ie(i,e,r){return(Ie=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ue:de).apply(null,arguments)}function me(i,e){var r=Array.prototype.slice.call(arguments,1);return function(){var o=r.slice();return o.push.apply(o,arguments),i.apply(this,o)}}function G(i,e){function r(){}r.prototype=e.prototype,i.Z=e.prototype,i.prototype=new r,i.prototype.constructor=i,i.Vb=function(o,l,p){for(var T=Array(arguments.length-2),M=2;M<arguments.length;M++)T[M-2]=arguments[M];return e.prototype[l].apply(o,T)}}function w(){this.s=this.s,this.o=this.o}var re={};w.prototype.s=!1,w.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var i=function(i){return Object.prototype.hasOwnProperty.call(i,Ye)&&i[Ye]||(i[Ye]=++Ze)}(this);delete re[i]}},w.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const we=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let r=0;r<i.length;r++)if(r in i&&i[r]===e)return r;return-1},Fe=Array.prototype.forEach?function(i,e,r){Array.prototype.forEach.call(i,e,r)}:function(i,e,r){const o=i.length,l="string"==typeof i?i.split(""):i;for(let p=0;p<o;p++)p in l&&e.call(r,l[p],p,i)};function ge(i){return Array.prototype.concat.apply([],arguments)}function ye(i){const e=i.length;if(0<e){const r=Array(e);for(let o=0;o<e;o++)r[o]=i[o];return r}return[]}function _e(i){return/^[\s\xa0]*$/.test(i)}var It,He=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]};function De(i,e){return-1!=i.indexOf(e)}function Et(i,e){return i<e?-1:i>e?1:0}e:{var Ht=z.navigator;if(Ht){var it=Ht.userAgent;if(it){It=it;break e}}It=""}function kt(i,e,r){for(const o in i)e.call(r,i[o],o,i)}function xt(i){const e={};for(const r in i)e[r]=i[r];return e}var tn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Hn(i,e){let r,o;for(let l=1;l<arguments.length;l++){for(r in o=arguments[l],o)i[r]=o[r];for(let p=0;p<tn.length;p++)r=tn[p],Object.prototype.hasOwnProperty.call(o,r)&&(i[r]=o[r])}}function Cn(i){return Cn[" "](i),i}Cn[" "]=q;var Pn,i,An=De(It,"Opera"),qt=De(It,"Trident")||De(It,"MSIE"),Ln=De(It,"Edge"),er=Ln||qt,tr=De(It,"Gecko")&&!(De(It.toLowerCase(),"webkit")&&!De(It,"Edge"))&&!(De(It,"Trident")||De(It,"MSIE"))&&!De(It,"Edge"),Gn=De(It.toLowerCase(),"webkit")&&!De(It,"Edge");function cr(){var i=z.document;return i?i.documentMode:void 0}e:{var bn="",Vn=(i=It,tr?/rv:([^\);]+)(\)|;)/.exec(i):Ln?/Edge\/([\d\.]+)/.exec(i):qt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):Gn?/WebKit\/(\S+)/.exec(i):An?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(Vn&&(bn=Vn?Vn[1]:""),qt){var nn=cr();if(null!=nn&&nn>parseFloat(bn)){Pn=String(nn);break e}}Pn=bn}var Xt={};function kn(){return e=Xt,Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){let i=0;const e=He(String(Pn)).split("."),r=He("9").split("."),o=Math.max(e.length,r.length);for(let T=0;0==i&&T<o;T++){var l=e[T]||"",p=r[T]||"";do{if(l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],p=/(\d*)(\D*)(.*)/.exec(p)||["","","",""],0==l[0].length&&0==p[0].length)break;i=Et(0==l[1].length?0:parseInt(l[1],10),0==p[1].length?0:parseInt(p[1],10))||Et(0==l[2].length,0==p[2].length)||Et(l[2],p[2]),l=l[3],p=p[3]}while(0==i)}return 0<=i}();var e}var Kt=z.document&&qt&&(cr()||parseInt(Pn,10))||void 0,en=function(){if(!z.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{z.addEventListener("test",q,e),z.removeEventListener("test",q,e)}catch(r){}return i}();function un(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}function Zt(i,e){if(un.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var r=this.type=i.type,o=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(tr){e:{try{Cn(e.nodeName);var l=!0;break e}catch(p){}l=!1}l||(e=null)}}else"mouseover"==r?e=i.fromElement:"mouseout"==r&&(e=i.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:jn[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&Zt.Z.h.call(this)}}un.prototype.h=function(){this.defaultPrevented=!0},G(Zt,un);var jn={2:"touch",3:"pen",4:"mouse"};Zt.prototype.h=function(){Zt.Z.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var yn="closure_listenable_"+(1e6*Math.random()|0),Lt=0;function jt(i,e,r,o,l){this.listener=i,this.proxy=null,this.src=e,this.type=r,this.capture=!!o,this.ia=l,this.key=++Lt,this.ca=this.fa=!1}function _n(i){i.ca=!0,i.listener=null,i.proxy=null,i.src=null,i.ia=null}function sr(i){this.src=i,this.g={},this.h=0}function Tr(i,e){var r=e.type;if(r in i.g){var p,o=i.g[r],l=we(o,e);(p=0<=l)&&Array.prototype.splice.call(o,l,1),p&&(_n(e),0==i.g[r].length&&(delete i.g[r],i.h--))}}function Fn(i,e,r,o){for(var l=0;l<i.length;++l){var p=i[l];if(!p.ca&&p.listener==e&&p.capture==!!r&&p.ia==o)return l}return-1}sr.prototype.add=function(i,e,r,o,l){var p=i.toString();(i=this.g[p])||(i=this.g[p]=[],this.h++);var T=Fn(i,e,o,l);return-1<T?(e=i[T],r||(e.fa=!1)):((e=new jt(e,this.src,p,!!o,l)).fa=r,i.push(e)),e};var ur="closure_lm_"+(1e6*Math.random()|0),Nr={};function xe(i,e,r,o,l){if(o&&o.once)return V(i,e,r,o,l);if(Array.isArray(e)){for(var p=0;p<e.length;p++)xe(i,e[p],r,o,l);return null}return r=Dt(r),i&&i[yn]?i.N(e,r,Te(o)?!!o.capture:!!o,l):Me(i,e,r,!1,o,l)}function Me(i,e,r,o,l,p){if(!e)throw Error("Invalid event type");var T=Te(l)?!!l.capture:!!l,M=st(i);if(M||(i[ur]=M=new sr(i)),(r=M.add(e,r,o,T,p)).proxy)return r;if(o=function(){var e=We;return function i(r){return e.call(i.src,i.listener,r)}}(),r.proxy=o,o.src=i,o.listener=r,i.addEventListener)en||(l=T),void 0===l&&(l=!1),i.addEventListener(e.toString(),o,l);else if(i.attachEvent)i.attachEvent(Ce(e.toString()),o);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(o)}return r}function V(i,e,r,o,l){if(Array.isArray(e)){for(var p=0;p<e.length;p++)V(i,e[p],r,o,l);return null}return r=Dt(r),i&&i[yn]?i.O(e,r,Te(o)?!!o.capture:!!o,l):Me(i,e,r,!0,o,l)}function K(i,e,r,o,l){if(Array.isArray(e))for(var p=0;p<e.length;p++)K(i,e[p],r,o,l);else o=Te(o)?!!o.capture:!!o,r=Dt(r),i&&i[yn]?(i=i.i,(e=String(e).toString())in i.g&&-1<(r=Fn(p=i.g[e],r,o,l))&&(_n(p[r]),Array.prototype.splice.call(p,r,1),0==p.length&&(delete i.g[e],i.h--))):i&&(i=st(i))&&(e=i.g[e.toString()],i=-1,e&&(i=Fn(e,r,o,l)),(r=-1<i?e[i]:null)&&ze(r))}function ze(i){if("number"!=typeof i&&i&&!i.ca){var e=i.src;if(e&&e[yn])Tr(e.i,i);else{var r=i.type,o=i.proxy;e.removeEventListener?e.removeEventListener(r,o,i.capture):e.detachEvent?e.detachEvent(Ce(r),o):e.addListener&&e.removeListener&&e.removeListener(o),(r=st(e))?(Tr(r,i),0==r.h&&(r.src=null,e[ur]=null)):_n(i)}}}function Ce(i){return i in Nr?Nr[i]:Nr[i]="on"+i}function We(i,e){if(i.ca)i=!0;else{e=new Zt(e,this);var r=i.listener,o=i.ia||i.src;i.fa&&ze(i),i=r.call(o,e)}return i}function st(i){return(i=i[ur])instanceof sr?i:null}var vt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Dt(i){return"function"==typeof i?i:(i[vt]||(i[vt]=function(e){return i.handleEvent(e)}),i[vt])}function mt(){w.call(this),this.i=new sr(this),this.P=this,this.I=null}function St(i,e){var r,o=i.I;if(o)for(r=[];o;o=o.I)r.push(o);if(i=i.P,o=e.type||e,"string"==typeof e)e=new un(e,i);else if(e instanceof un)e.target=e.target||i;else{var l=e;Hn(e=new un(o,i),l)}if(l=!0,r)for(var p=r.length-1;0<=p;p--){var T=e.g=r[p];l=rn(T,o,!0,e)&&l}if(l=rn(T=e.g=i,o,!0,e)&&l,l=rn(T,o,!1,e)&&l,r)for(p=0;p<r.length;p++)l=rn(T=e.g=r[p],o,!1,e)&&l}function rn(i,e,r,o){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var l=!0,p=0;p<e.length;++p){var T=e[p];if(T&&!T.ca&&T.capture==r){var M=T.listener,Y=T.ia||T.src;T.fa&&Tr(i.i,T),l=!1!==M.call(Y,o)&&l}}return l&&!o.defaultPrevented}G(mt,w),mt.prototype[yn]=!0,mt.prototype.removeEventListener=function(i,e,r,o){K(this,i,e,r,o)},mt.prototype.M=function(){if(mt.Z.M.call(this),this.i){var e,i=this.i;for(e in i.g){for(var r=i.g[e],o=0;o<r.length;o++)_n(r[o]);delete i.g[e],i.h--}}this.I=null},mt.prototype.N=function(i,e,r,o){return this.i.add(String(i),e,!1,r,o)},mt.prototype.O=function(i,e,r,o){return this.i.add(String(i),e,!0,r,o)};var vn=z.JSON.stringify;function Ue(){var i=ii;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var sn,pe=new class{constructor(i,e){this.i=i,this.j=e,this.h=0,this.g=null}get(){let i;return 0<this.h?(this.h--,i=this.g,this.g=i.next,i.next=null):i=this.i(),i}}(()=>new Ve,i=>i.reset());class Ve{constructor(){this.next=this.g=this.h=null}set(e,r){this.h=e,this.g=r,this.next=null}reset(){this.next=this.g=this.h=null}}function rt(i){z.setTimeout(()=>{throw i},0)}function $t(i,e){sn||function(){var i=z.Promise.resolve(void 0);sn=function(){i.then(Ur)}}(),lr||(sn(),lr=!0),ii.add(i,e)}var lr=!1,ii=new class{constructor(){this.h=this.g=null}add(e,r){const o=pe.get();o.set(e,r),this.h?this.h.next=o:this.g=o,this.h=o}};function Ur(){for(var i;i=Ue();){try{i.h.call(i.g)}catch(r){rt(r)}var e=pe;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}lr=!1}function Si(i,e){mt.call(this),this.h=i||1,this.g=e||z,this.j=Ie(this.kb,this),this.l=Date.now()}function si(i){i.da=!1,i.S&&(i.g.clearTimeout(i.S),i.S=null)}function _r(i,e,r){if("function"==typeof i)r&&(i=Ie(i,r));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=Ie(i.handleEvent,i)}return 2147483647<Number(e)?-1:z.setTimeout(i,e||0)}function As(i){i.g=_r(()=>{i.g=null,i.i&&(i.i=!1,As(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}G(Si,mt),(W=Si.prototype).da=!1,W.S=null,W.kb=function(){if(this.da){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-i):(this.S&&(this.g.clearTimeout(this.S),this.S=null),St(this,"tick"),this.da&&(si(this),this.start()))}},W.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},W.M=function(){Si.Z.M.call(this),si(this),delete this.g};class nr extends w{constructor(e,r){super(),this.m=e,this.j=r,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:As(this)}M(){super.M(),this.g&&(z.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function be(i){w.call(this),this.h=i,this.g={}}G(be,w);var Xe=[];function dt(i,e,r,o){Array.isArray(r)||(r&&(Xe[0]=r.toString()),r=Xe);for(var l=0;l<r.length;l++){var p=xe(e,r[l],o||i.handleEvent,!1,i.h||i);if(!p)break;i.g[p.key]=p}}function Vt(i){kt(i.g,function(e,r){this.g.hasOwnProperty(r)&&ze(e)},i),i.g={}}function Qn(){this.g=!0}function Rn(i,e,r,o){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(i,e){if(!i.g)return e;if(!e)return null;try{var r=JSON.parse(e);if(r)for(i=0;i<r.length;i++)if(Array.isArray(r[i])){var o=r[i];if(!(2>o.length)){var l=o[1];if(Array.isArray(l)&&!(1>l.length)){var p=l[0];if("noop"!=p&&"stop"!=p&&"close"!=p)for(var T=1;T<l.length;T++)l[T]=""}}}return vn(r)}catch(M){return e}}(i,r)+(o?" "+o:"")})}be.prototype.M=function(){be.Z.M.call(this),Vt(this)},be.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Qn.prototype.Aa=function(){this.g=!1},Qn.prototype.info=function(){};var hn={},ss=null;function Oi(){return ss=ss||new mt}function gs(i){un.call(this,hn.Ma,i)}function Zr(i){const e=Oi();St(e,new gs(e,i))}function Rr(i,e){un.call(this,hn.STAT_EVENT,i),this.stat=e}function Mr(i){const e=Oi();St(e,new Rr(e,i))}function Ke(i,e){un.call(this,hn.Na,i),this.size=e}function je(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return z.setTimeout(function(){i()},e)}hn.Ma="serverreachability",G(gs,un),hn.STAT_EVENT="statevent",G(Rr,un),hn.Na="timingevent",G(Ke,un);var Qe={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},ft={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Ot(){}function Kn(){}Ot.prototype.h=null;var $r,gr={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function xn(){un.call(this,"d")}function qr(){un.call(this,"c")}function Ii(){}function ms(i,e,r,o){this.l=i,this.j=e,this.m=r,this.X=o||1,this.V=new be(this),this.P=bo,this.W=new Si(i=er?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new xr}function xr(){this.i=null,this.g="",this.h=!1}G(xn,un),G(qr,un),G(Ii,Ot),Ii.prototype.g=function(){return new XMLHttpRequest},Ii.prototype.i=function(){return{}},$r=new Ii;var bo=45e3,Ao={},Li={};function hi(i,e,r){i.K=1,i.v=Ss(Yr(e)),i.s=r,i.U=!0,$i(i,null)}function $i(i,e){i.F=Date.now(),Us(i),i.A=Yr(i.v);var r=i.A,o=i.X;Array.isArray(o)||(o=[String(o)]),N(r.h,"t",o),i.C=0,r=i.l.H,i.h=new xr,i.g=Bu(i.l,r?e:null,!i.s),0<i.O&&(i.L=new nr(Ie(i.Ia,i,i.g),i.O)),dt(i.V,i.g,"readystatechange",i.gb),e=i.H?xt(i.H):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.ea(i.A,i.u,i.s,e)):(i.u="GET",i.g.ea(i.A,i.u,null,e)),Zr(1),function(i,e,r,o,l,p){i.info(function(){if(i.g)if(p)for(var T="",M=p.split("&"),Y=0;Y<M.length;Y++){var fe=M[Y].split("=");if(1<fe.length){var Pe=fe[0];fe=fe[1];var Ge=Pe.split("_");T=2<=Ge.length&&"type"==Ge[1]?T+(Pe+"=")+fe+"&":T+(Pe+"=redacted&")}}else T=null;else T=p;return"XMLHTTP REQ ("+o+") [attempt "+l+"]: "+e+"\n"+r+"\n"+T})}(i.j,i.u,i.A,i.m,i.X,i.s)}function Ys(i){return!!i.g&&"GET"==i.u&&2!=i.K&&i.l.Ba}function os(i,e,r){let l,o=!0;for(;!i.I&&i.C<r.length;){if(l=Da(i,r),l==Li){4==e&&(i.o=4,Mr(14),o=!1),Rn(i.j,i.m,null,"[Incomplete Response]");break}if(l==Ao){i.o=4,Mr(15),Rn(i.j,i.m,r,"[Invalid Chunk]"),o=!1;break}Rn(i.j,i.m,l,null),co(i,l)}Ys(i)&&l!=Li&&l!=Ao&&(i.h.g="",i.C=0),4!=e||0!=r.length||i.h.h||(i.o=1,Mr(16),o=!1),i.i=i.i&&o,o?0<r.length&&!i.aa&&(i.aa=!0,(e=i.l).g==i&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+r.length),Ho(e),e.L=!0,Mr(11))):(Rn(i.j,i.m,r,"[Invalid Chunked Response]"),fi(i),Qs(i))}function Da(i,e){var r=i.C,o=e.indexOf("\n",r);return-1==o?Li:(r=Number(e.substring(r,o)),isNaN(r)?Ao:(o+=1)+r>e.length?Li:(e=e.substr(o,r),i.C=o+r,e))}function Us(i){i.Y=Date.now()+i.P,So(i,i.P)}function So(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=je(Ie(i.eb,i),e)}function Bs(i){i.B&&(z.clearTimeout(i.B),i.B=null)}function Qs(i){0==i.l.G||i.I||Ga(i.l,i)}function fi(i){Bs(i);var e=i.L;e&&"function"==typeof e.na&&e.na(),i.L=null,si(i.W),Vt(i.V),i.g&&(e=i.g,i.g=null,e.abort(),e.na())}function co(i,e){try{var r=i.l;if(0!=r.G&&(r.g==i||oe(r.i,i)))if(r.I=i.N,!i.J&&oe(r.i,i)&&3==r.G){try{var o=r.Ca.g.parse(e)}catch(fe){o=null}if(Array.isArray(o)&&3==o.length){var l=o;if(0==l[0])e:if(r.u)r.ta=l[1],0<r.ta-r.U&&37500>l[2]&&r.N&&0==r.A&&!r.v&&(r.v=je(Ie(r.ab,r),6e3));else{if(r.g){if(!(r.g.F+3e3<i.F))break e;yo(r),la(r)}$o(r),Mr(18)}if(1>=wr(r.i)&&r.ka){try{r.ka()}catch(fe){}r.ka=void 0}}else ei(r,11)}else if((i.J||r.g==i)&&yo(r),!_e(e))for(l=r.Ca.g.parse(e),e=0;e<l.length;e++){let fe=l[e];if(r.U=fe[0],fe=fe[1],2==r.G)if("c"==fe[0]){r.J=fe[1],r.la=fe[2];const Pe=fe[3];null!=Pe&&(r.ma=Pe,r.h.info("VER="+r.ma));const Ge=fe[4];null!=Ge&&(r.za=Ge,r.h.info("SVER="+r.za));const lt=fe[5];null!=lt&&"number"==typeof lt&&0<lt&&(r.K=o=1.5*lt,r.h.info("backChannelRequestTimeoutMs_="+o)),o=r;const At=i.g;if(At){const Mt=At.g?At.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Mt){var p=o.i;!p.g&&(De(Mt,"spdy")||De(Mt,"quic")||De(Mt,"h2"))&&(p.j=p.l,p.g=new Set,p.h&&(ie(p,p.h),p.h=null))}if(o.D){const pn=At.g?At.g.getResponseHeader("X-HTTP-Session-Id"):null;pn&&(o.sa=pn,or(o.F,o.D,pn))}}r.G=3,r.j&&r.j.xa(),r.$&&(r.O=Date.now()-i.F,r.h.info("Handshake RTT: "+r.O+"ms"));var T=i;if((o=r).oa=zr(o,o.H?o.la:null,o.W),T.J){Le(o.i,T);var M=T,Y=o.K;Y&&M.setTimeout(Y),M.B&&(Bs(M),Us(M)),o.g=T}else ca(o);0<r.l.length&&no(r)}else"stop"!=fe[0]&&"close"!=fe[0]||ei(r,7);else 3==r.G&&("stop"==fe[0]||"close"==fe[0]?"stop"==fe[0]?ei(r,7):Ws(r):"noop"!=fe[0]&&r.j&&r.j.wa(fe),r.A=0)}Zr(4)}catch(fe){}}function as(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(te(i)||"string"==typeof i)Fe(i,e,void 0);else{if(i.T&&"function"==typeof i.T)var r=i.T();else if(i.R&&"function"==typeof i.R)r=void 0;else if(te(i)||"string"==typeof i){r=[];for(var o=i.length,l=0;l<o;l++)r.push(l)}else for(l in r=[],o=0,i)r[o++]=l;o=function(i){if(i.R&&"function"==typeof i.R)return i.R();if("string"==typeof i)return i.split("");if(te(i)){for(var e=[],r=i.length,o=0;o<r;o++)e.push(i[o]);return e}for(o in e=[],r=0,i)e[r++]=i[o];return e}(i),l=o.length;for(var p=0;p<l;p++)e.call(void 0,o[p],r&&r[p],i)}}function Di(i,e){this.h={},this.g=[],this.i=0;var r=arguments.length;if(1<r){if(r%2)throw Error("Uneven number of arguments");for(var o=0;o<r;o+=2)this.set(arguments[o],arguments[o+1])}else if(i)if(i instanceof Di)for(r=i.T(),o=0;o<r.length;o++)this.set(r[o],i.get(r[o]));else for(o in i)this.set(o,i[o])}function oi(i){if(i.i!=i.g.length){for(var e=0,r=0;e<i.g.length;){var o=i.g[e];Hr(i.h,o)&&(i.g[r++]=o),e++}i.g.length=r}if(i.i!=i.g.length){var l={};for(r=e=0;e<i.g.length;)Hr(l,o=i.g[e])||(i.g[r++]=o,l[o]=1),e++;i.g.length=r}}function Hr(i,e){return Object.prototype.hasOwnProperty.call(i,e)}(W=ms.prototype).setTimeout=function(i){this.P=i},W.gb=function(i){i=i.target;const e=this.L;e&&3==pi(i)?e.l():this.Ia(i)},W.Ia=function(i){try{if(i==this.g)e:{const Pe=pi(this.g);var e=this.g.Da();const Ge=this.g.ba();if(!(3>Pe)&&(3!=Pe||er||this.g&&(this.h.h||this.g.ga()||gu(this.g)))){this.I||4!=Pe||7==e||Zr(8==e||0>=Ge?3:2),Bs(this);var r=this.g.ba();this.N=r;t:if(Ys(this)){var o=gu(this.g);i="";var l=o.length,p=4==pi(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){fi(this),Qs(this);var T="";break t}this.h.i=new z.TextDecoder}for(e=0;e<l;e++)this.h.h=!0,i+=this.h.i.decode(o[e],{stream:p&&e==l-1});o.splice(0,l),this.h.g+=i,this.C=0,T=this.h.g}else T=this.g.ga();if(this.i=200==r,function(i,e,r,o,l,p,T){i.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+l+"]: "+e+"\n"+r+"\n"+p+" "+T})}(this.j,this.u,this.A,this.m,this.X,Pe,r),this.i){if(this.$&&!this.J){t:{if(this.g){var M,Y=this.g;if((M=Y.g?Y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_e(M)){var fe=M;break t}}fe=null}if(!(r=fe)){this.i=!1,this.o=3,Mr(12),fi(this),Qs(this);break e}Rn(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,co(this,r)}this.U?(os(this,Pe,T),er&&this.i&&3==Pe&&(dt(this.V,this.W,"tick",this.fb),this.W.start())):(Rn(this.j,this.m,T,null),co(this,T)),4==Pe&&fi(this),this.i&&!this.I&&(4==Pe?Ga(this.l,this):(this.i=!1,Us(this)))}else 400==r&&0<T.indexOf("Unknown SID")?(this.o=3,Mr(12)):(this.o=0,Mr(13)),fi(this),Qs(this)}}}catch(Pe){}},W.fb=function(){if(this.g){var i=pi(this.g),e=this.g.ga();this.C<e.length&&(Bs(this),os(this,i,e),this.i&&4!=i&&Us(this))}},W.cancel=function(){this.I=!0,fi(this)},W.eb=function(){this.B=null;const i=Date.now();0<=i-this.Y?(function(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Zr(3),Mr(17)),fi(this),this.o=2,Qs(this)):So(this,this.Y-i)},(W=Di.prototype).R=function(){oi(this);for(var i=[],e=0;e<this.g.length;e++)i.push(this.h[this.g[e]]);return i},W.T=function(){return oi(this),this.g.concat()},W.get=function(i,e){return Hr(this.h,i)?this.h[i]:e},W.set=function(i,e){Hr(this.h,i)||(this.i++,this.g.push(i)),this.h[i]=e},W.forEach=function(i,e){for(var r=this.T(),o=0;o<r.length;o++){var l=r[o],p=this.get(l);i.call(e,p,l,this)}};var Js=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function ai(i,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,i instanceof ai){this.g=void 0!==e?e:i.g,qi(this,i.j),this.s=i.s,Hi(this,i.i),ki(this,i.m),this.l=i.l,e=i.h;var r=new us;r.i=e.i,e.g&&(r.g=new Di(e.g),r.h=e.h),Xs(this,r),this.o=i.o}else i&&(r=String(i).match(Js))?(this.g=!!e,qi(this,r[1]||"",!0),this.s=dr(r[2]||""),Hi(this,r[3]||"",!0),ki(this,r[4]),this.l=dr(r[5]||"",!0),Xs(this,r[6]||"",!0),this.o=dr(r[7]||"")):(this.g=!!e,this.h=new us(null,this.g))}function Yr(i){return new ai(i)}function qi(i,e,r){i.j=r?dr(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function Hi(i,e,r){i.i=r?dr(e,!0):e}function ki(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function Xs(i,e,r){e instanceof us?(i.h=e,function(i,e){e&&!i.j&&(Mi(i),i.i=null,i.g.forEach(function(r,o){var l=o.toLowerCase();o!=l&&(R(this,o),N(this,l,r))},i)),i.j=e}(i.h,i.g)):(r||(e=Wr(e,Oo)),i.h=new us(e,i.g))}function or(i,e,r){i.h.set(e,r)}function Ss(i){return or(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function dr(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function Wr(i,e,r){return"string"==typeof i?(i=encodeURI(i).replace(e,oa),r&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function oa(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}ai.prototype.toString=function(){var i=[],e=this.j;e&&i.push(Wr(e,js,!0),":");var r=this.i;return(r||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(Wr(e,js,!0),"@"),i.push(encodeURIComponent(String(r)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(r=this.m)&&i.push(":",String(r))),(r=this.l)&&(this.i&&"/"!=r.charAt(0)&&i.push("/"),i.push(Wr(r,"/"==r.charAt(0)?Rs:Os,!0))),(r=this.h.toString())&&i.push("?",r),(r=this.o)&&i.push("#",Wr(r,mr)),i.join("")};var js=/[#\/\?@]/g,Os=/[#\?:]/g,Rs=/[#\?]/g,Oo=/[#\?@]/g,mr=/#/g;function us(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function Mi(i){i.g||(i.g=new Di,i.h=0,i.i&&function(i,e){if(i){i=i.split("&");for(var r=0;r<i.length;r++){var o=i[r].indexOf("="),l=null;if(0<=o){var p=i[r].substring(0,o);l=i[r].substring(o+1)}else p=i[r];e(p,l?decodeURIComponent(l.replace(/\+/g," ")):"")}}}(i.i,function(e,r){i.add(decodeURIComponent(e.replace(/\+/g," ")),r)}))}function R(i,e){Mi(i),e=ee(i,e),Hr(i.g.h,e)&&(i.i=null,i.h-=i.g.get(e).length,Hr((i=i.g).h,e)&&(delete i.h[e],i.i--,i.g.length>2*i.i&&oi(i)))}function J(i,e){return Mi(i),e=ee(i,e),Hr(i.g.h,e)}function N(i,e,r){R(i,e),0<r.length&&(i.i=null,i.g.set(ee(i,e),ye(r)),i.h+=r.length)}function ee(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function Tt(i){this.l=i||Yt,i=z.PerformanceNavigationTiming?0<(i=z.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(z.g&&z.g.Ea&&z.g.Ea()&&z.g.Ea().Zb),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(W=us.prototype).add=function(i,e){Mi(this),this.i=null,i=ee(this,i);var r=this.g.get(i);return r||this.g.set(i,r=[]),r.push(e),this.h+=1,this},W.forEach=function(i,e){Mi(this),this.g.forEach(function(r,o){Fe(r,function(l){i.call(e,l,o,this)},this)},this)},W.T=function(){Mi(this);for(var i=this.g.R(),e=this.g.T(),r=[],o=0;o<e.length;o++)for(var l=i[o],p=0;p<l.length;p++)r.push(e[o]);return r},W.R=function(i){Mi(this);var e=[];if("string"==typeof i)J(this,i)&&(e=ge(e,this.g.get(ee(this,i))));else{i=this.g.R();for(var r=0;r<i.length;r++)e=ge(e,i[r])}return e},W.set=function(i,e){return Mi(this),this.i=null,J(this,i=ee(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},W.get=function(i,e){return i&&0<(i=this.R(i)).length?String(i[0]):e},W.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var i=[],e=this.g.T(),r=0;r<e.length;r++){var o=e[r],l=encodeURIComponent(String(o));o=this.R(o);for(var p=0;p<o.length;p++){var T=l;""!==o[p]&&(T+="="+encodeURIComponent(String(o[p]))),i.push(T)}}return this.i=i.join("&")};var Yt=10;function Zn(i){return!!i.h||!!i.g&&i.g.size>=i.j}function wr(i){return i.h?1:i.g?i.g.size:0}function oe(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function ie(i,e){i.g?i.g.add(e):i.h=e}function Le(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function et(i){if(null!=i.h)return i.i.concat(i.h.D);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const r of i.g.values())e=e.concat(r.D);return e}return ye(i.i)}function yt(){}function pt(){this.g=new yt}function In(i,e,r){const o=r||"";try{as(i,function(l,p){let T=l;Te(l)&&(T=vn(l)),e.push(o+p+"="+encodeURIComponent(T))})}catch(l){throw e.push(o+"type="+encodeURIComponent("_badmap")),l}}function Tn(i,e,r,o,l){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,l(o)}catch(p){}}function Dr(i){this.l=i.$b||null,this.j=i.ib||!1}function vr(i,e){mt.call(this),this.D=i,this.u=e,this.m=void 0,this.readyState=Ci,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Tt.prototype.cancel=function(){if(this.i=et(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}},yt.prototype.stringify=function(i){return z.JSON.stringify(i,void 0)},yt.prototype.parse=function(i){return z.JSON.parse(i,void 0)},G(Dr,Ot),Dr.prototype.g=function(){return new vr(this.l,this.j)},Dr.prototype.i=function(i){return function(){return i}}({}),G(vr,mt);var Ci=0;function ls(i){i.j.read().then(i.Sa.bind(i)).catch(i.ha.bind(i))}function ht(i){i.readyState=4,i.l=null,i.j=null,i.A=null,Yn(i)}function Yn(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(W=vr.prototype).open=function(i,e){if(this.readyState!=Ci)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,Yn(this)},W.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.D||z).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},W.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ht(this)),this.readyState=Ci},W.Va=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,Yn(this)),this.g&&(this.readyState=3,Yn(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==z.ReadableStream&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;ls(this)}else i.text().then(this.Ua.bind(this),this.ha.bind(this))},W.Sa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?ht(this):Yn(this),3==this.readyState&&ls(this)}},W.Ua=function(i){this.g&&(this.response=this.responseText=i,ht(this))},W.Ta=function(i){this.g&&(this.response=i,ht(this))},W.ha=function(){this.g&&ht(this)},W.setRequestHeader=function(i,e){this.v.append(i,e)},W.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},W.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var r=e.next();!r.done;)i.push((r=r.value)[0]+": "+r[1]),r=e.next();return i.join("\r\n")},Object.defineProperty(vr.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var to=z.JSON.parse;function Wn(i){mt.call(this),this.headers=new Di,this.u=i||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=cs,this.K=this.L=!1}G(Wn,mt);var cs="",_s=/^https?$/i,Wi=["POST","PUT"];function aa(i){return"content-type"==i.toLowerCase()}function Uu(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,Ca(i),fo(i)}function Ca(i){i.D||(i.D=!0,St(i,"complete"),St(i,"error"))}function ho(i){if(i.h&&void 0!==Z&&(!i.C[1]||4!=pi(i)||2!=i.ba()))if(i.v&&4==pi(i))_r(i.Fa,0,i);else if(St(i,"readystatechange"),4==pi(i)){i.h=!1;try{const M=i.ba();e:switch(M){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var r;if(!(r=e)){var o;if(o=0===M){var l=String(i.H).match(Js)[1]||null;if(!l&&z.self&&z.self.location){var p=z.self.location.protocol;l=p.substr(0,p.length-1)}o=!_s.test(l?l.toLowerCase():"")}r=o}if(r)St(i,"complete"),St(i,"success");else{i.m=6;try{var T=2<pi(i)?i.g.statusText:""}catch(Y){T=""}i.j=T+" ["+i.ba()+"]",Ca(i)}}finally{fo(i)}}}function fo(i,e){if(i.g){Fi(i);const r=i.g,o=i.C[0]?q:null;i.g=null,i.C=null,e||St(i,"ready");try{r.onreadystatechange=o}catch(l){}}}function Fi(i){i.g&&i.K&&(i.g.ontimeout=null),i.A&&(z.clearTimeout(i.A),i.A=null)}function pi(i){return i.g?i.g.readyState:0}function gu(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.J){case cs:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Hs(i,e,r){e:{for(o in r){var o=!1;break e}o=!0}o||(r=function(i){let e="";return kt(i,function(r,o){e+=o,e+=":",e+=r,e+="\r\n"}),e}(r),"string"==typeof i?null!=r&&encodeURIComponent(String(r)):or(i,e,r))}function po(i,e,r){return r&&r.internalChannelParams&&r.internalChannelParams[i]||e}function ua(i){this.za=0,this.l=[],this.h=new Qn,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=po("failFast",!1,i),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=po("baseRetryDelayMs",5e3,i),this.$a=po("retryDelaySeedMs",1e4,i),this.Ya=po("forwardChannelMaxRetries",2,i),this.ra=po("forwardChannelRequestTimeoutMs",2e4,i),this.qa=i&&i.xmlHttpFactory||void 0,this.Ba=i&&i.Yb||!1,this.K=void 0,this.H=i&&i.supportsCrossDomainXhr||!1,this.J="",this.i=new Tt(i&&i.concurrentRequestLimit),this.Ca=new pt,this.ja=i&&i.fastHandshake||!1,this.Ra=i&&i.Wb||!1,i&&i.Aa&&this.h.Aa(),i&&i.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&i&&i.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!i||!1!==i.Xb}function Ws(i){if(jo(i),3==i.G){var e=i.V++,r=Yr(i.F);or(r,"SID",i.J),or(r,"RID",e),or(r,"TYPE","terminate"),mo(i,r),(e=new ms(i,i.h,e,void 0)).K=2,e.v=Ss(Yr(r)),r=!1,z.navigator&&z.navigator.sendBeacon&&(r=z.navigator.sendBeacon(e.v.toString(),"")),!r&&z.Image&&((new Image).src=e.v,r=!0),r||(e.g=Bu(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Us(e)}zs(i)}function la(i){i.g&&(Ho(i),i.g.cancel(),i.g=null)}function jo(i){la(i),i.u&&(z.clearTimeout(i.u),i.u=null),yo(i),i.i.cancel(),i.m&&("number"==typeof i.m&&z.clearTimeout(i.m),i.m=null)}function go(i,e){i.l.push(new class{constructor(i,e){this.h=i,this.g=e}}(i.Za++,e)),3==i.G&&no(i)}function no(i){Zn(i.i)||i.m||(i.m=!0,$t(i.Ha,i),i.C=0)}function Ms(i,e){var r;r=e?e.m:i.V++;const o=Yr(i.F);or(o,"SID",i.J),or(o,"RID",r),or(o,"AID",i.U),mo(i,o),i.o&&i.s&&Hs(o,i.o,i.s),r=new ms(i,i.h,r,i.C+1),null===i.o&&(r.H=i.s),e&&(i.l=e.D.concat(i.l)),e=Ro(i,r,1e3),r.setTimeout(Math.round(.5*i.ra)+Math.round(.5*i.ra*Math.random())),ie(i.i,r),hi(r,o,e)}function mo(i,e){i.j&&as({},function(r,o){or(e,o,r)})}function Ro(i,e,r){r=Math.min(i.l.length,r);var o=i.j?Ie(i.j.Oa,i.j,i):null;e:{var l=i.l;let p=-1;for(;;){const T=["count="+r];-1==p?0<r?(p=l[0].h,T.push("ofs="+p)):p=0:T.push("ofs="+p);let M=!0;for(let Y=0;Y<r;Y++){let fe=l[Y].h;const Pe=l[Y].g;if(fe-=p,0>fe)p=Math.max(0,l[Y].h-100),M=!1;else try{In(Pe,T,"req"+fe+"_")}catch(Ge){o&&o(Pe)}}if(M){o=T.join("&");break e}}}return i=i.l.splice(0,r),e.D=i,o}function ca(i){i.g||i.u||(i.Y=1,$t(i.Ga,i),i.A=0)}function $o(i){return!(i.g||i.u||3<=i.A||(i.Y++,i.u=je(Ie(i.Ga,i),mu(i,i.A)),i.A++,0))}function Ho(i){null!=i.B&&(z.clearTimeout(i.B),i.B=null)}function ro(i){i.g=new ms(i,i.h,"rpc",i.Y),null===i.o&&(i.g.H=i.s),i.g.O=0;var e=Yr(i.oa);or(e,"RID","rpc"),or(e,"SID",i.J),or(e,"CI",i.N?"0":"1"),or(e,"AID",i.U),mo(i,e),or(e,"TYPE","xmlhttp"),i.o&&i.s&&Hs(e,i.o,i.s),i.K&&i.g.setTimeout(i.K);var r=i.g;i=i.la,r.K=1,r.v=Ss(Yr(e)),r.s=null,r.U=!0,$i(r,i)}function yo(i){null!=i.v&&(z.clearTimeout(i.v),i.v=null)}function Ga(i,e){var r=null;if(i.g==e){yo(i),Ho(i),i.g=null;var o=2}else{if(!oe(i.i,e))return;r=e.D,Le(i.i,e),o=1}if(i.I=e.N,0!=i.G)if(e.i)if(1==o){r=e.s?e.s.length:0,e=Date.now()-e.F;var l=i.C;St(o=Oi(),new Ke(o,r,e,l)),no(i)}else ca(i);else if(3==(l=e.o)||0==l&&0<i.I||!(1==o&&function(i,e){return!(wr(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.l=e.D.concat(i.l),0):1==i.G||2==i.G||i.C>=(i.Xa?0:i.Ya)||(i.m=je(Ie(i.Ha,i,e),mu(i,i.C)),i.C++,0)))}(i,e)||2==o&&$o(i)))switch(r&&0<r.length&&(e=i.i,e.i=e.i.concat(r)),l){case 1:ei(i,5);break;case 4:ei(i,10);break;case 3:ei(i,6);break;default:ei(i,2)}}function mu(i,e){let r=i.Pa+Math.floor(Math.random()*i.$a);return i.j||(r*=2),r*e}function ei(i,e){if(i.h.info("Error code "+e),2==e){var r=null;i.j&&(r=null);var o=Ie(i.jb,i);r||(r=new ai("//www.google.com/images/cleardot.gif"),z.location&&"http"==z.location.protocol||qi(r,"https"),Ss(r)),function(i,e){const r=new Qn;if(z.Image){const o=new Image;o.onload=me(Tn,r,o,"TestLoadImage: loaded",!0,e),o.onerror=me(Tn,r,o,"TestLoadImage: error",!1,e),o.onabort=me(Tn,r,o,"TestLoadImage: abort",!1,e),o.ontimeout=me(Tn,r,o,"TestLoadImage: timeout",!1,e),z.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=i}else e(!1)}(r.toString(),o)}else Mr(2);i.G=0,i.j&&i.j.va(e),zs(i),jo(i)}function zs(i){i.G=0,i.I=-1,i.j&&((0!=et(i.i).length||0!=i.l.length)&&(i.i.i.length=0,ye(i.l),i.l.length=0),i.j.ua())}function zr(i,e,r){let o=function(i){return i instanceof ai?Yr(i):new ai(i,void 0)}(r);if(""!=o.i)e&&Hi(o,e+"."+o.i),ki(o,o.m);else{const l=z.location;o=function(i,e,r,o){var l=new ai(null,void 0);return i&&qi(l,i),e&&Hi(l,e),r&&ki(l,r),o&&(l.l=o),l}(l.protocol,e?e+"."+l.hostname:l.hostname,+l.port,r)}return i.aa&&kt(i.aa,function(l,p){or(o,p,l)}),r=i.sa,(e=i.D)&&r&&or(o,e,r),or(o,"VER",i.ma),mo(i,o),o}function Bu(i,e,r){if(e&&!i.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Wn(r&&i.Ba&&!i.qa?new Dr({ib:!0}):i.qa)).L=i.H,e}function Yi(){}function Ka(){if(qt&&!(10<=Number(Kt)))throw Error("Environmental error: no available transport.")}function Qi(i,e){mt.call(this),this.g=new ua(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(i?i["X-WebChannel-Client-Profile"]=e.ya:i={"X-WebChannel-Client-Profile":e.ya}),this.g.P=i,(i=e&&e.httpHeadersOverwriteParam)&&!_e(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!_e(e)&&(this.g.D=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new ds(this)}function Wo(i){xn.call(this);var e=i.__sm__;if(e){e:{for(const r in e){i=r;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function da(){qr.call(this),this.status=1}function ds(i){this.g=i}(W=Wn.prototype).ea=function(i,e,r,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+i);e=e?e.toUpperCase():"GET",this.H=i,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():$r.g(),this.C=function(i){return i.h||(i.h=i.i())}(this.u?this.u:$r),this.g.onreadystatechange=Ie(this.Fa,this);try{this.F=!0,this.g.open(e,String(i),!0),this.F=!1}catch(p){return void Uu(this,p)}i=r||"";const l=new Di(this.headers);o&&as(o,function(p,T){l.set(T,p)}),o=function(i){e:{var e=aa;const r=i.length,o="string"==typeof i?i.split(""):i;for(let l=0;l<r;l++)if(l in o&&e.call(void 0,o[l],l,i)){e=l;break e}e=-1}return 0>e?null:"string"==typeof i?i.charAt(e):i[e]}(l.T()),r=z.FormData&&i instanceof z.FormData,!(0<=we(Wi,e))||o||r||l.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),l.forEach(function(p,T){this.g.setRequestHeader(T,p)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Fi(this),0<this.B&&((this.K=function(i){return qt&&kn()&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ie(this.pa,this)):this.A=_r(this.pa,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(p){Uu(this,p)}},W.pa=function(){void 0!==Z&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,St(this,"timeout"),this.abort(8))},W.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,St(this,"complete"),St(this,"abort"),fo(this))},W.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),fo(this,!0)),Wn.Z.M.call(this)},W.Fa=function(){this.s||(this.F||this.v||this.l?ho(this):this.cb())},W.cb=function(){ho(this)},W.ba=function(){try{return 2<pi(this)?this.g.status:-1}catch(i){return-1}},W.ga=function(){try{return this.g?this.g.responseText:""}catch(i){return""}},W.Qa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),to(e)}},W.Da=function(){return this.m},W.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(W=ua.prototype).ma=8,W.G=1,W.hb=function(i){try{this.h.info("Origin Trials invoked: "+i)}catch(e){}},W.Ha=function(i){if(this.m)if(this.m=null,1==this.G){if(!i){this.V=Math.floor(1e5*Math.random()),i=this.V++;const l=new ms(this,this.h,i,void 0);let p=this.s;if(this.P&&(p?(p=xt(p),Hn(p,this.P)):p=this.P),null===this.o&&(l.H=p),this.ja)e:{for(var e=0,r=0;r<this.l.length;r++){var o=this.l[r];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=r;break e}if(4096===e||r===this.l.length-1){e=r+1;break e}}e=1e3}else e=1e3;e=Ro(this,l,e),or(r=Yr(this.F),"RID",i),or(r,"CVER",22),this.D&&or(r,"X-HTTP-Session-Id",this.D),mo(this,r),this.o&&p&&Hs(r,this.o,p),ie(this.i,l),this.Ra&&or(r,"TYPE","init"),this.ja?(or(r,"$req",e),or(r,"SID","null"),l.$=!0,hi(l,r,null)):hi(l,r,e),this.G=2}}else 3==this.G&&(i?Ms(this,i):0==this.l.length||Zn(this.i)||Ms(this))},W.Ga=function(){if(this.u=null,ro(this),this.$&&!(this.L||null==this.g||0>=this.O)){var i=2*this.O;this.h.info("BP detection timer enabled: "+i),this.B=je(Ie(this.bb,this),i)}},W.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Mr(10),la(this),ro(this))},W.ab=function(){null!=this.v&&(this.v=null,la(this),$o(this),Mr(19))},W.jb=function(i){i?(this.h.info("Successfully pinged google.com"),Mr(2)):(this.h.info("Failed to ping google.com"),Mr(1))},(W=Yi.prototype).xa=function(){},W.wa=function(){},W.va=function(){},W.ua=function(){},W.Oa=function(){},Ka.prototype.g=function(i,e){return new Qi(i,e)},G(Qi,mt),Qi.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var i=this.g,e=this.l,r=this.h||void 0;i.Wa&&(i.h.info("Origin Trials enabled."),$t(Ie(i.hb,i,e))),Mr(0),i.W=e,i.aa=r||{},i.N=i.X,i.F=zr(i,null,i.W),no(i)},Qi.prototype.close=function(){Ws(this.g)},Qi.prototype.u=function(i){if("string"==typeof i){var e={};e.__data__=i,go(this.g,e)}else this.v?((e={}).__data__=vn(i),go(this.g,e)):go(this.g,i)},Qi.prototype.M=function(){this.g.j=null,delete this.j,Ws(this.g),delete this.g,Qi.Z.M.call(this)},G(Wo,xn),G(da,qr),G(ds,Yi),ds.prototype.xa=function(){St(this.g,"a")},ds.prototype.wa=function(i){St(this.g,new Wo(i))},ds.prototype.va=function(i){St(this.g,new da(i))},ds.prototype.ua=function(){St(this.g,"b")},Ka.prototype.createWebChannel=Ka.prototype.g,Qi.prototype.send=Qi.prototype.u,Qi.prototype.open=Qi.prototype.m,Qi.prototype.close=Qi.prototype.close,Qe.NO_ERROR=0,Qe.TIMEOUT=8,Qe.HTTP_ERROR=6,ft.COMPLETE="complete",Kn.EventType=gr,gr.OPEN="a",gr.CLOSE="b",gr.ERROR="c",gr.MESSAGE="d",mt.prototype.listen=mt.prototype.N,Wn.prototype.listenOnce=Wn.prototype.O,Wn.prototype.getLastError=Wn.prototype.La,Wn.prototype.getLastErrorCode=Wn.prototype.Da,Wn.prototype.getStatus=Wn.prototype.ba,Wn.prototype.getResponseJson=Wn.prototype.Qa,Wn.prototype.getResponseText=Wn.prototype.ga,Wn.prototype.send=Wn.prototype.ea;var zo=j.createWebChannelTransport=function(){return new Ka},io=j.getStatEventTarget=function(){return Oi()},Mo=j.ErrorCode=Qe,Vu=j.EventType=ft,ju=j.Event=hn,so=j.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Go=j.FetchXmlHttpFactory=Dr,ba=j.WebChannel=Kn,_o=j.XhrIo=Wn;const Ko="@firebase/firestore";class ti{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ti.UNAUTHENTICATED=new ti(null),ti.GOOGLE_CREDENTIALS=new ti("google-credentials-uid"),ti.FIRST_PARTY=new ti("first-party-uid"),ti.MOCK_USER=new ti("mock-user");let Po="9.6.5";const vo=new ce.Yd("@firebase/firestore");function yu(){return vo.logLevel}function yl(i){vo.setLogLevel(i)}function Pt(i,...e){if(vo.logLevel<=ce.in.DEBUG){const r=e.map(zi);vo.debug(`Firestore (${Po}): ${i}`,...r)}}function kr(i,...e){if(vo.logLevel<=ce.in.ERROR){const r=e.map(zi);vo.error(`Firestore (${Po}): ${i}`,...r)}}function Zo(i,...e){if(vo.logLevel<=ce.in.WARN){const r=e.map(zi);vo.warn(`Firestore (${Po}): ${i}`,...r)}}function zi(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch(r){return i}}function gn(i="Unexpected state"){const e=`FIRESTORE (${Po}) INTERNAL ASSERTION FAILED: `+i;throw kr(e),new Error(e)}function Nn(i,e){i||gn()}function Ji(i,e){i||gn()}function Wt(i,e){return i}const nt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ct extends x.ZR{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Qr{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}class S{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class I{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(ti.UNAUTHENTICATED))}shutdown(){}}class v{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class P{constructor(e){this.t=e,this.currentUser=ti.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){var o=this;let l=this.i;const p=fe=>this.i!==l?(l=this.i,r(fe)):Promise.resolve();let T=new Qr;this.o=()=>{this.i++,this.currentUser=this.u(),T.resolve(),T=new Qr,e.enqueueRetryable(()=>p(this.currentUser))};const M=()=>{const fe=T;e.enqueueRetryable((0,f.Z)(function*(){yield fe.promise,yield p(o.currentUser)}))},Y=fe=>{Pt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=fe,this.auth.addAuthTokenListener(this.o),M()};this.t.onInit(fe=>Y(fe)),setTimeout(()=>{if(!this.auth){const fe=this.t.getImmediate({optional:!0});fe?Y(fe):(Pt("FirebaseAuthCredentialsProvider","Auth not yet detected"),T.resolve(),T=new Qr)}},0),M()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(o=>this.i!==e?(Pt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(Nn("string"==typeof o.accessToken),new S(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Nn(null===e||"string"==typeof e),new ti(e)}}class F{constructor(e,r,o){this.type="FirstParty",this.user=ti.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",r);const l=e.auth.getAuthHeaderValueForFirstParty([]);l&&this.headers.set("Authorization",l),o&&this.headers.set("X-Goog-Iam-Authorization-Token",o)}}class X{constructor(e,r,o){this.h=e,this.l=r,this.m=o}getToken(){return Promise.resolve(new F(this.h,this.l,this.m))}start(e,r){e.enqueueRetryable(()=>r(ti.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Se{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Be{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null}start(e,r){this.o=l=>{e.enqueueRetryable(()=>{return null!=(p=l).error&&Pt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${p.error.message}`),r(p.token);var p})};const o=l=>{Pt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.appCheck.addTokenListener(this.o)};this.g.onInit(l=>o(l)),setTimeout(()=>{if(!this.appCheck){const l=this.g.getImmediate({optional:!0});l?o(l):Pt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(Nn("string"==typeof r.token),new Se(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class Bt{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=o=>this.p(o),this.T=o=>r.writeSequenceNumber(o))}p(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function pr(i){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),r=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(r);else for(let o=0;o<i;o++)r[o]=Math.floor(256*Math.random());return r}Bt.I=-1;class Dn{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/e.length)*e.length;let o="";for(;o.length<20;){const l=pr(40);for(let p=0;p<l.length;++p)o.length<20&&l[p]<r&&(o+=e.charAt(l[p]%e.length))}return o}}function on(i,e){return i<e?-1:i>e?1:0}function hr(i,e,r){return i.length===e.length&&i.every((o,l)=>r(o,e[l]))}function No(i){return i+"\0"}class Pr{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new Ct(nt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Ct(nt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new Ct(nt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ct(nt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Pr.fromMillis(Date.now())}static fromDate(e){return Pr.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*r));return new Pr(r,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?on(this.nanoseconds,e.nanoseconds):on(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Sn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Sn(e)}static min(){return new Sn(new Pr(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function vs(i){let e=0;for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&e++;return e}function Xi(i,e){for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&e(r,i[r])}function oo(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class Ui{constructor(e,r,o){void 0===r?r=0:r>e.length&&gn(),void 0===o?o=e.length-r:o>e.length-r&&gn(),this.segments=e,this.offset=r,this.len=o}get length(){return this.len}isEqual(e){return 0===Ui.comparator(this,e)}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Ui?e.forEach(o=>{r.push(o)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,o=this.limit();r<o;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const o=Math.min(e.length,r.length);for(let l=0;l<o;l++){const p=e.get(l),T=r.get(l);if(p<T)return-1;if(p>T)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class Er extends Ui{construct(e,r,o){return new Er(e,r,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const r=[];for(const o of e){if(o.indexOf("//")>=0)throw new Ct(nt.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);r.push(...o.split("/").filter(l=>l.length>0))}return new Er(r)}static emptyPath(){return new Er([])}}const ha=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class gi extends Ui{construct(e,r,o){return new gi(e,r,o)}static isValidIdentifier(e){return ha.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),gi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new gi(["__name__"])}static fromServerFormat(e){const r=[];let o="",l=0;const p=()=>{if(0===o.length)throw new Ct(nt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(o),o=""};let T=!1;for(;l<e.length;){const M=e[l];if("\\"===M){if(l+1===e.length)throw new Ct(nt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const Y=e[l+1];if("\\"!==Y&&"."!==Y&&"`"!==Y)throw new Ct(nt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=Y,l+=2}else"`"===M?(T=!T,l++):"."!==M||T?(o+=M,l++):(p(),l++)}if(p(),T)throw new Ct(nt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new gi(r)}static emptyPath(){return new gi([])}}class Eo{constructor(e){this.fields=e,e.sort(gi.comparator)}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return hr(this.fields,e.fields,(r,o)=>r.isEqual(o))}}function qo(){return"undefined"!=typeof atob}class Br{constructor(e){this.binaryString=e}static fromBase64String(e){const r=atob(e);return new Br(r)}static fromUint8Array(e){const r=function(o){let l="";for(let p=0;p<o.length;++p)l+=String.fromCharCode(o[p]);return l}(e);return new Br(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const r=new Uint8Array(e.length);for(let o=0;o<e.length;o++)r[o]=e.charCodeAt(o);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return on(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Br.EMPTY_BYTE_STRING=new Br("");const fa=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Es(i){if(Nn(!!i),"string"==typeof i){let e=0;const r=fa.exec(i);if(Nn(!!r),r[1]){let l=r[1];l=(l+"000000000").substr(0,9),e=Number(l)}const o=new Date(i);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:mi(i.seconds),nanos:mi(i.nanos)}}function mi(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function ao(i){return"string"==typeof i?Br.fromBase64String(i):Br.fromUint8Array(i)}function Yo(i){var e,r;return"server_timestamp"===(null===(r=((null===(e=null==i?void 0:i.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===r?void 0:r.stringValue)}function Yl(i){const e=i.mapValue.fields.__previous_value__;return Yo(e)?Yl(e):e}function k(i){const e=Es(i.mapValue.fields.__local_write_time__.timestampValue);return new Pr(e.seconds,e.nanos)}function g(i){return null==i}function m(i){return 0===i&&1/i==-1/0}function A(i){return"number"==typeof i&&Number.isInteger(i)&&!m(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}class L{constructor(e){this.path=e}static fromPath(e){return new L(Er.fromString(e))}static fromName(e){return new L(Er.fromString(e).popFirst(5))}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}isEqual(e){return null!==e&&0===Er.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,r){return Er.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new L(new Er(e.slice()))}}function ne(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Yo(i)?4:10:gn()}function Ee(i,e){if(i===e)return!0;const r=ne(i);if(r!==ne(e))return!1;switch(r){case 0:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return k(i).isEqual(k(e));case 3:return function(o,l){if("string"==typeof o.timestampValue&&"string"==typeof l.timestampValue&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const p=Es(o.timestampValue),T=Es(l.timestampValue);return p.seconds===T.seconds&&p.nanos===T.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return l=e,ao(i.bytesValue).isEqual(ao(l.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,l){return mi(o.geoPointValue.latitude)===mi(l.geoPointValue.latitude)&&mi(o.geoPointValue.longitude)===mi(l.geoPointValue.longitude)}(i,e);case 2:return function(o,l){if("integerValue"in o&&"integerValue"in l)return mi(o.integerValue)===mi(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const p=mi(o.doubleValue),T=mi(l.doubleValue);return p===T?m(p)===m(T):isNaN(p)&&isNaN(T)}return!1}(i,e);case 9:return hr(i.arrayValue.values||[],e.arrayValue.values||[],Ee);case 10:return function(o,l){const p=o.mapValue.fields||{},T=l.mapValue.fields||{};if(vs(p)!==vs(T))return!1;for(const M in p)if(p.hasOwnProperty(M)&&(void 0===T[M]||!Ee(p[M],T[M])))return!1;return!0}(i,e);default:return gn()}var l}function Re(i,e){return void 0!==(i.values||[]).find(r=>Ee(r,e))}function Je(i,e){if(i===e)return 0;const r=ne(i),o=ne(e);if(r!==o)return on(r,o);switch(r){case 0:return 0;case 1:return on(i.booleanValue,e.booleanValue);case 2:return function(l,p){const T=mi(l.integerValue||l.doubleValue),M=mi(p.integerValue||p.doubleValue);return T<M?-1:T>M?1:T===M?0:isNaN(T)?isNaN(M)?0:-1:1}(i,e);case 3:return at(i.timestampValue,e.timestampValue);case 4:return at(k(i),k(e));case 5:return on(i.stringValue,e.stringValue);case 6:return function(l,p){const T=ao(l),M=ao(p);return T.compareTo(M)}(i.bytesValue,e.bytesValue);case 7:return function(l,p){const T=l.split("/"),M=p.split("/");for(let Y=0;Y<T.length&&Y<M.length;Y++){const fe=on(T[Y],M[Y]);if(0!==fe)return fe}return on(T.length,M.length)}(i.referenceValue,e.referenceValue);case 8:return function(l,p){const T=on(mi(l.latitude),mi(p.latitude));return 0!==T?T:on(mi(l.longitude),mi(p.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(l,p){const T=l.values||[],M=p.values||[];for(let Y=0;Y<T.length&&Y<M.length;++Y){const fe=Je(T[Y],M[Y]);if(fe)return fe}return on(T.length,M.length)}(i.arrayValue,e.arrayValue);case 10:return function(l,p){const T=l.fields||{},M=Object.keys(T),Y=p.fields||{},fe=Object.keys(Y);M.sort(),fe.sort();for(let Pe=0;Pe<M.length&&Pe<fe.length;++Pe){const Ge=on(M[Pe],fe[Pe]);if(0!==Ge)return Ge;const lt=Je(T[M[Pe]],Y[fe[Pe]]);if(0!==lt)return lt}return on(M.length,fe.length)}(i.mapValue,e.mapValue);default:throw gn()}}function at(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return on(i,e);const r=Es(i),o=Es(e),l=on(r.seconds,o.seconds);return 0!==l?l:on(r.nanos,o.nanos)}function Rt(i){return Nt(i)}function Nt(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(o){const l=Es(o);return`time(${l.seconds},${l.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?ao(i.bytesValue).toBase64():"referenceValue"in i?L.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(e=i.geoPointValue).latitude},${e.longitude})`:"arrayValue"in i?function(o){let l="[",p=!0;for(const T of o.values||[])p?p=!1:l+=",",l+=Nt(T);return l+"]"}(i.arrayValue):"mapValue"in i?function(o){const l=Object.keys(o.fields||{}).sort();let p="{",T=!0;for(const M of l)T?T=!1:p+=",",p+=`${M}:${Nt(o.fields[M])}`;return p+"}"}(i.mapValue):gn();var e}function Gt(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Qt(i){return!!i&&"integerValue"in i}function an(i){return!!i&&"arrayValue"in i}function mn(i){return!!i&&"nullValue"in i}function cn(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function fr(i){return!!i&&"mapValue"in i}function Lr(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Xi(i.mapValue.fields,(r,o)=>e.mapValue.fields[r]=Lr(o)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(i.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=Lr(i.arrayValue.values[r]);return e}return Object.assign({},i)}class yr{constructor(e){this.value=e}static empty(){return new yr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let o=0;o<e.length-1;++o)if(r=(r.mapValue.fields||{})[e.get(o)],!fr(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=Lr(r)}setAll(e){let r=gi.emptyPath(),o={},l=[];e.forEach((T,M)=>{if(!r.isImmediateParentOf(M)){const Y=this.getFieldsMap(r);this.applyChanges(Y,o,l),o={},l=[],r=M.popLast()}T?o[M.lastSegment()]=Lr(T):l.push(M.lastSegment())});const p=this.getFieldsMap(r);this.applyChanges(p,o,l)}delete(e){const r=this.field(e.popLast());fr(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return Ee(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let o=0;o<e.length;++o){let l=r.mapValue.fields[e.get(o)];fr(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},r.mapValue.fields[e.get(o)]=l),r=l}return r.mapValue.fields}applyChanges(e,r,o){Xi(r,(l,p)=>e[l]=p);for(const l of o)delete e[l]}clone(){return new yr(Lr(this.value))}}function ui(i){const e=[];return Xi(i.fields,(r,o)=>{const l=new gi([r]);if(fr(o)){const p=ui(o.mapValue).fields;if(0===p.length)e.push(l);else for(const T of p)e.push(l.child(T))}else e.push(l)}),new Eo(e)}class Cr{constructor(e,r,o,l,p){this.key=e,this.documentType=r,this.version=o,this.data=l,this.documentState=p}static newInvalidDocument(e){return new Cr(e,0,Sn.min(),yr.empty(),0)}static newFoundDocument(e,r,o){return new Cr(e,1,r,o,0)}static newNoDocument(e,r){return new Cr(e,2,r,yr.empty(),0)}static newUnknownDocument(e,r){return new Cr(e,3,r,yr.empty(),2)}convertToFoundDocument(e,r){return this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=yr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=yr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Cr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Cr(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ts{constructor(e,r=null,o=[],l=[],p=null,T=null,M=null){this.path=e,this.collectionGroup=r,this.orderBy=o,this.filters=l,this.limit=p,this.startAt=T,this.endAt=M,this.R=null}}function li(i,e=null,r=[],o=[],l=null,p=null,T=null){return new Ts(i,e,r,o,l,p,T)}function ws(i){const e=Wt(i);if(null===e.R){let r=e.path.canonicalString();null!==e.collectionGroup&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(o=>function(i){return i.field.canonicalString()+i.op.toString()+Rt(i.value)}(o)).join(","),r+="|ob:",r+=e.orderBy.map(o=>{return(l=o).field.canonicalString()+l.dir;var l}).join(","),g(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=Ki(e.startAt)),e.endAt&&(r+="|ub:",r+=Ki(e.endAt)),e.R=r}return e.R}function Ps(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let l=0;l<i.orderBy.length;l++)if(!Aa(i.orderBy[l],e.orderBy[l]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let l=0;l<i.filters.length;l++)if((r=i.filters[l]).op!==(o=e.filters[l]).op||!r.field.isEqual(o.field)||!Ee(r.value,o.value))return!1;var r,o;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Bi(i.startAt,e.startAt)&&Bi(i.endAt,e.endAt)}function Gi(i){return L.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}class ni extends class{}{constructor(e,r,o){super(),this.field=e,this.op=r,this.value=o}static create(e,r,o){return e.isKeyField()?"in"===r||"not-in"===r?this.P(e,r,o):new Ql(e,r,o):"array-contains"===r?new zn(e,o):"in"===r?new Ir(e,o):"not-in"===r?new bi(e,o):"array-contains-any"===r?new xs(e,o):new ni(e,r,o)}static P(e,r,o){return"in"===r?new $u(e,o):new ln(e,o)}matches(e){const r=e.data.field(this.field);return"!="===this.op?null!==r&&this.v(Je(r,this.value)):null!==r&&ne(this.value)===ne(r)&&this.v(Je(r,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return gn()}}V(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Ql extends ni{constructor(e,r,o){super(e,r,o),this.key=L.fromName(o.referenceValue)}matches(e){const r=L.comparator(e.key,this.key);return this.v(r)}}class $u extends ni{constructor(e,r){super(e,"in",r),this.keys=Mn(0,r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class ln extends ni{constructor(e,r){super(e,"not-in",r),this.keys=Mn(0,r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function Mn(i,e){var r;return((null===(r=e.arrayValue)||void 0===r?void 0:r.values)||[]).map(o=>L.fromName(o.referenceValue))}class zn extends ni{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return an(r)&&Re(r.arrayValue,this.value)}}class Ir extends ni{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return null!==r&&Re(this.value.arrayValue,r)}}class bi extends ni{constructor(e,r){super(e,"not-in",r)}matches(e){if(Re(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return null!==r&&!Re(this.value.arrayValue,r)}}class xs extends ni{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!an(r)||!r.arrayValue.values)&&r.arrayValue.values.some(o=>Re(this.value.arrayValue,o))}}class Pi{constructor(e,r){this.position=e,this.before=r}}function Ki(i){return`${i.before?"b":"a"}:${i.position.map(e=>Rt(e)).join(",")}`}class Vr{constructor(e,r="asc"){this.field=e,this.dir=r}}function Aa(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}function Sa(i,e,r){let o=0;for(let l=0;l<i.position.length;l++){const p=e[l],T=i.position[l];if(o=p.field.isKeyField()?L.comparator(L.fromName(T.referenceValue),r.key):Je(T,r.data.field(p.field)),"desc"===p.dir&&(o*=-1),0!==o)break}return i.before?o<=0:o<0}function Bi(i,e){if(null===i)return null===e;if(null===e||i.before!==e.before||i.position.length!==e.position.length)return!1;for(let r=0;r<i.position.length;r++)if(!Ee(i.position[r],e.position[r]))return!1;return!0}class hs{constructor(e,r=null,o=[],l=[],p=null,T="F",M=null,Y=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=o,this.filters=l,this.limit=p,this.limitType=T,this.startAt=M,this.endAt=Y,this.S=null,this.D=null}}function Za(i,e,r,o,l,p,T,M){return new hs(i,e,r,o,l,p,T,M)}function Ls(i){return new hs(i)}function Jo(i){return!g(i.limit)&&"F"===i.limitType}function _l(i){return!g(i.limit)&&"L"===i.limitType}function qa(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function _u(i){for(const e of i.filters)if(e.V())return e.field;return null}function Jl(i){return null!==i.collectionGroup}function yi(i){const e=Wt(i);if(null===e.S){e.S=[];const r=_u(e),o=qa(e);if(null!==r&&null===o)r.isKeyField()||e.S.push(new Vr(r)),e.S.push(new Vr(gi.keyField(),"asc"));else{let l=!1;for(const p of e.explicitOrderBy)e.S.push(p),p.field.isKeyField()&&(l=!0);if(!l){const p=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.S.push(new Vr(gi.keyField(),p))}}}return e.S}function ks(i){const e=Wt(i);if(!e.D)if("F"===e.limitType)e.D=li(e.path,e.collectionGroup,yi(e),e.filters,e.limit,e.startAt,e.endAt);else{const r=[];for(const p of yi(e))r.push(new Vr(p.field,"desc"===p.dir?"asc":"desc"));const o=e.endAt?new Pi(e.endAt.position,!e.endAt.before):null,l=e.startAt?new Pi(e.startAt.position,!e.startAt.before):null;e.D=li(e.path,e.collectionGroup,r,e.filters,e.limit,o,l)}return e.D}function rd(i,e,r){return new hs(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,r,i.startAt,i.endAt)}function Ya(i,e){return Ps(ks(i),ks(e))&&i.limitType===e.limitType}function Oa(i){return`${ws(ks(i))}|lt:${i.limitType}`}function Xl(i){return`Query(target=${function(i){let e=i.path.canonicalString();return null!==i.collectionGroup&&(e+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(e+=`, filters: [${i.filters.map(r=>{return`${(o=r).field.canonicalString()} ${o.op} ${Rt(o.value)}`;var o}).join(", ")}]`),g(i.limit)||(e+=", limit: "+i.limit),i.orderBy.length>0&&(e+=`, orderBy: [${i.orderBy.map(r=>{return`${(o=r).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),i.startAt&&(e+=", startAt: "+Ki(i.startAt)),i.endAt&&(e+=", endAt: "+Ki(i.endAt)),`Target(${e})`}(ks(i))}; limitType=${i.limitType})`}function Qa(i,e){return e.isFoundDocument()&&function(r,o){const l=o.key.path;return null!==r.collectionGroup?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(l):L.isDocumentKey(r.path)?r.path.isEqual(l):r.path.isImmediateParentOf(l)}(i,e)&&function(r,o){for(const l of r.explicitOrderBy)if(!l.field.isKeyField()&&null===o.data.field(l.field))return!1;return!0}(i,e)&&function(r,o){for(const l of r.filters)if(!l.matches(o))return!1;return!0}(i,e)&&(o=e,!((r=i).startAt&&!Sa(r.startAt,yi(r),o)||r.endAt&&Sa(r.endAt,yi(r),o)));var r,o}function Hu(i){return(e,r)=>{let o=!1;for(const l of yi(i)){const p=Ja(l,e,r);if(0!==p)return p;o=o||l.field.isKeyField()}return 0}}function Ja(i,e,r){const o=i.field.isKeyField()?L.comparator(e.key,r.key):function(l,p,T){const M=p.data.field(l),Y=T.data.field(l);return null!==M&&null!==Y?Je(M,Y):gn()}(i.field,e,r);switch(i.dir){case"asc":return o;case"desc":return-1*o;default:return gn()}}function pa(i,e){if(i.C){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:m(e)?"-0":e}}function Wu(i){return{integerValue:""+i}}function Xa(i,e){return A(e)?Wu(e):pa(i,e)}class zu{constructor(){this._=void 0}}function ec(i,e,r){return i instanceof Ra?function(o,l){const p={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&(p.fields.__previous_value__=l),{mapValue:p}}(r,e):i instanceof ga?id(i,e):i instanceof To?vu(i,e):function(o,l){const p=Gu(o,l),T=yh(p)+yh(o.N);return Qt(p)&&Qt(o.N)?Wu(T):pa(o.k,T)}(i,e)}function vl(i,e,r){return i instanceof ga?id(i,e):i instanceof To?vu(i,e):r}function Gu(i,e){return i instanceof Ma?Qt(r=e)||(o=r)&&"doubleValue"in o?e:{integerValue:0}:null;var o,r}class Ra extends zu{}class ga extends zu{constructor(e){super(),this.elements=e}}function id(i,e){const r=tc(e);for(const o of i.elements)r.some(l=>Ee(l,o))||r.push(o);return{arrayValue:{values:r}}}class To extends zu{constructor(e){super(),this.elements=e}}function vu(i,e){let r=tc(e);for(const o of i.elements)r=r.filter(l=>!Ee(l,o));return{arrayValue:{values:r}}}class Ma extends zu{constructor(e,r){super(),this.k=e,this.N=r}}function yh(i){return mi(i.integerValue||i.doubleValue)}function tc(i){return an(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class Eu{constructor(e,r){this.field=e,this.transform=r}}class El{constructor(e,r){this.version=e,this.transformResults=r}}class Vi{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new Vi}static exists(e){return new Vi(void 0,e)}static updateTime(e){return new Vi(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Tl(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class eu{}function nc(i,e,r){i instanceof Xo?function(o,l,p){const T=o.value.clone(),M=ic(o.fieldTransforms,l,p.transformResults);T.setAll(M),l.convertToFoundDocument(p.version,T).setHasCommittedMutations()}(i,e,r):i instanceof ea?function(o,l,p){if(!Tl(o.precondition,l))return void l.convertToUnknownDocument(p.version);const T=ic(o.fieldTransforms,l,p.transformResults),M=l.data;M.setAll(rc(o)),M.setAll(T),l.convertToFoundDocument(p.version,M).setHasCommittedMutations()}(i,e,r):e.convertToNoDocument(r.version).setHasCommittedMutations()}function Pa(i,e,r){var l;i instanceof Xo?function(o,l,p){if(!Tl(o.precondition,l))return;const T=o.value.clone(),M=sc(o.fieldTransforms,p,l);T.setAll(M),l.convertToFoundDocument(vh(l),T).setHasLocalMutations()}(i,e,r):i instanceof ea?function(o,l,p){if(!Tl(o.precondition,l))return;const T=sc(o.fieldTransforms,p,l),M=l.data;M.setAll(rc(o)),M.setAll(T),l.convertToFoundDocument(vh(l),M).setHasLocalMutations()}(i,e,r):Tl(i.precondition,l=e)&&l.convertToNoDocument(Sn.min())}function _h(i,e){let r=null;for(const o of i.fieldTransforms){const l=e.data.field(o.field),p=Gu(o.transform,l||null);null!=p&&(null==r&&(r=yr.empty()),r.set(o.field,p))}return r||null}function sd(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(o=e.fieldTransforms,!!(void 0===(r=i.fieldTransforms)&&void 0===o||r&&o&&hr(r,o,(l,p)=>function(i,e){return i.field.isEqual(e.field)&&(o=e.transform,(r=i.transform)instanceof ga&&o instanceof ga||r instanceof To&&o instanceof To?hr(r.elements,o.elements,Ee):r instanceof Ma&&o instanceof Ma?Ee(r.N,o.N):r instanceof Ra&&o instanceof Ra);var r,o}(l,p))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var r,o}function vh(i){return i.isFoundDocument()?i.version:Sn.min()}class Xo extends eu{constructor(e,r,o,l=[]){super(),this.key=e,this.value=r,this.precondition=o,this.fieldTransforms=l,this.type=0}}class ea extends eu{constructor(e,r,o,l,p=[]){super(),this.key=e,this.data=r,this.fieldMask=o,this.precondition=l,this.fieldTransforms=p,this.type=1}}function rc(i){const e=new Map;return i.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const o=i.data.field(r);e.set(r,o)}}),e}function ic(i,e,r){const o=new Map;Nn(i.length===r.length);for(let l=0;l<r.length;l++){const p=i[l],T=p.transform,M=e.data.field(p.field);o.set(p.field,vl(T,M,r[l]))}return o}function sc(i,e,r){const o=new Map;for(const l of i){const p=l.transform,T=r.data.field(l.field);o.set(l.field,ec(p,T,e))}return o}class xo extends eu{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}}class wl extends eu{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}}class Eh{constructor(e){this.count=e}}var ji,br;function od(i){switch(i){default:return gn();case nt.CANCELLED:case nt.UNKNOWN:case nt.DEADLINE_EXCEEDED:case nt.RESOURCE_EXHAUSTED:case nt.INTERNAL:case nt.UNAVAILABLE:case nt.UNAUTHENTICATED:return!1;case nt.INVALID_ARGUMENT:case nt.NOT_FOUND:case nt.ALREADY_EXISTS:case nt.PERMISSION_DENIED:case nt.FAILED_PRECONDITION:case nt.ABORTED:case nt.OUT_OF_RANGE:case nt.UNIMPLEMENTED:case nt.DATA_LOSS:return!0}}function wo(i){if(void 0===i)return kr("GRPC error has no .code"),nt.UNKNOWN;switch(i){case ji.OK:return nt.OK;case ji.CANCELLED:return nt.CANCELLED;case ji.UNKNOWN:return nt.UNKNOWN;case ji.DEADLINE_EXCEEDED:return nt.DEADLINE_EXCEEDED;case ji.RESOURCE_EXHAUSTED:return nt.RESOURCE_EXHAUSTED;case ji.INTERNAL:return nt.INTERNAL;case ji.UNAVAILABLE:return nt.UNAVAILABLE;case ji.UNAUTHENTICATED:return nt.UNAUTHENTICATED;case ji.INVALID_ARGUMENT:return nt.INVALID_ARGUMENT;case ji.NOT_FOUND:return nt.NOT_FOUND;case ji.ALREADY_EXISTS:return nt.ALREADY_EXISTS;case ji.PERMISSION_DENIED:return nt.PERMISSION_DENIED;case ji.FAILED_PRECONDITION:return nt.FAILED_PRECONDITION;case ji.ABORTED:return nt.ABORTED;case ji.OUT_OF_RANGE:return nt.OUT_OF_RANGE;case ji.UNIMPLEMENTED:return nt.UNIMPLEMENTED;case ji.DATA_LOSS:return nt.DATA_LOSS;default:return gn()}}(br=ji||(ji={}))[br.OK=0]="OK",br[br.CANCELLED=1]="CANCELLED",br[br.UNKNOWN=2]="UNKNOWN",br[br.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",br[br.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",br[br.NOT_FOUND=5]="NOT_FOUND",br[br.ALREADY_EXISTS=6]="ALREADY_EXISTS",br[br.PERMISSION_DENIED=7]="PERMISSION_DENIED",br[br.UNAUTHENTICATED=16]="UNAUTHENTICATED",br[br.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",br[br.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",br[br.ABORTED=10]="ABORTED",br[br.OUT_OF_RANGE=11]="OUT_OF_RANGE",br[br.UNIMPLEMENTED=12]="UNIMPLEMENTED",br[br.INTERNAL=13]="INTERNAL",br[br.UNAVAILABLE=14]="UNAVAILABLE",br[br.DATA_LOSS=15]="DATA_LOSS";class ci{constructor(e,r){this.comparator=e,this.root=r||fs.EMPTY}insert(e,r){return new ci(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,fs.BLACK,null,null))}remove(e){return new ci(this.comparator,this.root.remove(e,this.comparator).copy(null,null,fs.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(0===o)return r.value;o<0?r=r.left:o>0&&(r=r.right)}return null}indexOf(e){let r=0,o=this.root;for(;!o.isEmpty();){const l=this.comparator(e,o.key);if(0===l)return r+o.left.size;l<0?o=o.left:(r+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,o)=>(e(r,o),!1))}toString(){const e=[];return this.inorderTraversal((r,o)=>(e.push(`${r}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new tu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new tu(this.root,e,this.comparator,!1)}getReverseIterator(){return new tu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new tu(this.root,e,this.comparator,!0)}}class tu{constructor(e,r,o,l){this.isReverse=l,this.nodeStack=[];let p=1;for(;!e.isEmpty();)if(p=r?o(e.key,r):1,l&&(p*=-1),p<0)e=this.isReverse?e.left:e.right;else{if(0===p){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class fs{constructor(e,r,o,l,p){this.key=e,this.value=r,this.color=null!=o?o:fs.RED,this.left=null!=l?l:fs.EMPTY,this.right=null!=p?p:fs.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,o,l,p){return new fs(null!=e?e:this.key,null!=r?r:this.value,null!=o?o:this.color,null!=l?l:this.left,null!=p?p:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,o){let l=this;const p=o(e,l.key);return l=p<0?l.copy(null,null,null,l.left.insert(e,r,o),null):0===p?l.copy(null,r,null,null,null):l.copy(null,null,null,null,l.right.insert(e,r,o)),l.fixUp()}removeMin(){if(this.left.isEmpty())return fs.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let o,l=this;if(r(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,r),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),0===r(e,l.key)){if(l.right.isEmpty())return fs.EMPTY;o=l.right.min(),l=l.copy(o.key,o.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,r))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,fs.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,fs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw gn();const e=this.left.check();if(e!==this.right.check())throw gn();return e+(this.isRed()?0:1)}}fs.EMPTY=null,fs.RED=!0,fs.BLACK=!1,fs.EMPTY=new class{constructor(){this.size=0}get key(){throw gn()}get value(){throw gn()}get color(){throw gn()}get left(){throw gn()}get right(){throw gn()}copy(i,e,r,o,l){return this}insert(i,e,r){return new fs(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class _i{constructor(e){this.comparator=e,this.data=new ci(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,o)=>(e(r),!1))}forEachInRange(e,r){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const l=o.getNext();if(this.comparator(l.key,e[1])>=0)return;r(l.key)}}forEachWhile(e,r){let o;for(o=void 0!==r?this.data.getIteratorFrom(r):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new ad(this.data.getIterator())}getIteratorFrom(e){return new ad(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(o=>{r=r.add(o)}),r}isEqual(e){if(!(e instanceof _i)||this.size!==e.size)return!1;const r=this.data.getIterator(),o=e.data.getIterator();for(;r.hasNext();){const l=r.getNext().key,p=o.getNext().key;if(0!==this.comparator(l,p))return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new _i(this.comparator);return r.data=e,r}}class ad{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const oc=new ci(L.comparator);function Io(){return oc}const ac=new ci(L.comparator);function Il(){return ac}const Th=new ci(L.comparator);function ud(){return Th}const wh=new _i(L.comparator);function Gr(...i){let e=wh;for(const r of i)e=e.add(r);return e}const nu=new _i(on);function Na(){return nu}class Tu{constructor(e,r,o,l,p){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=o,this.documentUpdates=l,this.resolvedLimboDocuments=p}static createSynthesizedRemoteEventForCurrentChange(e,r){const o=new Map;return o.set(e,Is.createSynthesizedTargetChangeForCurrentChange(e,r)),new Tu(Sn.min(),o,Na(),Io(),Gr())}}class Is{constructor(e,r,o,l,p){this.resumeToken=e,this.current=r,this.addedDocuments=o,this.modifiedDocuments=l,this.removedDocuments=p}static createSynthesizedTargetChangeForCurrentChange(e,r){return new Is(Br.EMPTY_BYTE_STRING,r,Gr(),Gr(),Gr())}}class xa{constructor(e,r,o,l){this.$=e,this.removedTargetIds=r,this.key=o,this.O=l}}class Ku{constructor(e,r){this.targetId=e,this.M=r}}class uc{constructor(e,r,o=Br.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=r,this.resumeToken=o,this.cause=l}}class lc{constructor(){this.F=0,this.L=Dh(),this.B=Br.EMPTY_BYTE_STRING,this.U=!1,this.q=!0}get current(){return this.U}get resumeToken(){return this.B}get K(){return 0!==this.F}get j(){return this.q}W(e){e.approximateByteSize()>0&&(this.q=!0,this.B=e)}G(){let e=Gr(),r=Gr(),o=Gr();return this.L.forEach((l,p)=>{switch(p){case 0:e=e.add(l);break;case 2:r=r.add(l);break;case 1:o=o.add(l);break;default:gn()}}),new Is(this.B,this.U,e,r,o)}H(){this.q=!1,this.L=Dh()}J(e,r){this.q=!0,this.L=this.L.insert(e,r)}Y(e){this.q=!0,this.L=this.L.remove(e)}X(){this.F+=1}Z(){this.F-=1}tt(){this.q=!0,this.U=!0}}class ld{constructor(e){this.et=e,this.nt=new Map,this.st=Io(),this.it=Ih(),this.rt=new _i(on)}ot(e){for(const r of e.$)e.O&&e.O.isFoundDocument()?this.ct(r,e.O):this.at(r,e.key,e.O);for(const r of e.removedTargetIds)this.at(r,e.key,e.O)}ut(e){this.forEachTarget(e,r=>{const o=this.ht(r);switch(e.state){case 0:this.lt(r)&&o.W(e.resumeToken);break;case 1:o.Z(),o.K||o.H(),o.W(e.resumeToken);break;case 2:o.Z(),o.K||this.removeTarget(r);break;case 3:this.lt(r)&&(o.tt(),o.W(e.resumeToken));break;case 4:this.lt(r)&&(this.ft(r),o.W(e.resumeToken));break;default:gn()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.nt.forEach((o,l)=>{this.lt(l)&&r(l)})}dt(e){const r=e.targetId,o=e.M.count,l=this.wt(r);if(l){const p=l.target;if(Gi(p))if(0===o){const T=new L(p.path);this.at(r,T,Cr.newNoDocument(T,Sn.min()))}else Nn(1===o);else this._t(r)!==o&&(this.ft(r),this.rt=this.rt.add(r))}}gt(e){const r=new Map;this.nt.forEach((p,T)=>{const M=this.wt(T);if(M){if(p.current&&Gi(M.target)){const Y=new L(M.target.path);null!==this.st.get(Y)||this.yt(T,Y)||this.at(T,Y,Cr.newNoDocument(Y,e))}p.j&&(r.set(T,p.G()),p.H())}});let o=Gr();this.it.forEach((p,T)=>{let M=!0;T.forEachWhile(Y=>{const fe=this.wt(Y);return!fe||2===fe.purpose||(M=!1,!1)}),M&&(o=o.add(p))});const l=new Tu(e,r,this.rt,this.st,o);return this.st=Io(),this.it=Ih(),this.rt=new _i(on),l}ct(e,r){if(!this.lt(e))return;const o=this.yt(e,r.key)?2:0;this.ht(e).J(r.key,o),this.st=this.st.insert(r.key,r),this.it=this.it.insert(r.key,this.Tt(r.key).add(e))}at(e,r,o){if(!this.lt(e))return;const l=this.ht(e);this.yt(e,r)?l.J(r,1):l.Y(r),this.it=this.it.insert(r,this.Tt(r).delete(e)),o&&(this.st=this.st.insert(r,o))}removeTarget(e){this.nt.delete(e)}_t(e){const r=this.ht(e).G();return this.et.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}X(e){this.ht(e).X()}ht(e){let r=this.nt.get(e);return r||(r=new lc,this.nt.set(e,r)),r}Tt(e){let r=this.it.get(e);return r||(r=new _i(on),this.it=this.it.insert(e,r)),r}lt(e){const r=null!==this.wt(e);return r||Pt("WatchChangeAggregator","Detected inactive target",e),r}wt(e){const r=this.nt.get(e);return r&&r.K?null:this.et.Et(e)}ft(e){this.nt.set(e,new lc),this.et.getRemoteKeysForTarget(e).forEach(r=>{this.at(e,r,null)})}yt(e,r){return this.et.getRemoteKeysForTarget(e).has(r)}}function Ih(){return new ci(L.comparator)}function Dh(){return new ci(L.comparator)}const Zu={asc:"ASCENDING",desc:"DESCENDING"},cc={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class dc{constructor(e,r){this.databaseId=e,this.C=r}}function Dl(i,e){return i.C?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ch(i,e){return i.C?e.toBase64():e.toUint8Array()}function cd(i,e){return Dl(i,e.toTimestamp())}function Zi(i){return Nn(!!i),Sn.fromTimestamp(function(e){const r=Es(e);return new Pr(r.seconds,r.nanos)}(i))}function qu(i,e){return(r=i,new Er(["projects",r.projectId,"databases",r.database])).child("documents").child(e).canonicalString();var r}function dd(i){const e=Er.fromString(i);return Nn(gd(e)),e}function Yu(i,e){return qu(i.databaseId,e.path)}function uo(i,e){const r=dd(e);if(r.get(1)!==i.databaseId.projectId)throw new Ct(nt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+i.databaseId.projectId);if(r.get(3)!==i.databaseId.database)throw new Ct(nt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+i.databaseId.database);return new L(Qu(r))}function La(i,e){return qu(i.databaseId,e)}function hc(i){const e=dd(i);return 4===e.length?Er.emptyPath():Qu(e)}function ru(i){return new Er(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Qu(i){return Nn(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function Ai(i,e,r){return{name:Yu(i,e),fields:r.value.mapValue.fields}}function fc(i,e,r){const o=uo(i,e.name),l=Zi(e.updateTime),p=new yr({mapValue:{fields:e.fields}}),T=Cr.newFoundDocument(o,l,p);return r&&T.setHasCommittedMutations(),r?T.setHasCommittedMutations():T}function Ju(i,e){let r;if(e instanceof Xo)r={update:Ai(i,e.key,e.value)};else if(e instanceof xo)r={delete:Yu(i,e.key)};else if(e instanceof ea)r={update:Ai(i,e.key,e.data),updateMask:yc(e.fieldMask)};else{if(!(e instanceof wl))return gn();r={verify:Yu(i,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(o=>function(l,p){const T=p.transform;if(T instanceof Ra)return{fieldPath:p.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(T instanceof ga)return{fieldPath:p.field.canonicalString(),appendMissingElements:{values:T.elements}};if(T instanceof To)return{fieldPath:p.field.canonicalString(),removeAllFromArray:{values:T.elements}};if(T instanceof Ma)return{fieldPath:p.field.canonicalString(),increment:T.N};throw gn()}(0,o))),e.precondition.isNone||(r.currentDocument=void 0!==(l=e.precondition).updateTime?{updateTime:cd(i,l.updateTime)}:void 0!==l.exists?{exists:l.exists}:gn()),r;var l}function hd(i,e){const r=e.currentDocument?void 0!==(l=e.currentDocument).updateTime?Vi.updateTime(Zi(l.updateTime)):void 0!==l.exists?Vi.exists(l.exists):Vi.none():Vi.none(),o=e.updateTransforms?e.updateTransforms.map(l=>function(p,T){let M=null;"setToServerValue"in T?(Nn("REQUEST_TIME"===T.setToServerValue),M=new Ra):"appendMissingElements"in T?M=new ga(T.appendMissingElements.values||[]):"removeAllFromArray"in T?M=new To(T.removeAllFromArray.values||[]):"increment"in T?M=new Ma(p,T.increment):gn();const Y=gi.fromServerFormat(T.fieldPath);return new Eu(Y,M)}(i,l)):[];var l;if(e.update){const l=uo(i,e.update.name),p=new yr({mapValue:{fields:e.update.fields}});if(e.updateMask){const T=new Eo((e.updateMask.fieldPaths||[]).map(fe=>gi.fromServerFormat(fe)));return new ea(l,p,T,r,o)}return new Xo(l,p,r,o)}if(e.delete){const l=uo(i,e.delete);return new xo(l,r)}if(e.verify){const l=uo(i,e.verify);return new wl(l,r)}return gn()}function fd(i,e){return{documents:[La(i,e.path)]}}function Xu(i,e){const r={structuredQuery:{}},o=e.path;null!==e.collectionGroup?(r.parent=La(i,o),r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r.parent=La(i,o.popLast()),r.structuredQuery.from=[{collectionId:o.lastSegment()}]);const l=function(M){if(0===M.length)return;const Y=M.map(fe=>function(Pe){if("=="===Pe.op){if(cn(Pe.value))return{unaryFilter:{field:ma(Pe.field),op:"IS_NAN"}};if(mn(Pe.value))return{unaryFilter:{field:ma(Pe.field),op:"IS_NULL"}}}else if("!="===Pe.op){if(cn(Pe.value))return{unaryFilter:{field:ma(Pe.field),op:"IS_NOT_NAN"}};if(mn(Pe.value))return{unaryFilter:{field:ma(Pe.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ma(Pe.field),op:gc(Pe.op),value:Pe.value}}}(fe));return 1===Y.length?Y[0]:{compositeFilter:{op:"AND",filters:Y}}}(e.filters);l&&(r.structuredQuery.where=l);const p=function(M){if(0!==M.length)return M.map(Y=>{return{field:ma((fe=Y).field),direction:pc(fe.dir)};var fe})}(e.orderBy);p&&(r.structuredQuery.orderBy=p);const T=(Y=e.limit,i.C||g(Y)?Y:{value:Y});var Y;return null!==T&&(r.structuredQuery.limit=T),e.startAt&&(r.structuredQuery.startAt=wu(e.startAt)),e.endAt&&(r.structuredQuery.endAt=wu(e.endAt)),r}function pd(i){let e=hc(i.parent);const r=i.structuredQuery,o=r.from?r.from.length:0;let l=null;if(o>0){Nn(1===o);const Pe=r.from[0];Pe.allDescendants?l=Pe.collectionId:e=e.child(Pe.collectionId)}let p=[];r.where&&(p=Oh(r.where));let T=[];r.orderBy&&(T=r.orderBy.map(Pe=>{return new Vr(vi((Ge=Pe).field),function(lt){switch(lt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Ge.direction));var Ge}));let M=null;r.limit&&(M=function(Pe){let Ge;return Ge="object"==typeof Pe?Pe.value:Pe,g(Ge)?null:Ge}(r.limit));let Y=null;r.startAt&&(Y=Ds(r.startAt));let fe=null;return r.endAt&&(fe=Ds(r.endAt)),Za(e,l,T,p,M,"F",Y,fe)}function Oh(i){return i?void 0!==i.unaryFilter?[mc(i)]:void 0!==i.fieldFilter?[Iu(i)]:void 0!==i.compositeFilter?i.compositeFilter.filters.map(e=>Oh(e)).reduce((e,r)=>e.concat(r)):gn():[]}function wu(i){return{before:i.before,values:i.position}}function Ds(i){return new Pi(i.values||[],!!i.before)}function pc(i){return Zu[i]}function gc(i){return cc[i]}function ma(i){return{fieldPath:i.canonicalString()}}function vi(i){return gi.fromServerFormat(i.fieldPath)}function Iu(i){return ni.create(vi(i.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return gn()}}(i.fieldFilter.op),i.fieldFilter.value)}function mc(i){switch(i.unaryFilter.op){case"IS_NAN":const e=vi(i.unaryFilter.field);return ni.create(e,"==",{doubleValue:NaN});case"IS_NULL":const r=vi(i.unaryFilter.field);return ni.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=vi(i.unaryFilter.field);return ni.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=vi(i.unaryFilter.field);return ni.create(l,"!=",{nullValue:"NULL_VALUE"});default:return gn()}}function yc(i){const e=[];return i.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function gd(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}function di(i){let e="";for(let r=0;r<i.length;r++)e.length>0&&(e=bl(e)),e=el(i.get(r),e);return bl(e)}function el(i,e){let r=e;const o=i.length;for(let l=0;l<o;l++){const p=i.charAt(l);switch(p){case"\0":r+="\x01\x10";break;case"\x01":r+="\x01\x11";break;default:r+=p}}return r}function bl(i){return i+"\x01\x01"}function ya(i){const e=i.length;if(Nn(e>=2),2===e)return Nn("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),Er.emptyPath();const r=e-2,o=[];let l="";for(let p=0;p<e;){const T=i.indexOf("\x01",p);switch((T<0||T>r)&&gn(),i.charAt(T+1)){case"\x01":const M=i.substring(p,T);let Y;0===l.length?Y=M:(l+=M,Y=l,l=""),o.push(Y);break;case"\x10":l+=i.substring(p,T),l+="\0";break;case"\x11":l+=i.substring(p,T+1);break;default:gn()}p=T+2}return new Er(o)}class Al{constructor(e,r){this.seconds=e,this.nanoseconds=r}}class Fs{constructor(e,r,o){this.ownerId=e,this.allowTabSynchronization=r,this.leaseTimestampMs=o}}Fs.store="owner",Fs.key="owner";class ka{constructor(e,r,o){this.userId=e,this.lastAcknowledgedBatchId=r,this.lastStreamToken=o}}ka.store="mutationQueues",ka.keyPath="userId";class Jr{constructor(e,r,o,l,p){this.userId=e,this.batchId=r,this.localWriteTimeMs=o,this.baseMutations=l,this.mutations=p}}Jr.store="mutations",Jr.keyPath="batchId",Jr.userMutationsIndex="userMutationsIndex",Jr.userMutationsKeyPath=["userId","batchId"];class es{constructor(){}static prefixForUser(e){return[e]}static prefixForPath(e,r){return[e,di(r)]}static key(e,r,o){return[e,di(r),o]}}es.store="documentMutations",es.PLACEHOLDER=new es;class Fa{constructor(e,r){this.path=e,this.readTime=r}}class md{constructor(e,r){this.path=e,this.version=r}}class Ni{constructor(e,r,o,l,p,T){this.unknownDocument=e,this.noDocument=r,this.document=o,this.hasCommittedMutations=l,this.readTime=p,this.parentPath=T}}Ni.store="remoteDocuments",Ni.readTimeIndex="readTimeIndex",Ni.readTimeIndexPath="readTime",Ni.collectionReadTimeIndex="collectionReadTimeIndex",Ni.collectionReadTimeIndexPath=["parentPath","readTime"];class Do{constructor(e){this.byteSize=e}}Do.store="remoteDocumentGlobal",Do.key="remoteDocumentGlobalKey";class Gs{constructor(e,r,o,l,p,T,M){this.targetId=e,this.canonicalId=r,this.readTime=o,this.resumeToken=l,this.lastListenSequenceNumber=p,this.lastLimboFreeSnapshotVersion=T,this.query=M}}Gs.store="targets",Gs.keyPath="targetId",Gs.queryTargetsIndexName="queryTargetsIndex",Gs.queryTargetsKeyPath=["canonicalId","targetId"];class ts{constructor(e,r,o){this.targetId=e,this.path=r,this.sequenceNumber=o}}ts.store="targetDocuments",ts.keyPath=["targetId","path"],ts.documentTargetsIndex="documentTargetsIndex",ts.documentTargetsKeyPath=["path","targetId"];class Fr{constructor(e,r,o,l){this.highestTargetId=e,this.highestListenSequenceNumber=r,this.lastRemoteSnapshotVersion=o,this.targetCount=l}}Fr.key="targetGlobalKey",Fr.store="targetGlobal";class _a{constructor(e,r){this.collectionId=e,this.parent=r}}_a.store="collectionParents",_a.keyPath=["collectionId","parent"];class Lo{constructor(e,r,o,l){this.clientId=e,this.updateTimeMs=r,this.networkEnabled=o,this.inForeground=l}}Lo.store="clientMetadata",Lo.keyPath="clientId";class Du{constructor(e,r,o){this.bundleId=e,this.createTime=r,this.version=o}}Du.store="bundles",Du.keyPath="bundleId";class Ks{constructor(e,r,o){this.name=e,this.readTime=r,this.bundledQuery=o}}Ks.store="namedQueries",Ks.keyPath="name";const tl=[ka.store,Jr.store,es.store,Ni.store,Gs.store,Fs.store,Fr.store,ts.store,Lo.store,Do.store,_a.store,Du.store,Ks.store],Sl="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class _c{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class bt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&gn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new bt((o,l)=>{this.nextCallback=p=>{this.wrapSuccess(e,p).next(o,l)},this.catchCallback=p=>{this.wrapFailure(r,p).next(o,l)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof bt?r:bt.resolve(r)}catch(r){return bt.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):bt.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):bt.reject(r)}static resolve(e){return new bt((r,o)=>{r(e)})}static reject(e){return new bt((r,o)=>{o(e)})}static waitFor(e){return new bt((r,o)=>{let l=0,p=0,T=!1;e.forEach(M=>{++l,M.next(()=>{++p,T&&p===l&&r()},Y=>o(Y))}),T=!0,p===l&&r()})}static or(e){let r=bt.resolve(!1);for(const o of e)r=r.next(l=>l?bt.resolve(l):o());return r}static forEach(e,r){const o=[];return e.forEach((l,p)=>{o.push(r.call(this,l,p))}),this.waitFor(o)}}class Cu{constructor(e,r){this.action=e,this.transaction=r,this.aborted=!1,this.It=new Qr,this.transaction.oncomplete=()=>{this.It.resolve()},this.transaction.onabort=()=>{r.error?this.It.reject(new nl(e,r.error)):this.It.resolve()},this.transaction.onerror=o=>{const l=E(o.target.error);this.It.reject(new nl(e,l))}}static open(e,r,o,l){try{return new Cu(r,e.transaction(l,o))}catch(p){throw new nl(r,p)}}get At(){return this.It.promise}abort(e){e&&this.It.reject(e),this.aborted||(Pt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(e){const r=this.transaction.objectStore(e);return new y(r)}}class ko{constructor(e,r,o){this.name=e,this.version=r,this.Rt=o,12.2===ko.bt((0,x.z$)())&&kr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Pt("SimpleDb","Removing database:",e),c(window.indexedDB.deleteDatabase(e)).toPromise()}static Pt(){if(!(0,x.hl)())return!1;if(ko.vt())return!0;const e=(0,x.z$)(),r=ko.bt(e),o=0<r&&r<10,l=ko.Vt(e),p=0<l&&l<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||o||p)}static vt(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.St)}static Dt(e,r){return e.store(r)}static bt(e){const r=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),o=r?r[1].split("_").slice(0,2).join("."):"-1";return Number(o)}static Vt(e){const r=e.match(/Android ([\d.]+)/i),o=r?r[1].split(".").slice(0,2).join("."):"-1";return Number(o)}Ct(e){var r=this;return(0,f.Z)(function*(){return r.db||(Pt("SimpleDb","Opening database:",r.name),r.db=yield new Promise((o,l)=>{const p=indexedDB.open(r.name,r.version);p.onsuccess=T=>{o(T.target.result)},p.onblocked=()=>{l(new nl(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},p.onerror=T=>{const M=T.target.error;l("VersionError"===M.name?new Ct(nt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===M.name?new Ct(nt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+M):new nl(e,M))},p.onupgradeneeded=T=>{Pt("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',T.oldVersion),r.Rt.Nt(T.target.result,p.transaction,T.oldVersion,r.version).next(()=>{Pt("SimpleDb","Database upgrade to version "+r.version+" complete")})}})),r.kt&&(r.db.onversionchange=o=>r.kt(o)),r.db})()}xt(e){this.kt=e,this.db&&(this.db.onversionchange=r=>e(r))}runTransaction(e,r,o,l){var p=this;return(0,f.Z)(function*(){const T="readonly"===r;let M=0;for(;;){++M;try{p.db=yield p.Ct(e);const Y=Cu.open(p.db,e,T?"readonly":"readwrite",o),fe=l(Y).catch(Pe=>(Y.abort(Pe),bt.reject(Pe))).toPromise();return fe.catch(()=>{}),yield Y.At,fe}catch(Y){const fe="FirebaseError"!==Y.name&&M<3;if(Pt("SimpleDb","Transaction failed with error:",Y.message,"Retrying:",fe),p.close(),!fe)return Promise.reject(Y)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class yd{constructor(e){this.$t=e,this.Ot=!1,this.Mt=null}get isDone(){return this.Ot}get Ft(){return this.Mt}set cursor(e){this.$t=e}done(){this.Ot=!0}Lt(e){this.Mt=e}delete(){return c(this.$t.delete())}}class nl extends Ct{constructor(e,r){super(nt.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${r}`),this.name="IndexedDbTransactionError"}}function iu(i){return"IndexedDbTransactionError"===i.name}class y{constructor(e){this.store=e}put(e,r){let o;return void 0!==r?(Pt("SimpleDb","PUT",this.store.name,e,r),o=this.store.put(r,e)):(Pt("SimpleDb","PUT",this.store.name,"<auto-key>",e),o=this.store.put(e)),c(o)}add(e){return Pt("SimpleDb","ADD",this.store.name,e,e),c(this.store.add(e))}get(e){return c(this.store.get(e)).next(r=>(void 0===r&&(r=null),Pt("SimpleDb","GET",this.store.name,e,r),r))}delete(e){return Pt("SimpleDb","DELETE",this.store.name,e),c(this.store.delete(e))}count(){return Pt("SimpleDb","COUNT",this.store.name),c(this.store.count())}Bt(e,r){const o=this.cursor(this.options(e,r)),l=[];return this.Ut(o,(p,T)=>{l.push(T)}).next(()=>l)}qt(e,r){Pt("SimpleDb","DELETE ALL",this.store.name);const o=this.options(e,r);o.Kt=!1;const l=this.cursor(o);return this.Ut(l,(p,T,M)=>M.delete())}jt(e,r){let o;r?o=e:(o={},r=e);const l=this.cursor(o);return this.Ut(l,r)}Qt(e){const r=this.cursor({});return new bt((o,l)=>{r.onerror=p=>{const T=E(p.target.error);l(T)},r.onsuccess=p=>{const T=p.target.result;T?e(T.primaryKey,T.value).next(M=>{M?T.continue():o()}):o()}})}Ut(e,r){const o=[];return new bt((l,p)=>{e.onerror=T=>{p(T.target.error)},e.onsuccess=T=>{const M=T.target.result;if(!M)return void l();const Y=new yd(M),fe=r(M.primaryKey,M.value,Y);if(fe instanceof bt){const Pe=fe.catch(Ge=>(Y.done(),bt.reject(Ge)));o.push(Pe)}Y.isDone?l():null===Y.Ft?M.continue():M.continue(Y.Ft)}}).next(()=>bt.waitFor(o))}options(e,r){let o;return void 0!==e&&("string"==typeof e?o=e:r=e),{index:o,range:r}}cursor(e){let r="next";if(e.reverse&&(r="prev"),e.index){const o=this.store.index(e.index);return e.Kt?o.openKeyCursor(e.range,r):o.openCursor(e.range,r)}return this.store.openCursor(e.range,r)}}function c(i){return new bt((e,r)=>{i.onsuccess=o=>{e(o.target.result)},i.onerror=o=>{const l=E(o.target.error);r(l)}})}let h=!1;function E(i){const e=ko.bt((0,x.z$)());if(e>=12.2&&e<13){const r="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(r)>=0){const o=new Ct("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${r}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return h||(h=!0,setTimeout(()=>{throw o},0)),o}}return i}class U extends _c{constructor(e,r){super(),this.Wt=e,this.currentSequenceNumber=r}}function se(i,e){const r=Wt(i);return ko.Dt(r.Wt,e)}class qe{constructor(e,r,o,l){this.batchId=e,this.localWriteTime=r,this.baseMutations=o,this.mutations=l}applyToRemoteDocument(e,r){const o=r.mutationResults;for(let l=0;l<this.mutations.length;l++){const p=this.mutations[l];p.key.isEqual(e.key)&&nc(p,e,o[l])}}applyToLocalView(e){for(const r of this.baseMutations)r.key.isEqual(e.key)&&Pa(r,e,this.localWriteTime);for(const r of this.mutations)r.key.isEqual(e.key)&&Pa(r,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(r=>{const o=e.get(r.key),l=o;this.applyToLocalView(l),o.isValidDocument()||l.convertToNoDocument(Sn.min())})}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),Gr())}isEqual(e){return this.batchId===e.batchId&&hr(this.mutations,e.mutations,(r,o)=>sd(r,o))&&hr(this.baseMutations,e.baseMutations,(r,o)=>sd(r,o))}}class ot{constructor(e,r,o,l){this.batch=e,this.commitVersion=r,this.mutationResults=o,this.docVersions=l}static from(e,r,o){Nn(e.mutations.length===o.length);let l=ud();const p=e.mutations;for(let T=0;T<p.length;T++)l=l.insert(p[T].key,o[T].version);return new ot(e,r,o,l)}}class Ft{constructor(e,r,o,l,p=Sn.min(),T=Sn.min(),M=Br.EMPTY_BYTE_STRING){this.target=e,this.targetId=r,this.purpose=o,this.sequenceNumber=l,this.snapshotVersion=p,this.lastLimboFreeSnapshotVersion=T,this.resumeToken=M}withSequenceNumber(e){return new Ft(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,r){return new Ft(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Ft(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class fn{constructor(e){this.Gt=e}}function $n(i,e){if(e.document)return fc(i.Gt,e.document,!!e.hasCommittedMutations);if(e.noDocument){const r=L.fromSegments(e.noDocument.path),o=va(e.noDocument.readTime),l=Cr.newNoDocument(r,o);return e.hasCommittedMutations?l.setHasCommittedMutations():l}if(e.unknownDocument){const r=L.fromSegments(e.unknownDocument.path),o=va(e.unknownDocument.version);return Cr.newUnknownDocument(r,o)}return gn()}function On(i,e,r){const o=ri(r),l=e.key.path.popLast().toArray();if(e.isFoundDocument()){const p={name:Yu(M=i.Gt,(Y=e).key),fields:Y.data.value.mapValue.fields,updateTime:Dl(M,Y.version.toTimestamp())};return new Ni(null,null,p,e.hasCommittedMutations,o,l)}var M,Y;if(e.isNoDocument()){const p=e.key.path.toArray(),T=ta(e.version),M=e.hasCommittedMutations;return new Ni(null,new Fa(p,T),null,M,o,l)}if(e.isUnknownDocument()){const p=e.key.path.toArray(),T=ta(e.version);return new Ni(new md(p,T),null,null,!0,o,l)}return gn()}function ri(i){const e=i.toTimestamp();return[e.seconds,e.nanoseconds]}function lo(i){const e=new Pr(i[0],i[1]);return Sn.fromTimestamp(e)}function ta(i){const e=i.toTimestamp();return new Al(e.seconds,e.nanoseconds)}function va(i){const e=new Pr(i.seconds,i.nanoseconds);return Sn.fromTimestamp(e)}function na(i,e){const r=(e.baseMutations||[]).map(p=>hd(i.Gt,p));for(let p=0;p<e.mutations.length-1;++p){const T=e.mutations[p];p+1<e.mutations.length&&void 0!==e.mutations[p+1].transform&&(T.updateTransforms=e.mutations[p+1].transform.fieldTransforms,e.mutations.splice(p+1,1),++p)}const o=e.mutations.map(p=>hd(i.Gt,p)),l=Pr.fromMillis(e.localWriteTimeMs);return new qe(e.batchId,l,r,o)}function su(i){const e=va(i.readTime),r=void 0!==i.lastLimboFreeSnapshotVersion?va(i.lastLimboFreeSnapshotVersion):Sn.min();let o;var l;return void 0!==i.query.documents?(Nn(1===(l=i.query).documents.length),o=ks(Ls(hc(l.documents[0])))):o=ks(pd(i.query)),new Ft(o,i.targetId,0,i.lastListenSequenceNumber,e,r,Br.fromBase64String(i.resumeToken))}function _d(i,e){const r=ta(e.snapshotVersion),o=ta(e.lastLimboFreeSnapshotVersion);let l;l=Gi(e.target)?fd(i.Gt,e.target):Xu(i.Gt,e.target);const p=e.resumeToken.toBase64();return new Gs(e.targetId,ws(e.target),r,p,e.sequenceNumber,o,l)}function ra(i){const e=pd({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?rd(e,e.limit,"L"):e}class Ol{getBundleMetadata(e,r){return Rl(e).get(r).next(o=>{if(o)return{id:(l=o).bundleId,createTime:va(l.createTime),version:l.version};var l})}saveBundleMetadata(e,r){return Rl(e).put({bundleId:(o=r).id,createTime:ta(Zi(o.createTime)),version:o.version});var o}getNamedQuery(e,r){return Ml(e).get(r).next(o=>{if(o)return{name:(l=o).name,query:ra(l.bundledQuery),readTime:va(l.readTime)};var l})}saveNamedQuery(e,r){return Ml(e).put({name:(o=r).name,readTime:ta(Zi(o.readTime)),bundledQuery:o.bundledQuery});var o}}function Rl(i){return se(i,Du.store)}function Ml(i){return se(i,Ks.store)}class Pl{constructor(){this.zt=new vc}addToCollectionParentIndex(e,r){return this.zt.add(r),bt.resolve()}getCollectionParents(e,r){return bt.resolve(this.zt.getEntries(r))}}class vc{constructor(){this.index={}}add(e){const r=e.lastSegment(),o=e.popLast(),l=this.index[r]||new _i(Er.comparator),p=!l.has(o);return this.index[r]=l.add(o),p}has(e){const r=e.lastSegment(),o=e.popLast(),l=this.index[r];return l&&l.has(o)}getEntries(e){return(this.index[e]||new _i(Er.comparator)).toArray()}}class Ec{constructor(){this.Ht=new vc}addToCollectionParentIndex(e,r){if(!this.Ht.has(r)){const o=r.lastSegment(),l=r.popLast();e.addOnCommittedListener(()=>{this.Ht.add(r)});const p={collectionId:o,parent:di(l)};return vd(e).put(p)}return bt.resolve()}getCollectionParents(e,r){const o=[],l=IDBKeyRange.bound([r,""],[No(r),""],!1,!0);return vd(e).Bt(l).next(p=>{for(const T of p){if(T.collectionId!==r)break;o.push(ya(T.parent))}return o})}}function vd(i){return se(i,_a.store)}const wp={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Co{constructor(e,r,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new Co(e,Co.DEFAULT_COLLECTION_PERCENTILE,Co.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Ip(i,e,r){const o=i.store(Jr.store),l=i.store(es.store),p=[],T=IDBKeyRange.only(r.batchId);let M=0;const Y=o.jt({range:T},(Pe,Ge,lt)=>(M++,lt.delete()));p.push(Y.next(()=>{Nn(1===M)}));const fe=[];for(const Pe of r.mutations){const Ge=es.key(e,Pe.key.path,r.batchId);p.push(l.delete(Ge)),fe.push(Pe.key)}return bt.waitFor(p).next(()=>fe)}function Tc(i){if(!i)return 0;let e;if(i.document)e=i.document;else if(i.unknownDocument)e=i.unknownDocument;else{if(!i.noDocument)throw gn();e=i.noDocument}return JSON.stringify(e).length}Co.DEFAULT_COLLECTION_PERCENTILE=10,Co.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Co.DEFAULT=new Co(41943040,Co.DEFAULT_COLLECTION_PERCENTILE,Co.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Co.DISABLED=new Co(-1,0,0);class wc{constructor(e,r,o,l){this.userId=e,this.k=r,this.Jt=o,this.referenceDelegate=l,this.Yt={}}static Xt(e,r,o,l){Nn(""!==e.uid);const p=e.isAuthenticated()?e.uid:"";return new wc(p,r,o,l)}checkEmpty(e){let r=!0;const o=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ua(e).jt({index:Jr.userMutationsIndex,range:o},(l,p,T)=>{r=!1,T.done()}).next(()=>r)}addMutationBatch(e,r,o,l){const p=Nl(e),T=Ua(e);return T.add({}).next(M=>{Nn("number"==typeof M);const Y=new qe(M,r,o,l),fe=function(lt,At,Mt){const pn=Mt.baseMutations.map(bs=>Ju(lt.Gt,bs)),Xn=Mt.mutations.map(bs=>Ju(lt.Gt,bs));return new Jr(At,Mt.batchId,Mt.localWriteTime.toMillis(),pn,Xn)}(this.k,this.userId,Y),Pe=[];let Ge=new _i((lt,At)=>on(lt.canonicalString(),At.canonicalString()));for(const lt of l){const At=es.key(this.userId,lt.key.path,M);Ge=Ge.add(lt.key.path.popLast()),Pe.push(T.put(fe)),Pe.push(p.put(At,es.PLACEHOLDER))}return Ge.forEach(lt=>{Pe.push(this.Jt.addToCollectionParentIndex(e,lt))}),e.addOnCommittedListener(()=>{this.Yt[M]=Y.keys()}),bt.waitFor(Pe).next(()=>Y)})}lookupMutationBatch(e,r){return Ua(e).get(r).next(o=>o?(Nn(o.userId===this.userId),na(this.k,o)):null)}Zt(e,r){return this.Yt[r]?bt.resolve(this.Yt[r]):this.lookupMutationBatch(e,r).next(o=>{if(o){const l=o.keys();return this.Yt[r]=l,l}return null})}getNextMutationBatchAfterBatchId(e,r){const o=r+1,l=IDBKeyRange.lowerBound([this.userId,o]);let p=null;return Ua(e).jt({index:Jr.userMutationsIndex,range:l},(T,M,Y)=>{M.userId===this.userId&&(Nn(M.batchId>=o),p=na(this.k,M)),Y.done()}).next(()=>p)}getHighestUnacknowledgedBatchId(e){const r=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let o=-1;return Ua(e).jt({index:Jr.userMutationsIndex,range:r,reverse:!0},(l,p,T)=>{o=p.batchId,T.done()}).next(()=>o)}getAllMutationBatches(e){const r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ua(e).Bt(Jr.userMutationsIndex,r).next(o=>o.map(l=>na(this.k,l)))}getAllMutationBatchesAffectingDocumentKey(e,r){const o=es.prefixForPath(this.userId,r.path),l=IDBKeyRange.lowerBound(o),p=[];return Nl(e).jt({range:l},(T,M,Y)=>{const[fe,Pe,Ge]=T,lt=ya(Pe);if(fe===this.userId&&r.path.isEqual(lt))return Ua(e).get(Ge).next(At=>{if(!At)throw gn();Nn(At.userId===this.userId),p.push(na(this.k,At))});Y.done()}).next(()=>p)}getAllMutationBatchesAffectingDocumentKeys(e,r){let o=new _i(on);const l=[];return r.forEach(p=>{const T=es.prefixForPath(this.userId,p.path),M=IDBKeyRange.lowerBound(T),Y=Nl(e).jt({range:M},(fe,Pe,Ge)=>{const[lt,At,Mt]=fe,pn=ya(At);lt===this.userId&&p.path.isEqual(pn)?o=o.add(Mt):Ge.done()});l.push(Y)}),bt.waitFor(l).next(()=>this.te(e,o))}getAllMutationBatchesAffectingQuery(e,r){const o=r.path,l=o.length+1,p=es.prefixForPath(this.userId,o),T=IDBKeyRange.lowerBound(p);let M=new _i(on);return Nl(e).jt({range:T},(Y,fe,Pe)=>{const[Ge,lt,At]=Y,Mt=ya(lt);Ge===this.userId&&o.isPrefixOf(Mt)?Mt.length===l&&(M=M.add(At)):Pe.done()}).next(()=>this.te(e,M))}te(e,r){const o=[],l=[];return r.forEach(p=>{l.push(Ua(e).get(p).next(T=>{if(null===T)throw gn();Nn(T.userId===this.userId),o.push(na(this.k,T))}))}),bt.waitFor(l).next(()=>o)}removeMutationBatch(e,r){return Ip(e.Wt,this.userId,r).next(o=>(e.addOnCommittedListener(()=>{this.ee(r.batchId)}),bt.forEach(o,l=>this.referenceDelegate.markPotentiallyOrphaned(e,l))))}ee(e){delete this.Yt[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(r=>{if(!r)return bt.resolve();const o=IDBKeyRange.lowerBound(es.prefixForUser(this.userId)),l=[];return Nl(e).jt({range:o},(p,T,M)=>{if(p[0]===this.userId){const Y=ya(p[1]);l.push(Y)}else M.done()}).next(()=>{Nn(0===l.length)})})}containsKey(e,r){return Rh(e,this.userId,r)}ne(e){return Dp(e).get(this.userId).next(r=>r||new ka(this.userId,-1,""))}}function Rh(i,e,r){const o=es.prefixForPath(e,r.path),l=o[1],p=IDBKeyRange.lowerBound(o);let T=!1;return Nl(i).jt({range:p,Kt:!0},(M,Y,fe)=>{const[Pe,Ge,lt]=M;Pe===e&&Ge===l&&(T=!0),fe.done()}).next(()=>T)}function Ua(i){return se(i,Jr.store)}function Nl(i){return se(i,es.store)}function Dp(i){return se(i,ka.store)}class bu{constructor(e){this.se=e}next(){return this.se+=2,this.se}static ie(){return new bu(0)}static re(){return new bu(-1)}}class Cp{constructor(e,r){this.referenceDelegate=e,this.k=r}allocateTargetId(e){return this.oe(e).next(r=>{const o=new bu(r.highestTargetId);return r.highestTargetId=o.next(),this.ce(e,r).next(()=>r.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.oe(e).next(r=>Sn.fromTimestamp(new Pr(r.lastRemoteSnapshotVersion.seconds,r.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.oe(e).next(r=>r.highestListenSequenceNumber)}setTargetsMetadata(e,r,o){return this.oe(e).next(l=>(l.highestListenSequenceNumber=r,o&&(l.lastRemoteSnapshotVersion=o.toTimestamp()),r>l.highestListenSequenceNumber&&(l.highestListenSequenceNumber=r),this.ce(e,l)))}addTargetData(e,r){return this.ae(e,r).next(()=>this.oe(e).next(o=>(o.targetCount+=1,this.ue(r,o),this.ce(e,o))))}updateTargetData(e,r){return this.ae(e,r)}removeTargetData(e,r){return this.removeMatchingKeysForTargetId(e,r.targetId).next(()=>ia(e).delete(r.targetId)).next(()=>this.oe(e)).next(o=>(Nn(o.targetCount>0),o.targetCount-=1,this.ce(e,o)))}removeTargets(e,r,o){let l=0;const p=[];return ia(e).jt((T,M)=>{const Y=su(M);Y.sequenceNumber<=r&&null===o.get(Y.targetId)&&(l++,p.push(this.removeTargetData(e,Y)))}).next(()=>bt.waitFor(p)).next(()=>l)}forEachTarget(e,r){return ia(e).jt((o,l)=>{const p=su(l);r(p)})}oe(e){return Mh(e).get(Fr.key).next(r=>(Nn(null!==r),r))}ce(e,r){return Mh(e).put(Fr.key,r)}ae(e,r){return ia(e).put(_d(this.k,r))}ue(e,r){let o=!1;return e.targetId>r.highestTargetId&&(r.highestTargetId=e.targetId,o=!0),e.sequenceNumber>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e.sequenceNumber,o=!0),o}getTargetCount(e){return this.oe(e).next(r=>r.targetCount)}getTargetData(e,r){const o=ws(r),l=IDBKeyRange.bound([o,Number.NEGATIVE_INFINITY],[o,Number.POSITIVE_INFINITY]);let p=null;return ia(e).jt({range:l,index:Gs.queryTargetsIndexName},(T,M,Y)=>{const fe=su(M);Ps(r,fe.target)&&(p=fe,Y.done())}).next(()=>p)}addMatchingKeys(e,r,o){const l=[],p=ou(e);return r.forEach(T=>{const M=di(T.path);l.push(p.put(new ts(o,M))),l.push(this.referenceDelegate.addReference(e,o,T))}),bt.waitFor(l)}removeMatchingKeys(e,r,o){const l=ou(e);return bt.forEach(r,p=>{const T=di(p.path);return bt.waitFor([l.delete([o,T]),this.referenceDelegate.removeReference(e,o,p)])})}removeMatchingKeysForTargetId(e,r){const o=ou(e),l=IDBKeyRange.bound([r],[r+1],!1,!0);return o.delete(l)}getMatchingKeysForTargetId(e,r){const o=IDBKeyRange.bound([r],[r+1],!1,!0),l=ou(e);let p=Gr();return l.jt({range:o,Kt:!0},(T,M,Y)=>{const fe=ya(T[1]),Pe=new L(fe);p=p.add(Pe)}).next(()=>p)}containsKey(e,r){const o=di(r.path),l=IDBKeyRange.bound([o],[No(o)],!1,!0);let p=0;return ou(e).jt({index:ts.documentTargetsIndex,Kt:!0,range:l},([T,M],Y,fe)=>{0!==T&&(p++,fe.done())}).next(()=>p>0)}Et(e,r){return ia(e).get(r).next(o=>o?su(o):null)}}function ia(i){return se(i,Gs.store)}function Mh(i){return se(i,Fr.store)}function ou(i){return se(i,ts.store)}function rl(i){return xl.apply(this,arguments)}function xl(){return xl=(0,f.Z)(function*(i){if(i.code!==nt.FAILED_PRECONDITION||i.message!==Sl)throw i;Pt("LocalStore","Unexpectedly lost primary lease")}),xl.apply(this,arguments)}function bp([i,e],[r,o]){const l=on(i,r);return 0===l?on(e,o):l}class Ap{constructor(e){this.he=e,this.buffer=new _i(bp),this.le=0}fe(){return++this.le}de(e){const r=[e,this.fe()];if(this.buffer.size<this.he)this.buffer=this.buffer.add(r);else{const o=this.buffer.last();bp(r,o)<0&&(this.buffer=this.buffer.delete(o).add(r))}}get maxValue(){return this.buffer.last()[0]}}class Sp{constructor(e,r){this.garbageCollector=e,this.asyncQueue=r,this.we=!1,this._e=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.me(e)}stop(){this._e&&(this._e.cancel(),this._e=null)}get started(){return null!==this._e}me(e){var r=this;const o=this.we?3e5:6e4;Pt("LruGarbageCollector",`Garbage collection scheduled in ${o}ms`),this._e=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",o,(0,f.Z)(function*(){r._e=null,r.we=!0;try{yield e.collectGarbage(r.garbageCollector)}catch(l){iu(l)?Pt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",l):yield rl(l)}yield r.me(e)}))}}class Op{constructor(e,r){this.ge=e,this.params=r}calculateTargetCount(e,r){return this.ge.ye(e).next(o=>Math.floor(r/100*o))}nthSequenceNumber(e,r){if(0===r)return bt.resolve(Bt.I);const o=new Ap(r);return this.ge.forEachTarget(e,l=>o.de(l.sequenceNumber)).next(()=>this.ge.pe(e,l=>o.de(l))).next(()=>o.maxValue)}removeTargets(e,r,o){return this.ge.removeTargets(e,r,o)}removeOrphanedDocuments(e,r){return this.ge.removeOrphanedDocuments(e,r)}collect(e,r){return-1===this.params.cacheSizeCollectionThreshold?(Pt("LruGarbageCollector","Garbage collection skipped; disabled"),bt.resolve(wp)):this.getCacheSize(e).next(o=>o<this.params.cacheSizeCollectionThreshold?(Pt("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),wp):this.Te(e,r))}getCacheSize(e){return this.ge.getCacheSize(e)}Te(e,r){let o,l,p,T,M,Y,fe;const Pe=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(Ge=>(Ge>this.params.maximumSequenceNumbersToCollect?(Pt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Ge}`),l=this.params.maximumSequenceNumbersToCollect):l=Ge,T=Date.now(),this.nthSequenceNumber(e,l))).next(Ge=>(o=Ge,M=Date.now(),this.removeTargets(e,o,r))).next(Ge=>(p=Ge,Y=Date.now(),this.removeOrphanedDocuments(e,o))).next(Ge=>(fe=Date.now(),yu()<=ce.in.DEBUG&&Pt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${T-Pe}ms\n\tDetermined least recently used ${l} in `+(M-T)+`ms\n\tRemoved ${p} targets in `+(Y-M)+`ms\n\tRemoved ${Ge} documents in `+(fe-Y)+`ms\nTotal Duration: ${fe-Pe}ms`),bt.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:p,documentsRemoved:Ge})))}}class Ph{constructor(e,r){this.db=e,this.garbageCollector=new Op(this,r)}ye(e){const r=this.Ee(e);return this.db.getTargetCache().getTargetCount(e).next(o=>r.next(l=>o+l))}Ee(e){let r=0;return this.pe(e,o=>{r++}).next(()=>r)}forEachTarget(e,r){return this.db.getTargetCache().forEachTarget(e,r)}pe(e,r){return this.Ie(e,(o,l)=>r(l))}addReference(e,r,o){return Ic(e,o)}removeReference(e,r,o){return Ic(e,o)}removeTargets(e,r,o){return this.db.getTargetCache().removeTargets(e,r,o)}markPotentiallyOrphaned(e,r){return Ic(e,r)}Ae(e,r){return function(o,l){let p=!1;return Dp(o).Qt(T=>Rh(o,T,l).next(M=>(M&&(p=!0),bt.resolve(!M)))).next(()=>p)}(e,r)}removeOrphanedDocuments(e,r){const o=this.db.getRemoteDocumentCache().newChangeBuffer(),l=[];let p=0;return this.Ie(e,(T,M)=>{if(M<=r){const Y=this.Ae(e,T).next(fe=>{if(!fe)return p++,o.getEntry(e,T).next(()=>(o.removeEntry(T),ou(e).delete([0,di(T.path)])))});l.push(Y)}}).next(()=>bt.waitFor(l)).next(()=>o.apply(e)).next(()=>p)}removeTarget(e,r){const o=r.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,o)}updateLimboDocument(e,r){return Ic(e,r)}Ie(e,r){const o=ou(e);let l,p=Bt.I;return o.jt({index:ts.documentTargetsIndex},([T,M],{path:Y,sequenceNumber:fe})=>{0===T?(p!==Bt.I&&r(new L(ya(l)),p),p=fe,l=Y):p=Bt.I}).next(()=>{p!==Bt.I&&r(new L(ya(l)),p)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Ic(i,e){return ou(i).put((o=i.currentSequenceNumber,new ts(0,di(e.path),o)));var o}class au{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={}}get(e){const r=this.mapKeyFn(e),o=this.inner[r];if(void 0!==o)for(const[l,p]of o)if(this.equalsFn(l,e))return p}has(e){return void 0!==this.get(e)}set(e,r){const o=this.mapKeyFn(e),l=this.inner[o];if(void 0!==l){for(let p=0;p<l.length;p++)if(this.equalsFn(l[p][0],e))return void(l[p]=[e,r]);l.push([e,r])}else this.inner[o]=[[e,r]]}delete(e){const r=this.mapKeyFn(e),o=this.inner[r];if(void 0===o)return!1;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return 1===o.length?delete this.inner[r]:o.splice(l,1),!0;return!1}forEach(e){Xi(this.inner,(r,o)=>{for(const[l,p]of o)e(l,p)})}isEmpty(){return oo(this.inner)}}class Dc{constructor(){this.changes=new au(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}getReadTime(e){const r=this.changes.get(e);return r?r.readTime:Sn.min()}addEntry(e,r){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:r})}removeEntry(e,r=null){this.assertNotApplied(),this.changes.set(e,{document:Cr.newInvalidDocument(e),readTime:r})}getEntry(e,r){this.assertNotApplied();const o=this.changes.get(r);return void 0!==o?bt.resolve(o.document):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Rp{constructor(e,r){this.k=e,this.Jt=r}addEntry(e,r,o){return Ba(e).put(Au(r),o)}removeEntry(e,r){const o=Ba(e),l=Au(r);return o.delete(l)}updateMetadata(e,r){return this.getMetadata(e).next(o=>(o.byteSize+=r,this.Re(e,o)))}getEntry(e,r){return Ba(e).get(Au(r)).next(o=>this.be(r,o))}Pe(e,r){return Ba(e).get(Au(r)).next(o=>({document:this.be(r,o),size:Tc(o)}))}getEntries(e,r){let o=Io();return this.ve(e,r,(l,p)=>{const T=this.be(l,p);o=o.insert(l,T)}).next(()=>o)}Ve(e,r){let o=Io(),l=new ci(L.comparator);return this.ve(e,r,(p,T)=>{const M=this.be(p,T);o=o.insert(p,M),l=l.insert(p,Tc(T))}).next(()=>({documents:o,Se:l}))}ve(e,r,o){if(r.isEmpty())return bt.resolve();const l=IDBKeyRange.bound(r.first().path.toArray(),r.last().path.toArray()),p=r.getIterator();let T=p.getNext();return Ba(e).jt({range:l},(M,Y,fe)=>{const Pe=L.fromSegments(M);for(;T&&L.comparator(T,Pe)<0;)o(T,null),T=p.getNext();T&&T.isEqual(Pe)&&(o(T,Y),T=p.hasNext()?p.getNext():null),T?fe.Lt(T.path.toArray()):fe.done()}).next(()=>{for(;T;)o(T,null),T=p.hasNext()?p.getNext():null})}getDocumentsMatchingQuery(e,r,o){let l=Io();const p=r.path.length+1,T={};if(o.isEqual(Sn.min())){const M=r.path.toArray();T.range=IDBKeyRange.lowerBound(M)}else{const M=r.path.toArray(),Y=ri(o);T.range=IDBKeyRange.lowerBound([M,Y],!0),T.index=Ni.collectionReadTimeIndex}return Ba(e).jt(T,(M,Y,fe)=>{if(M.length!==p)return;const Pe=$n(this.k,Y);r.path.isPrefixOf(Pe.key.path)?Qa(r,Pe)&&(l=l.insert(Pe.key,Pe)):fe.done()}).next(()=>l)}newChangeBuffer(e){return new Nh(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(r=>r.byteSize)}getMetadata(e){return xh(e).get(Do.key).next(r=>(Nn(!!r),r))}Re(e,r){return xh(e).put(Do.key,r)}be(e,r){if(r){const o=$n(this.k,r);if(!o.isNoDocument()||!o.version.isEqual(Sn.min()))return o}return Cr.newInvalidDocument(e)}}class Nh extends Dc{constructor(e,r){super(),this.De=e,this.trackRemovals=r,this.Ce=new au(o=>o.toString(),(o,l)=>o.isEqual(l))}applyChanges(e){const r=[];let o=0,l=new _i((p,T)=>on(p.canonicalString(),T.canonicalString()));return this.changes.forEach((p,T)=>{const M=this.Ce.get(p);if(T.document.isValidDocument()){const Y=On(this.De.k,T.document,this.getReadTime(p));l=l.add(p.path.popLast()),o+=Tc(Y)-M,r.push(this.De.addEntry(e,p,Y))}else if(o-=M,this.trackRemovals){const Y=On(this.De.k,Cr.newNoDocument(p,Sn.min()),this.getReadTime(p));r.push(this.De.addEntry(e,p,Y))}else r.push(this.De.removeEntry(e,p))}),l.forEach(p=>{r.push(this.De.Jt.addToCollectionParentIndex(e,p))}),r.push(this.De.updateMetadata(e,o)),bt.waitFor(r)}getFromCache(e,r){return this.De.Pe(e,r).next(o=>(this.Ce.set(r,o.size),o.document))}getAllFromCache(e,r){return this.De.Ve(e,r).next(({documents:o,Se:l})=>(l.forEach((p,T)=>{this.Ce.set(p,T)}),o))}}function xh(i){return se(i,Do.store)}function Ba(i){return se(i,Ni.store)}function Au(i){return i.path.toArray()}class fm{constructor(e){this.k=e}Nt(e,r,o,l){Nn(o<l&&o>=0&&l<=11);const p=new Cu("createOrUpgrade",r);var M;o<1&&l>=1&&(e.createObjectStore(Fs.store),(M=e).createObjectStore(ka.store,{keyPath:ka.keyPath}),M.createObjectStore(Jr.store,{keyPath:Jr.keyPath,autoIncrement:!0}).createIndex(Jr.userMutationsIndex,Jr.userMutationsKeyPath,{unique:!0}),M.createObjectStore(es.store),Lh(e),function(M){M.createObjectStore(Ni.store)}(e));let T=bt.resolve();return o<3&&l>=3&&(0!==o&&(function(M){M.deleteObjectStore(ts.store),M.deleteObjectStore(Gs.store),M.deleteObjectStore(Fr.store)}(e),Lh(e)),T=T.next(()=>function(M){const Y=M.store(Fr.store),fe=new Fr(0,0,Sn.min().toTimestamp(),0);return Y.put(Fr.key,fe)}(p))),o<4&&l>=4&&(0!==o&&(T=T.next(()=>function(M,Y){return Y.store(Jr.store).Bt().next(fe=>{M.deleteObjectStore(Jr.store),M.createObjectStore(Jr.store,{keyPath:Jr.keyPath,autoIncrement:!0}).createIndex(Jr.userMutationsIndex,Jr.userMutationsKeyPath,{unique:!0});const Pe=Y.store(Jr.store),Ge=fe.map(lt=>Pe.put(lt));return bt.waitFor(Ge)})}(e,p))),T=T.next(()=>{!function(M){M.createObjectStore(Lo.store,{keyPath:Lo.keyPath})}(e)})),o<5&&l>=5&&(T=T.next(()=>this.Ne(p))),o<6&&l>=6&&(T=T.next(()=>(function(M){M.createObjectStore(Do.store)}(e),this.ke(p)))),o<7&&l>=7&&(T=T.next(()=>this.xe(p))),o<8&&l>=8&&(T=T.next(()=>this.$e(e,p))),o<9&&l>=9&&(T=T.next(()=>{(function(M){M.objectStoreNames.contains("remoteDocumentChanges")&&M.deleteObjectStore("remoteDocumentChanges")})(e),function(M){const Y=M.objectStore(Ni.store);Y.createIndex(Ni.readTimeIndex,Ni.readTimeIndexPath,{unique:!1}),Y.createIndex(Ni.collectionReadTimeIndex,Ni.collectionReadTimeIndexPath,{unique:!1})}(r)})),o<10&&l>=10&&(T=T.next(()=>this.Oe(p))),o<11&&l>=11&&(T=T.next(()=>{(function(M){M.createObjectStore(Du.store,{keyPath:Du.keyPath})})(e),function(M){M.createObjectStore(Ks.store,{keyPath:Ks.keyPath})}(e)})),T}ke(e){let r=0;return e.store(Ni.store).jt((o,l)=>{r+=Tc(l)}).next(()=>{const o=new Do(r);return e.store(Do.store).put(Do.key,o)})}Ne(e){const r=e.store(ka.store),o=e.store(Jr.store);return r.Bt().next(l=>bt.forEach(l,p=>{const T=IDBKeyRange.bound([p.userId,-1],[p.userId,p.lastAcknowledgedBatchId]);return o.Bt(Jr.userMutationsIndex,T).next(M=>bt.forEach(M,Y=>{Nn(Y.userId===p.userId);const fe=na(this.k,Y);return Ip(e,p.userId,fe).next(()=>{})}))}))}xe(e){const r=e.store(ts.store),o=e.store(Ni.store);return e.store(Fr.store).get(Fr.key).next(l=>{const p=[];return o.jt((T,M)=>{const Y=new Er(T),fe=[0,di(Y)];p.push(r.get(fe).next(Pe=>Pe?bt.resolve():r.put(new ts(0,di(Y),l.highestListenSequenceNumber))))}).next(()=>bt.waitFor(p))})}$e(e,r){e.createObjectStore(_a.store,{keyPath:_a.keyPath});const o=r.store(_a.store),l=new vc,p=T=>{if(l.add(T)){const M=T.lastSegment(),Y=T.popLast();return o.put({collectionId:M,parent:di(Y)})}};return r.store(Ni.store).jt({Kt:!0},(T,M)=>{const Y=new Er(T);return p(Y.popLast())}).next(()=>r.store(es.store).jt({Kt:!0},([T,M,Y],fe)=>{const Pe=ya(M);return p(Pe.popLast())}))}Oe(e){const r=e.store(Gs.store);return r.jt((o,l)=>{const p=su(l),T=_d(this.k,p);return r.put(T)})}}function Lh(i){i.createObjectStore(ts.store,{keyPath:ts.keyPath}).createIndex(ts.documentTargetsIndex,ts.documentTargetsKeyPath,{unique:!0}),i.createObjectStore(Gs.store,{keyPath:Gs.keyPath}).createIndex(Gs.queryTargetsIndexName,Gs.queryTargetsKeyPath,{unique:!0}),i.createObjectStore(Fr.store)}const kh="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Fh{constructor(e,r,o,l,p,T,M,Y,fe,Pe){if(this.allowTabSynchronization=e,this.persistenceKey=r,this.clientId=o,this.Me=p,this.window=T,this.document=M,this.Fe=fe,this.Le=Pe,this.Be=null,this.Ue=!1,this.isPrimary=!1,this.networkEnabled=!0,this.qe=null,this.inForeground=!1,this.Ke=null,this.je=null,this.Qe=Number.NEGATIVE_INFINITY,this.We=Ge=>Promise.resolve(),!Fh.Pt())throw new Ct(nt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Ph(this,l),this.Ge=r+"main",this.k=new fn(Y),this.ze=new ko(this.Ge,11,new fm(this.k)),this.He=new Cp(this.referenceDelegate,this.k),this.Jt=new Ec,this.Je=new Rp(this.k,this.Jt),this.Ye=new Ol,this.window&&this.window.localStorage?this.Xe=this.window.localStorage:(this.Xe=null,!1===Pe&&kr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ze().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ct(nt.FAILED_PRECONDITION,kh);return this.tn(),this.en(),this.nn(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.He.getHighestSequenceNumber(e))}).then(e=>{this.Be=new Bt(e,this.Fe)}).then(()=>{this.Ue=!0}).catch(e=>(this.ze&&this.ze.close(),Promise.reject(e)))}sn(e){var r=this;return this.We=function(){var o=(0,f.Z)(function*(l){if(r.started)return e(l)});return function(l){return o.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ze.xt(function(){var r=(0,f.Z)(function*(o){null===o.newVersion&&(yield e())});return function(o){return r.apply(this,arguments)}}())}setNetworkEnabled(e){var r=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Me.enqueueAndForget((0,f.Z)(function*(){r.started&&(yield r.Ze())})))}Ze(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>kl(e).put(new Lo(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.rn(e).next(r=>{r||(this.isPrimary=!1,this.Me.enqueueRetryable(()=>this.We(!1)))})}).next(()=>this.on(e)).next(r=>this.isPrimary&&!r?this.cn(e).next(()=>!1):!!r&&this.an(e).next(()=>!0))).catch(e=>{if(iu(e))return Pt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Pt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Me.enqueueRetryable(()=>this.We(e)),this.isPrimary=e})}rn(e){return Ll(e).get(Fs.key).next(r=>bt.resolve(this.un(r)))}hn(e){return kl(e).delete(this.clientId)}ln(){var e=this;return(0,f.Z)(function*(){if(e.isPrimary&&!e.fn(e.Qe,18e5)){e.Qe=Date.now();const r=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",o=>{const l=se(o,Lo.store);return l.Bt().next(p=>{const T=e.dn(p,18e5),M=p.filter(Y=>-1===T.indexOf(Y));return bt.forEach(M,Y=>l.delete(Y.clientId)).next(()=>M)})}).catch(()=>[]);if(e.Xe)for(const o of r)e.Xe.removeItem(e.wn(o.clientId))}})()}nn(){this.je=this.Me.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ze().then(()=>this.ln()).then(()=>this.nn()))}un(e){return!!e&&e.ownerId===this.clientId}on(e){return this.Le?bt.resolve(!0):Ll(e).get(Fs.key).next(r=>{if(null!==r&&this.fn(r.leaseTimestampMs,5e3)&&!this._n(r.ownerId)){if(this.un(r)&&this.networkEnabled)return!0;if(!this.un(r)){if(!r.allowTabSynchronization)throw new Ct(nt.FAILED_PRECONDITION,kh);return!1}}return!(!this.networkEnabled||!this.inForeground)||kl(e).Bt().next(o=>void 0===this.dn(o,5e3).find(l=>{if(this.clientId!==l.clientId){const T=!this.inForeground&&l.inForeground,M=this.networkEnabled===l.networkEnabled;if(!this.networkEnabled&&l.networkEnabled||T&&M)return!0}return!1}))}).next(r=>(this.isPrimary!==r&&Pt("IndexedDbPersistence",`Client ${r?"is":"is not"} eligible for a primary lease.`),r))}shutdown(){var e=this;return(0,f.Z)(function*(){e.Ue=!1,e.mn(),e.je&&(e.je.cancel(),e.je=null),e.gn(),e.yn(),yield e.ze.runTransaction("shutdown","readwrite",[Fs.store,Lo.store],r=>{const o=new U(r,Bt.I);return e.cn(o).next(()=>e.hn(o))}),e.ze.close(),e.pn()})()}dn(e,r){return e.filter(o=>this.fn(o.updateTimeMs,r)&&!this._n(o.clientId))}Tn(){return this.runTransaction("getActiveClients","readonly",e=>kl(e).Bt().next(r=>this.dn(r,18e5).map(o=>o.clientId)))}get started(){return this.Ue}getMutationQueue(e){return wc.Xt(e,this.k,this.Jt,this.referenceDelegate)}getTargetCache(){return this.He}getRemoteDocumentCache(){return this.Je}getIndexManager(){return this.Jt}getBundleCache(){return this.Ye}runTransaction(e,r,o){let p;return Pt("IndexedDbPersistence","Starting transaction:",e),this.ze.runTransaction(e,"readonly"===r?"readonly":"readwrite",tl,T=>(p=new U(T,this.Be?this.Be.next():Bt.I),"readwrite-primary"===r?this.rn(p).next(M=>!!M||this.on(p)).next(M=>{if(!M)throw kr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Me.enqueueRetryable(()=>this.We(!1)),new Ct(nt.FAILED_PRECONDITION,Sl);return o(p)}).next(M=>this.an(p).next(()=>M)):this.En(p).next(()=>o(p)))).then(T=>(p.raiseOnCommittedEvent(),T))}En(e){return Ll(e).get(Fs.key).next(r=>{if(null!==r&&this.fn(r.leaseTimestampMs,5e3)&&!this._n(r.ownerId)&&!this.un(r)&&!(this.Le||this.allowTabSynchronization&&r.allowTabSynchronization))throw new Ct(nt.FAILED_PRECONDITION,kh)})}an(e){const r=new Fs(this.clientId,this.allowTabSynchronization,Date.now());return Ll(e).put(Fs.key,r)}static Pt(){return ko.Pt()}cn(e){const r=Ll(e);return r.get(Fs.key).next(o=>this.un(o)?(Pt("IndexedDbPersistence","Releasing primary lease."),r.delete(Fs.key)):bt.resolve())}fn(e,r){const o=Date.now();return!(e<o-r||e>o&&(kr(`Detected an update time that is in the future: ${e} > ${o}`),1))}tn(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ke=()=>{this.Me.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Ze()))},this.document.addEventListener("visibilitychange",this.Ke),this.inForeground="visible"===this.document.visibilityState)}gn(){this.Ke&&(this.document.removeEventListener("visibilitychange",this.Ke),this.Ke=null)}en(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.qe=()=>{this.mn(),(0,x.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Me.enterRestrictedMode(!0),this.Me.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.qe))}yn(){this.qe&&(this.window.removeEventListener("pagehide",this.qe),this.qe=null)}_n(e){var r;try{const o=null!==(null===(r=this.Xe)||void 0===r?void 0:r.getItem(this.wn(e)));return Pt("IndexedDbPersistence",`Client '${e}' ${o?"is":"is not"} zombied in LocalStorage`),o}catch(o){return kr("IndexedDbPersistence","Failed to get zombied client id.",o),!1}}mn(){if(this.Xe)try{this.Xe.setItem(this.wn(this.clientId),String(Date.now()))}catch(e){kr("Failed to set zombie client id.",e)}}pn(){if(this.Xe)try{this.Xe.removeItem(this.wn(this.clientId))}catch(e){}}wn(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Ll(i){return se(i,Fs.store)}function kl(i){return se(i,Lo.store)}function Ed(i,e){let r=i.projectId;return i.isDefaultDatabase||(r+="."+i.database),"firestore/"+e+"/"+r+"/"}class Jy{constructor(e,r){this.progress=e,this.In=r}}class Uh{constructor(e,r,o){this.Je=e,this.An=r,this.Jt=o}Rn(e,r){return this.An.getAllMutationBatchesAffectingDocumentKey(e,r).next(o=>this.bn(e,r,o))}bn(e,r,o){return this.Je.getEntry(e,r).next(l=>{for(const p of o)p.applyToLocalView(l);return l})}Pn(e,r){e.forEach((o,l)=>{for(const p of r)p.applyToLocalView(l)})}vn(e,r){return this.Je.getEntries(e,r).next(o=>this.Vn(e,o).next(()=>o))}Vn(e,r){return this.An.getAllMutationBatchesAffectingDocumentKeys(e,r).next(o=>this.Pn(r,o))}getDocumentsMatchingQuery(e,r,o){return L.isDocumentKey((l=r).path)&&null===l.collectionGroup&&0===l.filters.length?this.Sn(e,r.path):Jl(r)?this.Dn(e,r,o):this.Cn(e,r,o);var l}Sn(e,r){return this.Rn(e,new L(r)).next(o=>{let l=Il();return o.isFoundDocument()&&(l=l.insert(o.key,o)),l})}Dn(e,r,o){const l=r.collectionGroup;let p=Il();return this.Jt.getCollectionParents(e,l).next(T=>bt.forEach(T,M=>{const Y=(fe=r,Pe=M.child(l),new hs(Pe,null,fe.explicitOrderBy.slice(),fe.filters.slice(),fe.limit,fe.limitType,fe.startAt,fe.endAt));var fe,Pe;return this.Cn(e,Y,o).next(fe=>{fe.forEach((Pe,Ge)=>{p=p.insert(Pe,Ge)})})}).next(()=>p))}Cn(e,r,o){let l,p;return this.Je.getDocumentsMatchingQuery(e,r,o).next(T=>(l=T,this.An.getAllMutationBatchesAffectingQuery(e,r))).next(T=>(p=T,this.Nn(e,p,l).next(M=>{l=M;for(const Y of p)for(const fe of Y.mutations){const Pe=fe.key;let Ge=l.get(Pe);null==Ge&&(Ge=Cr.newInvalidDocument(Pe),l=l.insert(Pe,Ge)),Pa(fe,Ge,Y.localWriteTime),Ge.isFoundDocument()||(l=l.remove(Pe))}}))).next(()=>(l.forEach((T,M)=>{Qa(r,M)||(l=l.remove(T))}),l))}Nn(e,r,o){let l=Gr();for(const T of r)for(const M of T.mutations)M instanceof ea&&null===o.get(M.key)&&(l=l.add(M.key));let p=o;return this.Je.getEntries(e,l).next(T=>(T.forEach((M,Y)=>{Y.isFoundDocument()&&(p=p.insert(M,Y))}),p))}}class Bh{constructor(e,r,o,l){this.targetId=e,this.fromCache=r,this.kn=o,this.xn=l}static $n(e,r){let o=Gr(),l=Gr();for(const p of r.docChanges)switch(p.type){case 0:o=o.add(p.doc.key);break;case 1:l=l.add(p.doc.key)}return new Bh(e,r.fromCache,o,l)}}class Vh{On(e){this.Mn=e}getDocumentsMatchingQuery(e,r,o,l){return 0===(p=r).filters.length&&null===p.limit&&null==p.startAt&&null==p.endAt&&(0===p.explicitOrderBy.length||1===p.explicitOrderBy.length&&p.explicitOrderBy[0].field.isKeyField())||o.isEqual(Sn.min())?this.Fn(e,r):this.Mn.vn(e,l).next(p=>{const T=this.Ln(r,p);return(Jo(r)||_l(r))&&this.Bn(r.limitType,T,l,o)?this.Fn(e,r):(yu()<=ce.in.DEBUG&&Pt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Xl(r)),this.Mn.getDocumentsMatchingQuery(e,r,o).next(M=>(T.forEach(Y=>{M=M.insert(Y.key,Y)}),M)))});var p}Ln(e,r){let o=new _i(Hu(e));return r.forEach((l,p)=>{Qa(e,p)&&(o=o.add(p))}),o}Bn(e,r,o,l){if(o.size!==r.size)return!0;const p="F"===e?r.last():r.first();return!!p&&(p.hasPendingWrites||p.version.compareTo(l)>0)}Fn(e,r){return yu()<=ce.in.DEBUG&&Pt("QueryEngine","Using full collection scan to execute query:",Xl(r)),this.Mn.getDocumentsMatchingQuery(e,r,Sn.min())}}class pm{constructor(e,r,o,l){this.persistence=e,this.Un=r,this.k=l,this.qn=new ci(on),this.Kn=new au(p=>ws(p),Ps),this.jn=Sn.min(),this.An=e.getMutationQueue(o),this.Qn=e.getRemoteDocumentCache(),this.He=e.getTargetCache(),this.Wn=new Uh(this.Qn,this.An,this.persistence.getIndexManager()),this.Ye=e.getBundleCache(),this.Un.On(this.Wn)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.qn))}}function Mp(i,e,r,o){return new pm(i,e,r,o)}function sa(i,e){return jh.apply(this,arguments)}function jh(){return jh=(0,f.Z)(function*(i,e){const r=Wt(i);let o=r.An,l=r.Wn;const p=yield r.persistence.runTransaction("Handle user change","readonly",T=>{let M;return r.An.getAllMutationBatches(T).next(Y=>(M=Y,o=r.persistence.getMutationQueue(e),l=new Uh(r.Qn,o,r.persistence.getIndexManager()),o.getAllMutationBatches(T))).next(Y=>{const fe=[],Pe=[];let Ge=Gr();for(const lt of M){fe.push(lt.batchId);for(const At of lt.mutations)Ge=Ge.add(At.key)}for(const lt of Y){Pe.push(lt.batchId);for(const At of lt.mutations)Ge=Ge.add(At.key)}return l.vn(T,Ge).next(lt=>({Gn:lt,removedBatchIds:fe,addedBatchIds:Pe}))})});return r.An=o,r.Wn=l,r.Un.On(r.Wn),p}),jh.apply(this,arguments)}function Pp(i,e){const r=Wt(i);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const l=e.batch.keys(),p=r.Qn.newChangeBuffer({trackRemovals:!0});return function(T,M,Y,fe){const Pe=Y.batch,Ge=Pe.keys();let lt=bt.resolve();return Ge.forEach(At=>{lt=lt.next(()=>fe.getEntry(M,At)).next(Mt=>{const pn=Y.docVersions.get(At);Nn(null!==pn),Mt.version.compareTo(pn)<0&&(Pe.applyToRemoteDocument(Mt,Y),Mt.isValidDocument()&&fe.addEntry(Mt,Y.commitVersion))})}),lt.next(()=>T.An.removeMutationBatch(M,Pe))}(r,o,e,p).next(()=>p.apply(o)).next(()=>r.An.performConsistencyCheck(o)).next(()=>r.Wn.vn(o,l))})}function Np(i){const e=Wt(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.He.getLastRemoteSnapshotVersion(r))}function gm(i,e){const r=Wt(i),o=e.snapshotVersion;let l=r.qn;return r.persistence.runTransaction("Apply remote event","readwrite-primary",p=>{const T=r.Qn.newChangeBuffer({trackRemovals:!0});l=r.qn;const M=[];e.targetChanges.forEach((fe,Pe)=>{const Ge=l.get(Pe);if(!Ge)return;M.push(r.He.removeMatchingKeys(p,fe.removedDocuments,Pe).next(()=>r.He.addMatchingKeys(p,fe.addedDocuments,Pe)));let lt=Ge.withSequenceNumber(p.currentSequenceNumber);var At,Mt,pn;e.targetMismatches.has(Pe)?lt=lt.withResumeToken(Br.EMPTY_BYTE_STRING,Sn.min()).withLastLimboFreeSnapshotVersion(Sn.min()):fe.resumeToken.approximateByteSize()>0&&(lt=lt.withResumeToken(fe.resumeToken,o)),l=l.insert(Pe,lt),Mt=lt,pn=fe,(0===(At=Ge).resumeToken.approximateByteSize()||Mt.snapshotVersion.toMicroseconds()-At.snapshotVersion.toMicroseconds()>=3e8||pn.addedDocuments.size+pn.modifiedDocuments.size+pn.removedDocuments.size>0)&&M.push(r.He.updateTargetData(p,lt))});let Y=Io();if(e.documentUpdates.forEach((fe,Pe)=>{e.resolvedLimboDocuments.has(fe)&&M.push(r.persistence.referenceDelegate.updateLimboDocument(p,fe))}),M.push(xp(p,T,e.documentUpdates,o,void 0).next(fe=>{Y=fe})),!o.isEqual(Sn.min())){const fe=r.He.getLastRemoteSnapshotVersion(p).next(Pe=>r.He.setTargetsMetadata(p,p.currentSequenceNumber,o));M.push(fe)}return bt.waitFor(M).next(()=>T.apply(p)).next(()=>r.Wn.Vn(p,Y)).next(()=>Y)}).then(p=>(r.qn=l,p))}function xp(i,e,r,o,l){let p=Gr();return r.forEach(T=>p=p.add(T)),e.getEntries(i,p).next(T=>{let M=Io();return r.forEach((Y,fe)=>{const Pe=T.get(Y),Ge=(null==l?void 0:l.get(Y))||o;fe.isNoDocument()&&fe.version.isEqual(Sn.min())?(e.removeEntry(Y,Ge),M=M.insert(Y,fe)):!Pe.isValidDocument()||fe.version.compareTo(Pe.version)>0||0===fe.version.compareTo(Pe.version)&&Pe.hasPendingWrites?(e.addEntry(fe,Ge),M=M.insert(Y,fe)):Pt("LocalStore","Ignoring outdated watch update for ",Y,". Current version:",Pe.version," Watch version:",fe.version)}),M})}function mm(i,e){const r=Wt(i);return r.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),r.An.getNextMutationBatchAfterBatchId(o,e)))}function il(i,e){const r=Wt(i);return r.persistence.runTransaction("Allocate target","readwrite",o=>{let l;return r.He.getTargetData(o,e).next(p=>p?(l=p,bt.resolve(l)):r.He.allocateTargetId(o).next(T=>(l=new Ft(e,T,0,o.currentSequenceNumber),r.He.addTargetData(o,l).next(()=>l))))}).then(o=>{const l=r.qn.get(o.targetId);return(null===l||o.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(r.qn=r.qn.insert(o.targetId,o),r.Kn.set(e,o.targetId)),o})}function Fl(i,e,r){return $h.apply(this,arguments)}function $h(){return $h=(0,f.Z)(function*(i,e,r){const o=Wt(i),l=o.qn.get(e),p=r?"readwrite":"readwrite-primary";try{r||(yield o.persistence.runTransaction("Release target",p,T=>o.persistence.referenceDelegate.removeTarget(T,l)))}catch(T){if(!iu(T))throw T;Pt("LocalStore",`Failed to update sequence numbers for target ${e}: ${T}`)}o.qn=o.qn.remove(e),o.Kn.delete(l.target)}),$h.apply(this,arguments)}function Td(i,e,r){const o=Wt(i);let l=Sn.min(),p=Gr();return o.persistence.runTransaction("Execute query","readonly",T=>function(M,Y,fe){const Pe=Wt(M),Ge=Pe.Kn.get(fe);return void 0!==Ge?bt.resolve(Pe.qn.get(Ge)):Pe.He.getTargetData(Y,fe)}(o,T,ks(e)).next(M=>{if(M)return l=M.lastLimboFreeSnapshotVersion,o.He.getMatchingKeysForTargetId(T,M.targetId).next(Y=>{p=Y})}).next(()=>o.Un.getDocumentsMatchingQuery(T,e,r?l:Sn.min(),r?p:Gr())).next(M=>({documents:M,zn:p})))}function ir(i,e){const r=Wt(i),o=Wt(r.He),l=r.qn.get(e);return l?Promise.resolve(l.target):r.persistence.runTransaction("Get target data","readonly",p=>o.Et(p,e).next(T=>T?T.target:null))}function Hh(i){const e=Wt(i);return e.persistence.runTransaction("Get new document changes","readonly",r=>function(o,l,p){const T=Wt(o);let M=Io(),Y=ri(p);const fe=Ba(l),Pe=IDBKeyRange.lowerBound(Y,!0);return fe.jt({index:Ni.readTimeIndex,range:Pe},(Ge,lt)=>{const At=$n(T.k,lt);M=M.insert(At.key,At),Y=lt.readTime}).next(()=>({In:M,readTime:lo(Y)}))}(e.Qn,r,e.jn)).then(({In:r,readTime:o})=>(e.jn=o,r))}function wd(){return wd=(0,f.Z)(function*(i){const e=Wt(i);return e.persistence.runTransaction("Synchronize last document change read time","readonly",r=>function(o){const l=Ba(o);let p=Sn.min();return l.jt({index:Ni.readTimeIndex,reverse:!0},(T,M,Y)=>{M.readTime&&(p=lo(M.readTime)),Y.done()}).next(()=>p)}(r)).then(r=>{e.jn=r})}),wd.apply(this,arguments)}function Fo(){return Fo=(0,f.Z)(function*(i,e,r,o){const l=Wt(i);let p=Gr(),T=Io(),M=ud();for(const Pe of r){const Ge=e.Hn(Pe.metadata.name);Pe.document&&(p=p.add(Ge)),T=T.insert(Ge,e.Jn(Pe)),M=M.insert(Ge,e.Yn(Pe.metadata.readTime))}const Y=l.Qn.newChangeBuffer({trackRemovals:!0}),fe=yield il(l,(Pe=o,ks(Ls(Er.fromString(`__bundle__/docs/${Pe}`)))));var Pe;return l.persistence.runTransaction("Apply bundle documents","readwrite",Pe=>xp(Pe,Y,T,Sn.min(),M).next(Ge=>(Y.apply(Pe),Ge)).next(Ge=>l.He.removeMatchingKeysForTargetId(Pe,fe.targetId).next(()=>l.He.addMatchingKeys(Pe,p,fe.targetId)).next(()=>l.Wn.Vn(Pe,Ge)).next(()=>Ge)))}),Fo.apply(this,arguments)}function kp(i,e){return Wh.apply(this,arguments)}function Wh(){return Wh=(0,f.Z)(function*(i,e,r=Gr()){const o=yield il(i,ks(ra(e.bundledQuery))),l=Wt(i);return l.persistence.runTransaction("Save named query","readwrite",p=>{const T=Zi(e.readTime);if(o.snapshotVersion.compareTo(T)>=0)return l.Ye.saveNamedQuery(p,e);const M=o.withResumeToken(Br.EMPTY_BYTE_STRING,T);return l.qn=l.qn.insert(M.targetId,M),l.He.updateTargetData(p,M).next(()=>l.He.removeMatchingKeysForTargetId(p,o.targetId)).next(()=>l.He.addMatchingKeys(p,r,o.targetId)).next(()=>l.Ye.saveNamedQuery(p,e))})}),Wh.apply(this,arguments)}class zh{constructor(e){this.k=e,this.Xn=new Map,this.Zn=new Map}getBundleMetadata(e,r){return bt.resolve(this.Xn.get(r))}saveBundleMetadata(e,r){var o;return this.Xn.set(r.id,{id:(o=r).id,version:o.version,createTime:Zi(o.createTime)}),bt.resolve()}getNamedQuery(e,r){return bt.resolve(this.Zn.get(r))}saveNamedQuery(e,r){return this.Zn.set(r.name,{name:(o=r).name,query:ra(o.bundledQuery),readTime:Zi(o.readTime)}),bt.resolve();var o}}class Ea{constructor(){this.ts=new _i(ns.es),this.ns=new _i(ns.ss)}isEmpty(){return this.ts.isEmpty()}addReference(e,r){const o=new ns(e,r);this.ts=this.ts.add(o),this.ns=this.ns.add(o)}rs(e,r){e.forEach(o=>this.addReference(o,r))}removeReference(e,r){this.os(new ns(e,r))}cs(e,r){e.forEach(o=>this.removeReference(o,r))}us(e){const r=new L(new Er([])),o=new ns(r,e),l=new ns(r,e+1),p=[];return this.ns.forEachInRange([o,l],T=>{this.os(T),p.push(T.key)}),p}hs(){this.ts.forEach(e=>this.os(e))}os(e){this.ts=this.ts.delete(e),this.ns=this.ns.delete(e)}ls(e){const r=new L(new Er([])),o=new ns(r,e),l=new ns(r,e+1);let p=Gr();return this.ns.forEachInRange([o,l],T=>{p=p.add(T.key)}),p}containsKey(e){const r=new ns(e,0),o=this.ts.firstAfterOrEqual(r);return null!==o&&e.isEqual(o.key)}}class ns{constructor(e,r){this.key=e,this.fs=r}static es(e,r){return L.comparator(e.key,r.key)||on(e.fs,r.fs)}static ss(e,r){return on(e.fs,r.fs)||L.comparator(e.key,r.key)}}class Fp{constructor(e,r){this.Jt=e,this.referenceDelegate=r,this.An=[],this.ds=1,this.ws=new _i(ns.es)}checkEmpty(e){return bt.resolve(0===this.An.length)}addMutationBatch(e,r,o,l){const p=this.ds;this.ds++;const T=new qe(p,r,o,l);this.An.push(T);for(const M of l)this.ws=this.ws.add(new ns(M.key,p)),this.Jt.addToCollectionParentIndex(e,M.key.path.popLast());return bt.resolve(T)}lookupMutationBatch(e,r){return bt.resolve(this._s(r))}getNextMutationBatchAfterBatchId(e,r){const l=this.gs(r+1),p=l<0?0:l;return bt.resolve(this.An.length>p?this.An[p]:null)}getHighestUnacknowledgedBatchId(){return bt.resolve(0===this.An.length?-1:this.ds-1)}getAllMutationBatches(e){return bt.resolve(this.An.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const o=new ns(r,0),l=new ns(r,Number.POSITIVE_INFINITY),p=[];return this.ws.forEachInRange([o,l],T=>{const M=this._s(T.fs);p.push(M)}),bt.resolve(p)}getAllMutationBatchesAffectingDocumentKeys(e,r){let o=new _i(on);return r.forEach(l=>{const p=new ns(l,0),T=new ns(l,Number.POSITIVE_INFINITY);this.ws.forEachInRange([p,T],M=>{o=o.add(M.fs)})}),bt.resolve(this.ys(o))}getAllMutationBatchesAffectingQuery(e,r){const o=r.path,l=o.length+1;let p=o;L.isDocumentKey(p)||(p=p.child(""));const T=new ns(new L(p),0);let M=new _i(on);return this.ws.forEachWhile(Y=>{const fe=Y.key.path;return!!o.isPrefixOf(fe)&&(fe.length===l&&(M=M.add(Y.fs)),!0)},T),bt.resolve(this.ys(M))}ys(e){const r=[];return e.forEach(o=>{const l=this._s(o);null!==l&&r.push(l)}),r}removeMutationBatch(e,r){Nn(0===this.ps(r.batchId,"removed")),this.An.shift();let o=this.ws;return bt.forEach(r.mutations,l=>{const p=new ns(l.key,r.batchId);return o=o.delete(p),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)}).next(()=>{this.ws=o})}ee(e){}containsKey(e,r){const o=new ns(r,0),l=this.ws.firstAfterOrEqual(o);return bt.resolve(r.isEqual(l&&l.key))}performConsistencyCheck(e){return bt.resolve()}ps(e,r){return this.gs(e)}gs(e){return 0===this.An.length?0:e-this.An[0].batchId}_s(e){const r=this.gs(e);return r<0||r>=this.An.length?null:this.An[r]}}class Gh{constructor(e,r){this.Jt=e,this.Ts=r,this.docs=new ci(L.comparator),this.size=0}addEntry(e,r,o){const l=r.key,p=this.docs.get(l),T=p?p.size:0,M=this.Ts(r);return this.docs=this.docs.insert(l,{document:r.mutableCopy(),size:M,readTime:o}),this.size+=M-T,this.Jt.addToCollectionParentIndex(e,l.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const o=this.docs.get(r);return bt.resolve(o?o.document.mutableCopy():Cr.newInvalidDocument(r))}getEntries(e,r){let o=Io();return r.forEach(l=>{const p=this.docs.get(l);o=o.insert(l,p?p.document.mutableCopy():Cr.newInvalidDocument(l))}),bt.resolve(o)}getDocumentsMatchingQuery(e,r,o){let l=Io();const p=new L(r.path.child("")),T=this.docs.getIteratorFrom(p);for(;T.hasNext();){const{key:M,value:{document:Y,readTime:fe}}=T.getNext();if(!r.path.isPrefixOf(M.path))break;fe.compareTo(o)<=0||Qa(r,Y)&&(l=l.insert(Y.key,Y.mutableCopy()))}return bt.resolve(l)}Es(e,r){return bt.forEach(this.docs,o=>r(o))}newChangeBuffer(e){return new Xy(this)}getSize(e){return bt.resolve(this.size)}}class Xy extends Dc{constructor(e){super(),this.De=e}applyChanges(e){const r=[];return this.changes.forEach((o,l)=>{l.document.isValidDocument()?r.push(this.De.addEntry(e,l.document,this.getReadTime(o))):this.De.removeEntry(o)}),bt.waitFor(r)}getFromCache(e,r){return this.De.getEntry(e,r)}getAllFromCache(e,r){return this.De.getEntries(e,r)}}class Up{constructor(e){this.persistence=e,this.Is=new au(r=>ws(r),Ps),this.lastRemoteSnapshotVersion=Sn.min(),this.highestTargetId=0,this.As=0,this.Rs=new Ea,this.targetCount=0,this.bs=bu.ie()}forEachTarget(e,r){return this.Is.forEach((o,l)=>r(l)),bt.resolve()}getLastRemoteSnapshotVersion(e){return bt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return bt.resolve(this.As)}allocateTargetId(e){return this.highestTargetId=this.bs.next(),bt.resolve(this.highestTargetId)}setTargetsMetadata(e,r,o){return o&&(this.lastRemoteSnapshotVersion=o),r>this.As&&(this.As=r),bt.resolve()}ae(e){this.Is.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.bs=new bu(r),this.highestTargetId=r),e.sequenceNumber>this.As&&(this.As=e.sequenceNumber)}addTargetData(e,r){return this.ae(r),this.targetCount+=1,bt.resolve()}updateTargetData(e,r){return this.ae(r),bt.resolve()}removeTargetData(e,r){return this.Is.delete(r.target),this.Rs.us(r.targetId),this.targetCount-=1,bt.resolve()}removeTargets(e,r,o){let l=0;const p=[];return this.Is.forEach((T,M)=>{M.sequenceNumber<=r&&null===o.get(M.targetId)&&(this.Is.delete(T),p.push(this.removeMatchingKeysForTargetId(e,M.targetId)),l++)}),bt.waitFor(p).next(()=>l)}getTargetCount(e){return bt.resolve(this.targetCount)}getTargetData(e,r){const o=this.Is.get(r)||null;return bt.resolve(o)}addMatchingKeys(e,r,o){return this.Rs.rs(r,o),bt.resolve()}removeMatchingKeys(e,r,o){this.Rs.cs(r,o);const l=this.persistence.referenceDelegate,p=[];return l&&r.forEach(T=>{p.push(l.markPotentiallyOrphaned(e,T))}),bt.waitFor(p)}removeMatchingKeysForTargetId(e,r){return this.Rs.us(r),bt.resolve()}getMatchingKeysForTargetId(e,r){const o=this.Rs.ls(r);return bt.resolve(o)}containsKey(e,r){return bt.resolve(this.Rs.containsKey(r))}}class e_{constructor(e,r){this.Ps={},this.Be=new Bt(0),this.Ue=!1,this.Ue=!0,this.referenceDelegate=e(this),this.He=new Up(this),this.Jt=new Pl,this.Je=new Gh(this.Jt,o=>this.referenceDelegate.vs(o)),this.k=new fn(r),this.Ye=new zh(this.k)}start(){return Promise.resolve()}shutdown(){return this.Ue=!1,Promise.resolve()}get started(){return this.Ue}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Jt}getMutationQueue(e){let r=this.Ps[e.toKey()];return r||(r=new Fp(this.Jt,this.referenceDelegate),this.Ps[e.toKey()]=r),r}getTargetCache(){return this.He}getRemoteDocumentCache(){return this.Je}getBundleCache(){return this.Ye}runTransaction(e,r,o){Pt("MemoryPersistence","Starting transaction:",e);const l=new Dd(this.Be.next());return this.referenceDelegate.Vs(),o(l).next(p=>this.referenceDelegate.Ss(l).next(()=>p)).toPromise().then(p=>(l.raiseOnCommittedEvent(),p))}Ds(e,r){return bt.or(Object.values(this.Ps).map(o=>()=>o.containsKey(e,r)))}}class Dd extends _c{constructor(e){super(),this.currentSequenceNumber=e}}class Ul{constructor(e){this.persistence=e,this.Cs=new Ea,this.Ns=null}static ks(e){return new Ul(e)}get xs(){if(this.Ns)return this.Ns;throw gn()}addReference(e,r,o){return this.Cs.addReference(o,r),this.xs.delete(o.toString()),bt.resolve()}removeReference(e,r,o){return this.Cs.removeReference(o,r),this.xs.add(o.toString()),bt.resolve()}markPotentiallyOrphaned(e,r){return this.xs.add(r.toString()),bt.resolve()}removeTarget(e,r){this.Cs.us(r.targetId).forEach(l=>this.xs.add(l.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,r.targetId).next(l=>{l.forEach(p=>this.xs.add(p.toString()))}).next(()=>o.removeTargetData(e,r))}Vs(){this.Ns=new Set}Ss(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return bt.forEach(this.xs,o=>{const l=L.fromPath(o);return this.$s(e,l).next(p=>{p||r.removeEntry(l)})}).next(()=>(this.Ns=null,r.apply(e)))}updateLimboDocument(e,r){return this.$s(e,r).next(o=>{o?this.xs.delete(r.toString()):this.xs.add(r.toString())})}vs(e){return 0}$s(e,r){return bt.or([()=>bt.resolve(this.Cs.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Ds(e,r)])}}function Cd(i,e){return`firestore_clients_${i}_${e}`}function bd(i,e,r){let o=`firestore_mutations_${i}_${r}`;return e.isAuthenticated()&&(o+=`_${e.uid}`),o}function Cc(i,e){return`firestore_targets_${i}_${e}`}class Kh{constructor(e,r,o,l){this.user=e,this.batchId=r,this.state=o,this.error=l}static Os(e,r,o){const l=JSON.parse(o);let p,T="object"==typeof l&&-1!==["pending","acknowledged","rejected"].indexOf(l.state)&&(void 0===l.error||"object"==typeof l.error);return T&&l.error&&(T="string"==typeof l.error.message&&"string"==typeof l.error.code,T&&(p=new Ct(l.error.code,l.error.message))),T?new Kh(e,r,l.state,p):(kr("SharedClientState",`Failed to parse mutation state for ID '${r}': ${o}`),null)}Ms(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class bc{constructor(e,r,o){this.targetId=e,this.state=r,this.error=o}static Os(e,r){const o=JSON.parse(r);let l,p="object"==typeof o&&-1!==["not-current","current","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return p&&o.error&&(p="string"==typeof o.error.message&&"string"==typeof o.error.code,p&&(l=new Ct(o.error.code,o.error.message))),p?new bc(e,o.state,l):(kr("SharedClientState",`Failed to parse target state for ID '${e}': ${r}`),null)}Ms(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Ad{constructor(e,r){this.clientId=e,this.activeTargetIds=r}static Os(e,r){const o=JSON.parse(r);let l="object"==typeof o&&o.activeTargetIds instanceof Array,p=Na();for(let T=0;l&&T<o.activeTargetIds.length;++T)l=A(o.activeTargetIds[T]),p=p.add(o.activeTargetIds[T]);return l?new Ad(e,p):(kr("SharedClientState",`Failed to parse client data for instance '${e}': ${r}`),null)}}class Zh{constructor(e,r){this.clientId=e,this.onlineState=r}static Os(e){const r=JSON.parse(e);return"object"==typeof r&&-1!==["Unknown","Online","Offline"].indexOf(r.onlineState)&&"string"==typeof r.clientId?new Zh(r.clientId,r.onlineState):(kr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class qh{constructor(){this.activeTargetIds=Na()}Fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ls(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ms(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Sd{constructor(e,r,o,l,p){this.window=e,this.Me=r,this.persistenceKey=o,this.Bs=l,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Us=this.qs.bind(this),this.Ks=new ci(on),this.started=!1,this.js=[];const T=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=p,this.Qs=Cd(this.persistenceKey,this.Bs),this.Ws=`firestore_sequence_number_${this.persistenceKey}`,this.Ks=this.Ks.insert(this.Bs,new qh),this.Gs=new RegExp(`^firestore_clients_${T}_([^_]*)$`),this.zs=new RegExp(`^firestore_mutations_${T}_(\\d+)(?:_(.*))?$`),this.Hs=new RegExp(`^firestore_targets_${T}_(\\d+)$`),this.Js=`firestore_online_state_${this.persistenceKey}`,this.Ys=function(M){return`firestore_bundle_loaded_${M}`}(this.persistenceKey),this.window.addEventListener("storage",this.Us)}static Pt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,f.Z)(function*(){const r=yield e.syncEngine.Tn();for(const l of r){if(l===e.Bs)continue;const p=e.getItem(Cd(e.persistenceKey,l));if(p){const T=Ad.Os(l,p);T&&(e.Ks=e.Ks.insert(T.clientId,T))}}e.Xs();const o=e.storage.getItem(e.Js);if(o){const l=e.Zs(o);l&&e.ti(l)}for(const l of e.js)e.qs(l);e.js=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ws,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ei(this.Ks)}isActiveQueryTarget(e){let r=!1;return this.Ks.forEach((o,l)=>{l.activeTargetIds.has(e)&&(r=!0)}),r}addPendingMutation(e){this.ni(e,"pending")}updateMutationState(e,r,o){this.ni(e,r,o),this.si(e)}addLocalQueryTarget(e){let r="not-current";if(this.isActiveQueryTarget(e)){const o=this.storage.getItem(Cc(this.persistenceKey,e));if(o){const l=bc.Os(e,o);l&&(r=l.state)}}return this.ii.Fs(e),this.Xs(),r}removeLocalQueryTarget(e){this.ii.Ls(e),this.Xs()}isLocalQueryTarget(e){return this.ii.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Cc(this.persistenceKey,e))}updateQueryState(e,r,o){this.ri(e,r,o)}handleUserChange(e,r,o){r.forEach(l=>{this.si(l)}),this.currentUser=e,o.forEach(l=>{this.addPendingMutation(l)})}setOnlineState(e){this.oi(e)}notifyBundleLoaded(){this.ci()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Us),this.removeItem(this.Qs),this.started=!1)}getItem(e){const r=this.storage.getItem(e);return Pt("SharedClientState","READ",e,r),r}setItem(e,r){Pt("SharedClientState","SET",e,r),this.storage.setItem(e,r)}removeItem(e){Pt("SharedClientState","REMOVE",e),this.storage.removeItem(e)}qs(e){var r=this;const o=e;if(o.storageArea===this.storage){if(Pt("SharedClientState","EVENT",o.key,o.newValue),o.key===this.Qs)return void kr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Me.enqueueRetryable((0,f.Z)(function*(){if(r.started){if(null!==o.key)if(r.Gs.test(o.key)){if(null==o.newValue){const l=r.ai(o.key);return r.ui(l,null)}{const l=r.hi(o.key,o.newValue);if(l)return r.ui(l.clientId,l)}}else if(r.zs.test(o.key)){if(null!==o.newValue){const l=r.li(o.key,o.newValue);if(l)return r.fi(l)}}else if(r.Hs.test(o.key)){if(null!==o.newValue){const l=r.di(o.key,o.newValue);if(l)return r.wi(l)}}else if(o.key===r.Js){if(null!==o.newValue){const l=r.Zs(o.newValue);if(l)return r.ti(l)}}else if(o.key===r.Ws){const l=function(p){let T=Bt.I;if(null!=p)try{const M=JSON.parse(p);Nn("number"==typeof M),T=M}catch(M){kr("SharedClientState","Failed to read sequence number from WebStorage",M)}return T}(o.newValue);l!==Bt.I&&r.sequenceNumberHandler(l)}else if(o.key===r.Ys)return r.syncEngine._i()}else r.js.push(o)}))}}get ii(){return this.Ks.get(this.Bs)}Xs(){this.setItem(this.Qs,this.ii.Ms())}ni(e,r,o){const l=new Kh(this.currentUser,e,r,o),p=bd(this.persistenceKey,this.currentUser,e);this.setItem(p,l.Ms())}si(e){const r=bd(this.persistenceKey,this.currentUser,e);this.removeItem(r)}oi(e){this.storage.setItem(this.Js,JSON.stringify({clientId:this.Bs,onlineState:e}))}ri(e,r,o){const l=Cc(this.persistenceKey,e),p=new bc(e,r,o);this.setItem(l,p.Ms())}ci(){this.setItem(this.Ys,"value-not-used")}ai(e){const r=this.Gs.exec(e);return r?r[1]:null}hi(e,r){const o=this.ai(e);return Ad.Os(o,r)}li(e,r){const o=this.zs.exec(e),l=Number(o[1]);return Kh.Os(new ti(void 0!==o[2]?o[2]:null),l,r)}di(e,r){const o=this.Hs.exec(e),l=Number(o[1]);return bc.Os(l,r)}Zs(e){return Zh.Os(e)}fi(e){var r=this;return(0,f.Z)(function*(){if(e.user.uid===r.currentUser.uid)return r.syncEngine.mi(e.batchId,e.state,e.error);Pt("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}wi(e){return this.syncEngine.gi(e.targetId,e.state,e.error)}ui(e,r){const o=r?this.Ks.insert(e,r):this.Ks.remove(e),l=this.ei(this.Ks),p=this.ei(o),T=[],M=[];return p.forEach(Y=>{l.has(Y)||T.push(Y)}),l.forEach(Y=>{p.has(Y)||M.push(Y)}),this.syncEngine.yi(T,M).then(()=>{this.Ks=o})}ti(e){this.Ks.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ei(e){let r=Na();return e.forEach((o,l)=>{r=r.unionWith(l.activeTargetIds)}),r}}class ym{constructor(){this.pi=new qh,this.Ti={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,o){}addLocalQueryTarget(e){return this.pi.Fs(e),this.Ti[e]||"not-current"}updateQueryState(e,r,o){this.Ti[e]=r}removeLocalQueryTarget(e){this.pi.Ls(e)}isLocalQueryTarget(e){return this.pi.activeTargetIds.has(e)}clearQueryState(e){delete this.Ti[e]}getAllActiveQueryTargets(){return this.pi.activeTargetIds}isActiveQueryTarget(e){return this.pi.activeTargetIds.has(e)}start(){return this.pi=new qh,Promise.resolve()}handleUserChange(e,r,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}class _m{Ei(e){}shutdown(){}}class vm{constructor(){this.Ii=()=>this.Ai(),this.Ri=()=>this.bi(),this.Pi=[],this.vi()}Ei(e){this.Pi.push(e)}shutdown(){window.removeEventListener("online",this.Ii),window.removeEventListener("offline",this.Ri)}vi(){window.addEventListener("online",this.Ii),window.addEventListener("offline",this.Ri)}Ai(){Pt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Pi)e(0)}bi(){Pt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Pi)e(1)}static Pt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Bp={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class Vp{constructor(e){this.Vi=e.Vi,this.Si=e.Si}Di(e){this.Ci=e}Ni(e){this.ki=e}onMessage(e){this.xi=e}close(){this.Si()}send(e){this.Vi(e)}$i(){this.Ci()}Oi(e){this.ki(e)}Mi(e){this.xi(e)}}class Em extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.Fi=(e.ssl?"https":"http")+"://"+e.host,this.Li="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Bi(e,r,o,l,p){const T=this.Ui(e,r);Pt("RestConnection","Sending: ",T,o);const M={};return this.qi(M,l,p),this.Ki(e,T,M,o).then(Y=>(Pt("RestConnection","Received: ",Y),Y),Y=>{throw Zo("RestConnection",`${e} failed with error: `,Y,"url: ",T,"request:",o),Y})}ji(e,r,o,l,p){return this.Bi(e,r,o,l,p)}qi(e,r,o){e["X-Goog-Api-Client"]="gl-js/ fire/"+Po,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((l,p)=>e[p]=l),o&&o.headers.forEach((l,p)=>e[p]=l)}Ui(e,r){return`${this.Fi}/v1/${r}:${Bp[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}Ki(e,r,o,l){return new Promise((p,T)=>{const M=new _o;M.listenOnce(Vu.COMPLETE,()=>{try{switch(M.getLastErrorCode()){case Mo.NO_ERROR:const fe=M.getResponseJson();Pt("Connection","XHR received:",JSON.stringify(fe)),p(fe);break;case Mo.TIMEOUT:Pt("Connection",'RPC "'+e+'" timed out'),T(new Ct(nt.DEADLINE_EXCEEDED,"Request time out"));break;case Mo.HTTP_ERROR:const Pe=M.getStatus();if(Pt("Connection",'RPC "'+e+'" failed with status:',Pe,"response text:",M.getResponseText()),Pe>0){const Ge=M.getResponseJson().error;if(Ge&&Ge.status&&Ge.message){const lt=function(At){const Mt=At.toLowerCase().replace(/_/g,"-");return Object.values(nt).indexOf(Mt)>=0?Mt:nt.UNKNOWN}(Ge.status);T(new Ct(lt,Ge.message))}else T(new Ct(nt.UNKNOWN,"Server responded with status "+M.getStatus()))}else T(new Ct(nt.UNAVAILABLE,"Connection failed."));break;default:gn()}}finally{Pt("Connection",'RPC "'+e+'" completed.')}});const Y=JSON.stringify(l);M.send(r,"POST",Y,o,15)})}Qi(e,r,o){const l=[this.Fi,"/","google.firestore.v1.Firestore","/",e,"/channel"],p=zo(),T=io(),M={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(M.xmlHttpFactory=new Go({})),this.qi(M.initMessageHeaders,r,o),(0,x.uI)()||(0,x.b$)()||(0,x.d)()||(0,x.w1)()||(0,x.Mn)()||(0,x.ru)()||(M.httpHeadersOverwriteParam="$httpHeaders");const Y=l.join("");Pt("Connection","Creating WebChannel: "+Y,M);const fe=p.createWebChannel(Y,M);let Pe=!1,Ge=!1;const lt=new Vp({Vi:Mt=>{Ge?Pt("Connection","Not sending because WebChannel is closed:",Mt):(Pe||(Pt("Connection","Opening WebChannel transport."),fe.open(),Pe=!0),Pt("Connection","WebChannel sending:",Mt),fe.send(Mt))},Si:()=>fe.close()}),At=(Mt,pn,Xn)=>{Mt.listen(pn,bs=>{try{Xn(bs)}catch(qs){setTimeout(()=>{throw qs},0)}})};return At(fe,ba.EventType.OPEN,()=>{Ge||Pt("Connection","WebChannel transport opened.")}),At(fe,ba.EventType.CLOSE,()=>{Ge||(Ge=!0,Pt("Connection","WebChannel transport closed"),lt.Oi())}),At(fe,ba.EventType.ERROR,Mt=>{Ge||(Ge=!0,Zo("Connection","WebChannel transport errored:",Mt),lt.Oi(new Ct(nt.UNAVAILABLE,"The operation could not be completed")))}),At(fe,ba.EventType.MESSAGE,Mt=>{var pn;if(!Ge){const Xn=Mt.data[0];Nn(!!Xn);const bs=Xn,qs=bs.error||(null===(pn=bs[0])||void 0===pn?void 0:pn.error);if(qs){Pt("Connection","WebChannel received error:",qs);const ah=qs.status;let ql=function(sy){const lh=ji[sy];if(void 0!==lh)return wo(lh)}(ah),uh=qs.message;void 0===ql&&(ql=nt.INTERNAL,uh="Unknown error status: "+ah+" with message "+qs.message),Ge=!0,lt.Oi(new Ct(ql,uh)),fe.close()}else Pt("Connection","WebChannel received:",Xn),lt.Mi(Xn)}}),At(T,ju.STAT_EVENT,Mt=>{Mt.stat===so.PROXY?Pt("Connection","Detected buffering proxy"):Mt.stat===so.NOPROXY&&Pt("Connection","Detected no buffering proxy")}),setTimeout(()=>{lt.$i()},0),lt}}function Od(){return"undefined"!=typeof window?window:null}function Yh(){return"undefined"!=typeof document?document:null}function Rd(i){return new dc(i,!0)}class jp{constructor(e,r,o=1e3,l=1.5,p=6e4){this.Me=e,this.timerId=r,this.Wi=o,this.Gi=l,this.zi=p,this.Hi=0,this.Ji=null,this.Yi=Date.now(),this.reset()}reset(){this.Hi=0}Xi(){this.Hi=this.zi}Zi(e){this.cancel();const r=Math.floor(this.Hi+this.tr()),o=Math.max(0,Date.now()-this.Yi),l=Math.max(0,r-o);l>0&&Pt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.Hi} ms, delay with jitter: ${r} ms, last attempt: ${o} ms ago)`),this.Ji=this.Me.enqueueAfterDelay(this.timerId,l,()=>(this.Yi=Date.now(),e())),this.Hi*=this.Gi,this.Hi<this.Wi&&(this.Hi=this.Wi),this.Hi>this.zi&&(this.Hi=this.zi)}er(){null!==this.Ji&&(this.Ji.skipDelay(),this.Ji=null)}cancel(){null!==this.Ji&&(this.Ji.cancel(),this.Ji=null)}tr(){return(Math.random()-.5)*this.Hi}}class Tm{constructor(e,r,o,l,p,T,M,Y){this.Me=e,this.nr=o,this.sr=l,this.ir=p,this.authCredentialsProvider=T,this.appCheckCredentialsProvider=M,this.listener=Y,this.state=0,this.rr=0,this.cr=null,this.ar=null,this.stream=null,this.ur=new jp(e,r)}hr(){return 1===this.state||5===this.state||this.lr()}lr(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.dr()}stop(){var e=this;return(0,f.Z)(function*(){e.hr()&&(yield e.close(0))})()}wr(){this.state=0,this.ur.reset()}_r(){this.lr()&&null===this.cr&&(this.cr=this.Me.enqueueAfterDelay(this.nr,6e4,()=>this.mr()))}gr(e){this.yr(),this.stream.send(e)}mr(){var e=this;return(0,f.Z)(function*(){if(e.lr())return e.close(0)})()}yr(){this.cr&&(this.cr.cancel(),this.cr=null)}pr(){this.ar&&(this.ar.cancel(),this.ar=null)}close(e,r){var o=this;return(0,f.Z)(function*(){o.yr(),o.pr(),o.ur.cancel(),o.rr++,4!==e?o.ur.reset():r&&r.code===nt.RESOURCE_EXHAUSTED?(kr(r.toString()),kr("Using maximum backoff delay to prevent overloading the backend."),o.ur.Xi()):r&&r.code===nt.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.Tr(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.Ni(r)})()}Tr(){}auth(){this.state=1;const e=this.Er(this.rr),r=this.rr;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,l])=>{this.rr===r&&this.Ir(o,l)},o=>{e(()=>{const l=new Ct(nt.UNKNOWN,"Fetching auth token failed: "+o.message);return this.Ar(l)})})}Ir(e,r){const o=this.Er(this.rr);this.stream=this.Rr(e,r),this.stream.Di(()=>{o(()=>(this.state=2,this.ar=this.Me.enqueueAfterDelay(this.sr,1e4,()=>(this.lr()&&(this.state=3),Promise.resolve())),this.listener.Di()))}),this.stream.Ni(l=>{o(()=>this.Ar(l))}),this.stream.onMessage(l=>{o(()=>this.onMessage(l))})}dr(){var e=this;this.state=5,this.ur.Zi((0,f.Z)(function*(){e.state=0,e.start()}))}Ar(e){return Pt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Er(e){return r=>{this.Me.enqueueAndForget(()=>this.rr===e?r():(Pt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class t_ extends Tm{constructor(e,r,o,l,p,T){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,o,l,T),this.k=p}Rr(e,r){return this.ir.Qi("Listen",e,r)}onMessage(e){this.ur.reset();const r=function(i,e){let r;if("targetChange"in e){const o="NO_CHANGE"===(Y=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===Y?1:"REMOVE"===Y?2:"CURRENT"===Y?3:"RESET"===Y?4:gn(),l=e.targetChange.targetIds||[],p=function(Y,fe){return Y.C?(Nn(void 0===fe||"string"==typeof fe),Br.fromBase64String(fe||"")):(Nn(void 0===fe||fe instanceof Uint8Array),Br.fromUint8Array(fe||new Uint8Array))}(i,e.targetChange.resumeToken),T=e.targetChange.cause,M=T&&function(Y){const fe=void 0===Y.code?nt.UNKNOWN:wo(Y.code);return new Ct(fe,Y.message||"")}(T);r=new uc(o,l,p,M||null)}else if("documentChange"in e){const o=e.documentChange,l=uo(i,o.document.name),p=Zi(o.document.updateTime),T=new yr({mapValue:{fields:o.document.fields}}),M=Cr.newFoundDocument(l,p,T);r=new xa(o.targetIds||[],o.removedTargetIds||[],M.key,M)}else if("documentDelete"in e){const o=e.documentDelete,l=uo(i,o.document),p=o.readTime?Zi(o.readTime):Sn.min(),T=Cr.newNoDocument(l,p);r=new xa([],o.removedTargetIds||[],T.key,T)}else if("documentRemove"in e){const o=e.documentRemove,l=uo(i,o.document);r=new xa([],o.removedTargetIds||[],l,null)}else{if(!("filter"in e))return gn();{const o=e.filter,p=new Eh(o.count||0);r=new Ku(o.targetId,p)}}var Y;return r}(this.k,e),o=function(l){if(!("targetChange"in l))return Sn.min();const p=l.targetChange;return p.targetIds&&p.targetIds.length?Sn.min():p.readTime?Zi(p.readTime):Sn.min()}(e);return this.listener.br(r,o)}Pr(e){const r={};r.database=ru(this.k),r.addTarget=function(l,p){let T;const M=p.target;return T=Gi(M)?{documents:fd(l,M)}:{query:Xu(l,M)},T.targetId=p.targetId,p.resumeToken.approximateByteSize()>0?T.resumeToken=Ch(l,p.resumeToken):p.snapshotVersion.compareTo(Sn.min())>0&&(T.readTime=Dl(l,p.snapshotVersion.toTimestamp())),T}(this.k,e);const o=function(i,e){const r=function(o,l){switch(l){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return gn()}}(0,e.purpose);return null==r?null:{"goog-listen-tags":r}}(0,e);o&&(r.labels=o),this.gr(r)}vr(e){const r={};r.database=ru(this.k),r.removeTarget=e,this.gr(r)}}class n_ extends Tm{constructor(e,r,o,l,p,T){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,o,l,T),this.k=p,this.Vr=!1}get Sr(){return this.Vr}start(){this.Vr=!1,this.lastStreamToken=void 0,super.start()}Tr(){this.Vr&&this.Dr([])}Rr(e,r){return this.ir.Qi("Write",e,r)}onMessage(e){if(Nn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Vr){this.ur.reset();const r=function(i,e){return i&&i.length>0?(Nn(void 0!==e),i.map(r=>function(o,l){let p=Zi(o.updateTime?o.updateTime:l);return p.isEqual(Sn.min())&&(p=Zi(l)),new El(p,o.transformResults||[])}(r,e))):[]}(e.writeResults,e.commitTime),o=Zi(e.commitTime);return this.listener.Cr(o,r)}return Nn(!e.writeResults||0===e.writeResults.length),this.Vr=!0,this.listener.Nr()}kr(){const e={};e.database=ru(this.k),this.gr(e)}Dr(e){const r={streamToken:this.lastStreamToken,writes:e.map(o=>Ju(this.k,o))};this.gr(r)}}class r_ extends class{}{constructor(e,r,o,l){super(),this.authCredentials=e,this.appCheckCredentials=r,this.ir=o,this.k=l,this.$r=!1}Or(){if(this.$r)throw new Ct(nt.FAILED_PRECONDITION,"The client has already been terminated.")}Bi(e,r,o){return this.Or(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,p])=>this.ir.Bi(e,r,o,l,p)).catch(l=>{throw"FirebaseError"===l.name?(l.code===nt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ct(nt.UNKNOWN,l.toString())})}ji(e,r,o){return this.Or(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,p])=>this.ir.ji(e,r,o,l,p)).catch(l=>{throw"FirebaseError"===l.name?(l.code===nt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ct(nt.UNKNOWN,l.toString())})}terminate(){this.$r=!0}}class i_{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.Mr=0,this.Fr=null,this.Lr=!0}Br(){0===this.Mr&&(this.Ur("Unknown"),this.Fr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.Fr=null,this.qr("Backend didn't respond within 10 seconds."),this.Ur("Offline"),Promise.resolve())))}Kr(e){"Online"===this.state?this.Ur("Unknown"):(this.Mr++,this.Mr>=1&&(this.jr(),this.qr(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.Ur("Offline")))}set(e){this.jr(),this.Mr=0,"Online"===e&&(this.Lr=!1),this.Ur(e)}Ur(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}qr(e){const r=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Lr?(kr(r),this.Lr=!1):Pt("OnlineStateTracker",r)}jr(){null!==this.Fr&&(this.Fr.cancel(),this.Fr=null)}}class s_{constructor(e,r,o,l,p){var T=this;this.localStore=e,this.datastore=r,this.asyncQueue=o,this.remoteSyncer={},this.Qr=[],this.Wr=new Map,this.Gr=new Set,this.zr=[],this.Hr=p,this.Hr.Ei(M=>{o.enqueueAndForget((0,f.Z)(function*(){var Y;uu(T)&&(Pt("RemoteStore","Restarting streams for network reachability change."),yield(Y=(0,f.Z)(function*(fe){const Pe=Wt(fe);Pe.Gr.add(4),yield Su(Pe),Pe.Jr.set("Unknown"),Pe.Gr.delete(4),yield Md(Pe)}),function(fe){return Y.apply(this,arguments)})(T))}))}),this.Jr=new i_(o,l)}}function Md(i){return Va.apply(this,arguments)}function Va(){return Va=(0,f.Z)(function*(i){if(uu(i))for(const e of i.zr)yield e(!0)}),Va.apply(this,arguments)}function Su(i){return Qh.apply(this,arguments)}function Qh(){return Qh=(0,f.Z)(function*(i){for(const e of i.zr)yield e(!1)}),Qh.apply(this,arguments)}function Ac(i,e){const r=Wt(i);r.Wr.has(e.targetId)||(r.Wr.set(e.targetId,e),ja(r)?Jh(r):Cs(r).lr()&&Pd(r,e))}function sl(i,e){const r=Wt(i),o=Cs(r);r.Wr.delete(e),o.lr()&&Nd(r,e),0===r.Wr.size&&(o.lr()?o._r():uu(r)&&r.Jr.set("Unknown"))}function Pd(i,e){i.Yr.X(e.targetId),Cs(i).Pr(e)}function Nd(i,e){i.Yr.X(e),Cs(i).vr(e)}function Jh(i){i.Yr=new ld({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>i.Wr.get(e)||null}),Cs(i).start(),i.Jr.Br()}function ja(i){return uu(i)&&!Cs(i).hr()&&i.Wr.size>0}function uu(i){return 0===Wt(i).Gr.size}function $p(i){i.Yr=void 0}function Xh(i){return ef.apply(this,arguments)}function ef(){return ef=(0,f.Z)(function*(i){i.Wr.forEach((e,r)=>{Pd(i,e)})}),ef.apply(this,arguments)}function Hp(i,e){return tf.apply(this,arguments)}function tf(){return tf=(0,f.Z)(function*(i,e){$p(i),ja(i)?(i.Jr.Kr(e),Jh(i)):i.Jr.set("Unknown")}),tf.apply(this,arguments)}function wm(i,e,r){return ol.apply(this,arguments)}function ol(){return ol=(0,f.Z)(function*(i,e,r){if(i.Jr.set("Online"),e instanceof uc&&2===e.state&&e.cause)try{yield(o=(0,f.Z)(function*(l,p){const T=p.cause;for(const M of p.targetIds)l.Wr.has(M)&&(yield l.remoteSyncer.rejectListen(M,T),l.Wr.delete(M),l.Yr.removeTarget(M))}),function(l,p){return o.apply(this,arguments)})(i,e)}catch(o){Pt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield lu(i,o)}else if(e instanceof xa?i.Yr.ot(e):e instanceof Ku?i.Yr.dt(e):i.Yr.ut(e),!r.isEqual(Sn.min()))try{const o=yield Np(i.localStore);r.compareTo(o)>=0&&(yield function(l,p){const T=l.Yr.gt(p);return T.targetChanges.forEach((M,Y)=>{if(M.resumeToken.approximateByteSize()>0){const fe=l.Wr.get(Y);fe&&l.Wr.set(Y,fe.withResumeToken(M.resumeToken,p))}}),T.targetMismatches.forEach(M=>{const Y=l.Wr.get(M);if(!Y)return;l.Wr.set(M,Y.withResumeToken(Br.EMPTY_BYTE_STRING,Y.snapshotVersion)),Nd(l,M);const fe=new Ft(Y.target,M,1,Y.sequenceNumber);Pd(l,fe)}),l.remoteSyncer.applyRemoteEvent(T)}(i,r))}catch(o){Pt("RemoteStore","Failed to raise snapshot:",o),yield lu(i,o)}var o}),ol.apply(this,arguments)}function lu(i,e,r){return Sc.apply(this,arguments)}function Sc(){return Sc=(0,f.Z)(function*(i,e,r){if(!iu(e))throw e;i.Gr.add(1),yield Su(i),i.Jr.set("Offline"),r||(r=()=>Np(i.localStore)),i.asyncQueue.enqueueRetryable((0,f.Z)(function*(){Pt("RemoteStore","Retrying IndexedDB access"),yield r(),i.Gr.delete(1),yield Md(i)}))}),Sc.apply(this,arguments)}function al(i,e){return e().catch(r=>lu(i,r,e))}function $a(i){return Ou.apply(this,arguments)}function Ou(){return Ou=(0,f.Z)(function*(i){const e=Wt(i),r=Ru(e);let o=e.Qr.length>0?e.Qr[e.Qr.length-1].batchId:-1;for(;Im(e);)try{const l=yield mm(e.localStore,o);if(null===l){0===e.Qr.length&&r._r();break}o=l.batchId,Wp(e,l)}catch(l){yield lu(e,l)}nf(e)&&xd(e)}),Ou.apply(this,arguments)}function Im(i){return uu(i)&&i.Qr.length<10}function Wp(i,e){i.Qr.push(e);const r=Ru(i);r.lr()&&r.Sr&&r.Dr(e.mutations)}function nf(i){return uu(i)&&!Ru(i).hr()&&i.Qr.length>0}function xd(i){Ru(i).start()}function rf(i){return Ld.apply(this,arguments)}function Ld(){return Ld=(0,f.Z)(function*(i){Ru(i).kr()}),Ld.apply(this,arguments)}function kd(i){return sf.apply(this,arguments)}function sf(){return sf=(0,f.Z)(function*(i){const e=Ru(i);for(const r of i.Qr)e.Dr(r.mutations)}),sf.apply(this,arguments)}function zp(i,e,r){return Gp.apply(this,arguments)}function Gp(){return Gp=(0,f.Z)(function*(i,e,r){const o=i.Qr.shift(),l=ot.from(o,e,r);yield al(i,()=>i.remoteSyncer.applySuccessfulWrite(l)),yield $a(i)}),Gp.apply(this,arguments)}function Kp(i,e){return Fd.apply(this,arguments)}function Fd(){return Fd=(0,f.Z)(function*(i,e){var r;e&&Ru(i).Sr&&(yield(r=(0,f.Z)(function*(o,l){if(od(p=l.code)&&p!==nt.ABORTED){const T=o.Qr.shift();Ru(o).wr(),yield al(o,()=>o.remoteSyncer.rejectFailedWrite(T.batchId,l)),yield $a(o)}var p}),function(o,l){return r.apply(this,arguments)})(i,e)),nf(i)&&xd(i)}),Fd.apply(this,arguments)}function Zp(i,e){return Ud.apply(this,arguments)}function Ud(){return Ud=(0,f.Z)(function*(i,e){const r=Wt(i);r.asyncQueue.verifyOperationInProgress(),Pt("RemoteStore","RemoteStore received new credentials");const o=uu(r);r.Gr.add(3),yield Su(r),o&&r.Jr.set("Unknown"),yield r.remoteSyncer.handleCredentialChange(e),r.Gr.delete(3),yield Md(r)}),Ud.apply(this,arguments)}function of(i,e){return af.apply(this,arguments)}function af(){return af=(0,f.Z)(function*(i,e){const r=Wt(i);e?(r.Gr.delete(2),yield Md(r)):e||(r.Gr.add(2),yield Su(r),r.Jr.set("Unknown"))}),af.apply(this,arguments)}function Cs(i){return i.Xr||(i.Xr=function(e,r,o){const l=Wt(e);return l.Or(),new t_(r,l.ir,l.authCredentials,l.appCheckCredentials,l.k,o)}(i.datastore,i.asyncQueue,{Di:Xh.bind(null,i),Ni:Hp.bind(null,i),br:wm.bind(null,i)}),i.zr.push(function(){var e=(0,f.Z)(function*(r){r?(i.Xr.wr(),ja(i)?Jh(i):i.Jr.set("Unknown")):(yield i.Xr.stop(),$p(i))});return function(r){return e.apply(this,arguments)}}())),i.Xr}function Ru(i){return i.Zr||(i.Zr=function(e,r,o){const l=Wt(e);return l.Or(),new n_(r,l.ir,l.authCredentials,l.appCheckCredentials,l.k,o)}(i.datastore,i.asyncQueue,{Di:rf.bind(null,i),Ni:Kp.bind(null,i),Nr:kd.bind(null,i),Cr:zp.bind(null,i)}),i.zr.push(function(){var e=(0,f.Z)(function*(r){r?(i.Zr.wr(),yield $a(i)):(yield i.Zr.stop(),i.Qr.length>0&&(Pt("RemoteStore",`Stopping write stream with ${i.Qr.length} pending writes`),i.Qr=[]))});return function(r){return e.apply(this,arguments)}}())),i.Zr}class uf{constructor(e,r,o,l,p){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=o,this.op=l,this.removalCallback=p,this.deferred=new Qr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(T=>{})}static createAndSchedule(e,r,o,l,p){const T=Date.now()+o,M=new uf(e,r,T,l,p);return M.start(o),M}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ct(nt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Oc(i,e){if(kr("AsyncQueue",`${e}: ${i}`),iu(i))return new Ct(nt.UNAVAILABLE,`${e}: ${i}`);throw i}class Rc{constructor(e){this.comparator=e?(r,o)=>e(r,o)||L.comparator(r.key,o.key):(r,o)=>L.comparator(r.key,o.key),this.keyedMap=Il(),this.sortedSet=new ci(this.comparator)}static emptySet(e){return new Rc(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,o)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Rc)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;r.hasNext();){const l=r.getNext().key,p=o.getNext().key;if(!l.isEqual(p))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,r){const o=new Rc;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=r,o}}class lf{constructor(){this.eo=new ci(L.comparator)}track(e){const r=e.doc.key,o=this.eo.get(r);o?0!==e.type&&3===o.type?this.eo=this.eo.insert(r,e):3===e.type&&1!==o.type?this.eo=this.eo.insert(r,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.eo=this.eo.insert(r,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.eo=this.eo.insert(r,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.eo=this.eo.remove(r):1===e.type&&2===o.type?this.eo=this.eo.insert(r,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.eo=this.eo.insert(r,{type:2,doc:e.doc}):gn():this.eo=this.eo.insert(r,e)}no(){const e=[];return this.eo.inorderTraversal((r,o)=>{e.push(o)}),e}}class Mc{constructor(e,r,o,l,p,T,M,Y){this.query=e,this.docs=r,this.oldDocs=o,this.docChanges=l,this.mutatedKeys=p,this.fromCache=T,this.syncStateChanged=M,this.excludesMetadataChanges=Y}static fromInitialDocuments(e,r,o,l){const p=[];return r.forEach(T=>{p.push({type:0,doc:T})}),new Mc(e,r,Rc.emptySet(r),p,o,l,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ya(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,o=e.docChanges;if(r.length!==o.length)return!1;for(let l=0;l<r.length;l++)if(r[l].type!==o[l].type||!r[l].doc.isEqual(o[l].doc))return!1;return!0}}class Dm{constructor(){this.so=void 0,this.listeners=[]}}class cf{constructor(){this.queries=new au(e=>Oa(e),Ya),this.onlineState="Unknown",this.io=new Set}}function Bd(i,e){return df.apply(this,arguments)}function df(){return df=(0,f.Z)(function*(i,e){const r=Wt(i),o=e.query;let l=!1,p=r.queries.get(o);if(p||(l=!0,p=new Dm),l)try{p.so=yield r.onListen(o)}catch(T){const M=Oc(T,`Initialization of query '${Xl(e.query)}' failed`);return void e.onError(M)}r.queries.set(o,p),p.listeners.push(e),e.ro(r.onlineState),p.so&&e.oo(p.so)&&Vd(r)}),df.apply(this,arguments)}function hf(i,e){return ff.apply(this,arguments)}function ff(){return ff=(0,f.Z)(function*(i,e){const r=Wt(i),o=e.query;let l=!1;const p=r.queries.get(o);if(p){const T=p.listeners.indexOf(e);T>=0&&(p.listeners.splice(T,1),l=0===p.listeners.length)}if(l)return r.queries.delete(o),r.onUnlisten(o)}),ff.apply(this,arguments)}function qp(i,e){const r=Wt(i);let o=!1;for(const l of e){const T=r.queries.get(l.query);if(T){for(const M of T.listeners)M.oo(l)&&(o=!0);T.so=l}}o&&Vd(r)}function Cm(i,e,r){const o=Wt(i),l=o.queries.get(e);if(l)for(const p of l.listeners)p.onError(r);o.queries.delete(e)}function Vd(i){i.io.forEach(e=>{e.next()})}class pf{constructor(e,r,o){this.query=e,this.co=r,this.ao=!1,this.uo=null,this.onlineState="Unknown",this.options=o||{}}oo(e){if(!this.options.includeMetadataChanges){const o=[];for(const l of e.docChanges)3!==l.type&&o.push(l);e=new Mc(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let r=!1;return this.ao?this.ho(e)&&(this.co.next(e),r=!0):this.lo(e,this.onlineState)&&(this.fo(e),r=!0),this.uo=e,r}onError(e){this.co.error(e)}ro(e){this.onlineState=e;let r=!1;return this.uo&&!this.ao&&this.lo(this.uo,e)&&(this.fo(this.uo),r=!0),r}lo(e,r){return!e.fromCache||!(this.options.wo&&"Offline"!==r||e.docs.isEmpty()&&"Offline"!==r)}ho(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.uo&&this.uo.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}fo(e){e=Mc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.ao=!0,this.co.next(e)}}class bm{constructor(e,r){this.payload=e,this.byteLength=r}_o(){return"metadata"in this.payload}}class gf{constructor(e){this.k=e}Hn(e){return uo(this.k,e)}Jn(e){return e.metadata.exists?fc(this.k,e.document,!1):Cr.newNoDocument(this.Hn(e.metadata.name),this.Yn(e.metadata.readTime))}Yn(e){return Zi(e)}}class Yp{constructor(e,r,o){this.mo=e,this.localStore=r,this.k=o,this.queries=[],this.documents=[],this.progress=Qp(e)}yo(e){this.progress.bytesLoaded+=e.byteLength;let r=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++r):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++r),r!==this.progress.documentsLoaded?(this.progress.documentsLoaded=r,Object.assign({},this.progress)):null}po(e){const r=new Map,o=new gf(this.k);for(const l of e)if(l.metadata.queries){const p=o.Hn(l.metadata.name);for(const T of l.metadata.queries){const M=(r.get(T)||Gr()).add(p);r.set(T,M)}}return r}complete(){var e=this;return(0,f.Z)(function*(){const r=yield function(i,e,r,o){return Fo.apply(this,arguments)}(e.localStore,new gf(e.k),e.documents,e.mo.id),o=e.po(e.documents);for(const l of e.queries)yield kp(e.localStore,l,o.get(l.name));return e.progress.taskState="Success",new Jy(Object.assign({},e.progress),r)})()}}function Qp(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}class Ta{constructor(e){this.key=e}}class jd{constructor(e){this.key=e}}class Jp{constructor(e,r){this.query=e,this.To=r,this.Eo=null,this.current=!1,this.Io=Gr(),this.mutatedKeys=Gr(),this.Ao=Hu(e),this.Ro=new Rc(this.Ao)}get bo(){return this.To}Po(e,r){const o=r?r.vo:new lf,l=r?r.Ro:this.Ro;let p=r?r.mutatedKeys:this.mutatedKeys,T=l,M=!1;const Y=Jo(this.query)&&l.size===this.query.limit?l.last():null,fe=_l(this.query)&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal((Pe,Ge)=>{const lt=l.get(Pe),At=Qa(this.query,Ge)?Ge:null,Mt=!!lt&&this.mutatedKeys.has(lt.key),pn=!!At&&(At.hasLocalMutations||this.mutatedKeys.has(At.key)&&At.hasCommittedMutations);let Xn=!1;lt&&At?lt.data.isEqual(At.data)?Mt!==pn&&(o.track({type:3,doc:At}),Xn=!0):this.Vo(lt,At)||(o.track({type:2,doc:At}),Xn=!0,(Y&&this.Ao(At,Y)>0||fe&&this.Ao(At,fe)<0)&&(M=!0)):!lt&&At?(o.track({type:0,doc:At}),Xn=!0):lt&&!At&&(o.track({type:1,doc:lt}),Xn=!0,(Y||fe)&&(M=!0)),Xn&&(At?(T=T.add(At),p=pn?p.add(Pe):p.delete(Pe)):(T=T.delete(Pe),p=p.delete(Pe)))}),Jo(this.query)||_l(this.query))for(;T.size>this.query.limit;){const Pe=Jo(this.query)?T.last():T.first();T=T.delete(Pe.key),p=p.delete(Pe.key),o.track({type:1,doc:Pe})}return{Ro:T,vo:o,Bn:M,mutatedKeys:p}}Vo(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,o){const l=this.Ro;this.Ro=e.Ro,this.mutatedKeys=e.mutatedKeys;const p=e.vo.no();p.sort((fe,Pe)=>function(Ge,lt){const At=Mt=>{switch(Mt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return gn()}};return At(Ge)-At(lt)}(fe.type,Pe.type)||this.Ao(fe.doc,Pe.doc)),this.So(o);const T=r?this.Do():[],M=0===this.Io.size&&this.current?1:0,Y=M!==this.Eo;return this.Eo=M,0!==p.length||Y?{snapshot:new Mc(this.query,e.Ro,l,p,e.mutatedKeys,0===M,Y,!1),Co:T}:{Co:T}}ro(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ro:this.Ro,vo:new lf,mutatedKeys:this.mutatedKeys,Bn:!1},!1)):{Co:[]}}No(e){return!this.To.has(e)&&!!this.Ro.has(e)&&!this.Ro.get(e).hasLocalMutations}So(e){e&&(e.addedDocuments.forEach(r=>this.To=this.To.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.To=this.To.delete(r)),this.current=e.current)}Do(){if(!this.current)return[];const e=this.Io;this.Io=Gr(),this.Ro.forEach(o=>{this.No(o.key)&&(this.Io=this.Io.add(o.key))});const r=[];return e.forEach(o=>{this.Io.has(o)||r.push(new jd(o))}),this.Io.forEach(o=>{e.has(o)||r.push(new Ta(o))}),r}ko(e){this.To=e.zn,this.Io=Gr();const r=this.Po(e.documents);return this.applyChanges(r,!0)}xo(){return Mc.fromInitialDocuments(this.query,this.Ro,this.mutatedKeys,0===this.Eo)}}class Am{constructor(e,r,o){this.query=e,this.targetId=r,this.view=o}}class o_{constructor(e){this.key=e,this.$o=!1}}class Xp{constructor(e,r,o,l,p,T){this.localStore=e,this.remoteStore=r,this.eventManager=o,this.sharedClientState=l,this.currentUser=p,this.maxConcurrentLimboResolutions=T,this.Oo={},this.Mo=new au(M=>Oa(M),Ya),this.Fo=new Map,this.Lo=new Set,this.Bo=new ci(L.comparator),this.Uo=new Map,this.qo=new Ea,this.Ko={},this.jo=new Map,this.Qo=bu.re(),this.onlineState="Unknown",this.Wo=void 0}get isPrimaryClient(){return!0===this.Wo}}function Sm(i,e){return mf.apply(this,arguments)}function mf(){return mf=(0,f.Z)(function*(i,e){const r=Af(i);let o,l;const p=r.Mo.get(e);if(p)o=p.targetId,r.sharedClientState.addLocalQueryTarget(o),l=p.view.xo();else{const T=yield il(r.localStore,ks(e)),M=r.sharedClientState.addLocalQueryTarget(T.targetId);o=T.targetId,l=yield yf(r,e,o,"current"===M),r.isPrimaryClient&&Ac(r.remoteStore,T)}return l}),mf.apply(this,arguments)}function yf(i,e,r,o){return Pc.apply(this,arguments)}function Pc(){return Pc=(0,f.Z)(function*(i,e,r,o){i.Go=(Pe,Ge,lt)=>{return(At=(0,f.Z)(function*(Mt,pn,Xn,bs){let qs=pn.view.Po(Xn);qs.Bn&&(qs=yield Td(Mt.localStore,pn.query,!1).then(({documents:uh})=>pn.view.Po(uh,qs)));const ah=bs&&bs.targetChanges.get(pn.targetId),ql=pn.view.applyChanges(qs,Mt.isPrimaryClient,ah);return Bl(Mt,pn.targetId,ql.Co),ql.snapshot}),function(Mt,pn,Xn,bs){return At.apply(this,arguments)})(i,Pe,Ge,lt);var At};const l=yield Td(i.localStore,e,!0),p=new Jp(e,l.zn),T=p.Po(l.documents),M=Is.createSynthesizedTargetChangeForCurrentChange(r,o&&"Offline"!==i.onlineState),Y=p.applyChanges(T,i.isPrimaryClient,M);Bl(i,r,Y.Co);const fe=new Am(e,r,p);return i.Mo.set(e,fe),i.Fo.has(r)?i.Fo.get(r).push(e):i.Fo.set(r,[e]),Y.snapshot}),Pc.apply(this,arguments)}function Om(i,e){return _f.apply(this,arguments)}function _f(){return _f=(0,f.Z)(function*(i,e){const r=Wt(i),o=r.Mo.get(e),l=r.Fo.get(o.targetId);if(l.length>1)return r.Fo.set(o.targetId,l.filter(p=>!Ya(p,e))),void r.Mo.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||(yield Fl(r.localStore,o.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(o.targetId),sl(r.remoteStore,o.targetId),ul(r,o.targetId)}).catch(rl))):(ul(r,o.targetId),yield Fl(r.localStore,o.targetId,!0))}),_f.apply(this,arguments)}function Nc(){return Nc=(0,f.Z)(function*(i,e,r){const o=Sf(i);try{const l=yield function(p,T){const M=Wt(p),Y=Pr.now(),fe=T.reduce((Ge,lt)=>Ge.add(lt.key),Gr());let Pe;return M.persistence.runTransaction("Locally write mutations","readwrite",Ge=>M.Wn.vn(Ge,fe).next(lt=>{Pe=lt;const At=[];for(const Mt of T){const pn=_h(Mt,Pe.get(Mt.key));null!=pn&&At.push(new ea(Mt.key,pn,ui(pn.value.mapValue),Vi.exists(!0)))}return M.An.addMutationBatch(Ge,Y,At,T)})).then(Ge=>(Ge.applyToLocalDocumentSet(Pe),{batchId:Ge.batchId,changes:Pe}))}(o.localStore,e);o.sharedClientState.addPendingMutation(l.batchId),function(p,T,M){let Y=p.Ko[p.currentUser.toKey()];Y||(Y=new ci(on)),Y=Y.insert(T,M),p.Ko[p.currentUser.toKey()]=Y}(o,l.batchId,r),yield Mu(o,l.changes),yield $a(o.remoteStore)}catch(l){const p=Oc(l,"Failed to persist write");r.reject(p)}}),Nc.apply(this,arguments)}function eg(i,e){return xc.apply(this,arguments)}function xc(){return xc=(0,f.Z)(function*(i,e){const r=Wt(i);try{const o=yield gm(r.localStore,e);e.targetChanges.forEach((l,p)=>{const T=r.Uo.get(p);T&&(Nn(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?T.$o=!0:l.modifiedDocuments.size>0?Nn(T.$o):l.removedDocuments.size>0&&(Nn(T.$o),T.$o=!1))}),yield Mu(r,o,e)}catch(o){yield rl(o)}}),xc.apply(this,arguments)}function Hd(i,e,r){const o=Wt(i);if(o.isPrimaryClient&&0===r||!o.isPrimaryClient&&1===r){const l=[];o.Mo.forEach((p,T)=>{const M=T.view.ro(e);M.snapshot&&l.push(M.snapshot)}),function(p,T){const M=Wt(p);M.onlineState=T;let Y=!1;M.queries.forEach((fe,Pe)=>{for(const Ge of Pe.listeners)Ge.ro(T)&&(Y=!0)}),Y&&Vd(M)}(o.eventManager,e),l.length&&o.Oo.br(l),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function tg(i,e,r){return vf.apply(this,arguments)}function vf(){return vf=(0,f.Z)(function*(i,e,r){const o=Wt(i);o.sharedClientState.updateQueryState(e,"rejected",r);const l=o.Uo.get(e),p=l&&l.key;if(p){let T=new ci(L.comparator);T=T.insert(p,Cr.newNoDocument(p,Sn.min()));const M=Gr().add(p),Y=new Tu(Sn.min(),new Map,new _i(on),T,M);yield eg(o,Y),o.Bo=o.Bo.remove(p),o.Uo.delete(e),Tf(o)}else yield Fl(o.localStore,e,!1).then(()=>ul(o,e,r)).catch(rl)}),vf.apply(this,arguments)}function Rm(i,e){return Lc.apply(this,arguments)}function Lc(){return Lc=(0,f.Z)(function*(i,e){const r=Wt(i),o=e.batch.batchId;try{const l=yield Pp(r.localStore,e);Gd(r,o,null),zd(r,o),r.sharedClientState.updateMutationState(o,"acknowledged"),yield Mu(r,l)}catch(l){yield rl(l)}}),Lc.apply(this,arguments)}function a_(i,e,r){return Ef.apply(this,arguments)}function Ef(){return Ef=(0,f.Z)(function*(i,e,r){const o=Wt(i);try{const l=yield function(p,T){const M=Wt(p);return M.persistence.runTransaction("Reject batch","readwrite-primary",Y=>{let fe;return M.An.lookupMutationBatch(Y,T).next(Pe=>(Nn(null!==Pe),fe=Pe.keys(),M.An.removeMutationBatch(Y,Pe))).next(()=>M.An.performConsistencyCheck(Y)).next(()=>M.Wn.vn(Y,fe))})}(o.localStore,e);Gd(o,e,r),zd(o,e),o.sharedClientState.updateMutationState(e,"rejected",r),yield Mu(o,l)}catch(l){yield rl(l)}}),Ef.apply(this,arguments)}function Wd(){return Wd=(0,f.Z)(function*(i,e){const r=Wt(i);uu(r.remoteStore)||Pt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const o=yield function(p){const T=Wt(p);return T.persistence.runTransaction("Get highest unacknowledged batch id","readonly",M=>T.An.getHighestUnacknowledgedBatchId(M))}(r.localStore);if(-1===o)return void e.resolve();const l=r.jo.get(o)||[];l.push(e),r.jo.set(o,l)}catch(o){const l=Oc(o,"Initialization of waitForPendingWrites() operation failed");e.reject(l)}}),Wd.apply(this,arguments)}function zd(i,e){(i.jo.get(e)||[]).forEach(r=>{r.resolve()}),i.jo.delete(e)}function Gd(i,e,r){const o=Wt(i);let l=o.Ko[o.currentUser.toKey()];if(l){const p=l.get(e);p&&(r?p.reject(r):p.resolve(),l=l.remove(e)),o.Ko[o.currentUser.toKey()]=l}}function ul(i,e,r=null){i.sharedClientState.removeLocalQueryTarget(e);for(const o of i.Fo.get(e))i.Mo.delete(o),r&&i.Oo.zo(o,r);i.Fo.delete(e),i.isPrimaryClient&&i.qo.us(e).forEach(o=>{i.qo.containsKey(o)||Ha(i,o)})}function Ha(i,e){i.Lo.delete(e.path.canonicalString());const r=i.Bo.get(e);null!==r&&(sl(i.remoteStore,r),i.Bo=i.Bo.remove(e),i.Uo.delete(r),Tf(i))}function Bl(i,e,r){for(const o of r)o instanceof Ta?(i.qo.addReference(o.key,e),Mm(i,o)):o instanceof jd?(Pt("SyncEngine","Document no longer in limbo: "+o.key),i.qo.removeReference(o.key,e),i.qo.containsKey(o.key)||Ha(i,o.key)):gn()}function Mm(i,e){const r=e.key,o=r.path.canonicalString();i.Bo.get(r)||i.Lo.has(o)||(Pt("SyncEngine","New document in limbo: "+r),i.Lo.add(o),Tf(i))}function Tf(i){for(;i.Lo.size>0&&i.Bo.size<i.maxConcurrentLimboResolutions;){const e=i.Lo.values().next().value;i.Lo.delete(e);const r=new L(Er.fromString(e)),o=i.Qo.next();i.Uo.set(o,new o_(r)),i.Bo=i.Bo.insert(r,o),Ac(i.remoteStore,new Ft(ks(Ls(r.path)),o,2,Bt.I))}}function Mu(i,e,r){return kc.apply(this,arguments)}function kc(){return kc=(0,f.Z)(function*(i,e,r){const o=Wt(i),l=[],p=[],T=[];var M;o.Mo.isEmpty()||(o.Mo.forEach((M,Y)=>{T.push(o.Go(Y,e,r).then(fe=>{if(fe){o.isPrimaryClient&&o.sharedClientState.updateQueryState(Y.targetId,fe.fromCache?"not-current":"current"),l.push(fe);const Pe=Bh.$n(Y.targetId,fe);p.push(Pe)}}))}),yield Promise.all(T),o.Oo.br(l),yield(M=(0,f.Z)(function*(Y,fe){const Pe=Wt(Y);try{yield Pe.persistence.runTransaction("notifyLocalViewChanges","readwrite",Ge=>bt.forEach(fe,lt=>bt.forEach(lt.kn,At=>Pe.persistence.referenceDelegate.addReference(Ge,lt.targetId,At)).next(()=>bt.forEach(lt.xn,At=>Pe.persistence.referenceDelegate.removeReference(Ge,lt.targetId,At)))))}catch(Ge){if(!iu(Ge))throw Ge;Pt("LocalStore","Failed to update sequence numbers: "+Ge)}for(const Ge of fe){const lt=Ge.targetId;if(!Ge.fromCache){const At=Pe.qn.get(lt),pn=At.withLastLimboFreeSnapshotVersion(At.snapshotVersion);Pe.qn=Pe.qn.insert(lt,pn)}}}),function(Y,fe){return M.apply(this,arguments)})(o.localStore,p))}),kc.apply(this,arguments)}function rg(i,e){return Fc.apply(this,arguments)}function Fc(){return Fc=(0,f.Z)(function*(i,e){const r=Wt(i);if(!r.currentUser.isEqual(e)){Pt("SyncEngine","User change. New user:",e.toKey());const o=yield sa(r.localStore,e);r.currentUser=e,(l=r).jo.forEach(T=>{T.forEach(M=>{M.reject(new Ct(nt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),l.jo.clear(),r.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield Mu(r,o.Gn)}var l}),Fc.apply(this,arguments)}function Uc(i,e){const r=Wt(i),o=r.Uo.get(e);if(o&&o.$o)return Gr().add(o.key);{let l=Gr();const p=r.Fo.get(e);if(!p)return l;for(const T of p){const M=r.Mo.get(T);l=l.unionWith(M.view.bo)}return l}}function Pm(i,e){return Bc.apply(this,arguments)}function Bc(){return Bc=(0,f.Z)(function*(i,e){const r=Wt(i),o=yield Td(r.localStore,e.query,!0),l=e.view.ko(o);return r.isPrimaryClient&&Bl(r,e.targetId,l.Co),l}),Bc.apply(this,arguments)}function ig(i){return Kd.apply(this,arguments)}function Kd(){return Kd=(0,f.Z)(function*(i){const e=Wt(i);return Hh(e.localStore).then(r=>Mu(e,r))}),Kd.apply(this,arguments)}function sg(i,e,r,o){return wf.apply(this,arguments)}function wf(){return wf=(0,f.Z)(function*(i,e,r,o){const l=Wt(i),p=yield function(T,M){const Y=Wt(T),fe=Wt(Y.An);return Y.persistence.runTransaction("Lookup mutation documents","readonly",Pe=>fe.Zt(Pe,M).next(Ge=>Ge?Y.Wn.vn(Pe,Ge):bt.resolve(null)))}(l.localStore,e);var M;null!==p?("pending"===r?yield $a(l.remoteStore):"acknowledged"===r||"rejected"===r?(Gd(l,e,o||null),zd(l,e),M=e,Wt(Wt(l.localStore).An).ee(M)):gn(),yield Mu(l,p)):Pt("SyncEngine","Cannot apply mutation batch with id: "+e)}),wf.apply(this,arguments)}function Df(){return Df=(0,f.Z)(function*(i,e){const r=Wt(i);if(Af(r),Sf(r),!0===e&&!0!==r.Wo){const o=r.sharedClientState.getAllActiveQueryTargets(),l=yield og(r,o.toArray());r.Wo=!0,yield of(r.remoteStore,!0);for(const p of l)Ac(r.remoteStore,p)}else if(!1===e&&!1!==r.Wo){const o=[];let l=Promise.resolve();r.Fo.forEach((p,T)=>{r.sharedClientState.isLocalQueryTarget(T)?o.push(T):l=l.then(()=>(ul(r,T),Fl(r.localStore,T,!0))),sl(r.remoteStore,T)}),yield l,yield og(r,o),function(p){const T=Wt(p);T.Uo.forEach((M,Y)=>{sl(T.remoteStore,Y)}),T.qo.hs(),T.Uo=new Map,T.Bo=new ci(L.comparator)}(r),r.Wo=!1,yield of(r.remoteStore,!1)}}),Df.apply(this,arguments)}function og(i,e,r){return Zd.apply(this,arguments)}function Zd(){return Zd=(0,f.Z)(function*(i,e,r){const o=Wt(i),l=[],p=[];for(const T of e){let M;const Y=o.Fo.get(T);if(Y&&0!==Y.length){M=yield il(o.localStore,ks(Y[0]));for(const fe of Y){const Pe=o.Mo.get(fe),Ge=yield Pm(o,Pe);Ge.snapshot&&p.push(Ge.snapshot)}}else{const fe=yield ir(o.localStore,T);M=yield il(o.localStore,fe),yield yf(o,ll(fe),T,!1)}l.push(M)}return o.Oo.br(p),l}),Zd.apply(this,arguments)}function ll(i){return Za(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function ag(i){const e=Wt(i);return Wt(Wt(e.localStore).persistence).Tn()}function Nm(i,e,r,o){return Cf.apply(this,arguments)}function Cf(){return Cf=(0,f.Z)(function*(i,e,r,o){const l=Wt(i);if(l.Wo)Pt("SyncEngine","Ignoring unexpected query state notification.");else if(l.Fo.has(e))switch(r){case"current":case"not-current":{const p=yield Hh(l.localStore),T=Tu.createSynthesizedRemoteEventForCurrentChange(e,"current"===r);yield Mu(l,p,T);break}case"rejected":yield Fl(l.localStore,e,!0),ul(l,e,o);break;default:gn()}}),Cf.apply(this,arguments)}function Vl(i,e,r){return bf.apply(this,arguments)}function bf(){return bf=(0,f.Z)(function*(i,e,r){const o=Af(i);if(o.Wo){for(const l of e){if(o.Fo.has(l)){Pt("SyncEngine","Adding an already active target "+l);continue}const p=yield ir(o.localStore,l),T=yield il(o.localStore,p);yield yf(o,ll(p),T.targetId,!1),Ac(o.remoteStore,T)}for(const l of r)o.Fo.has(l)&&(yield Fl(o.localStore,l,!1).then(()=>{sl(o.remoteStore,l),ul(o,l)}).catch(rl))}}),bf.apply(this,arguments)}function Af(i){const e=Wt(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=eg.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Uc.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=tg.bind(null,e),e.Oo.br=qp.bind(null,e.eventManager),e.Oo.zo=Cm.bind(null,e.eventManager),e}function Sf(i){const e=Wt(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Rm.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=a_.bind(null,e),e}class Uo{constructor(){this.synchronizeTabs=!1}initialize(e){var r=this;return(0,f.Z)(function*(){r.k=Rd(e.databaseInfo.databaseId),r.sharedClientState=r.Jo(e),r.persistence=r.Yo(e),yield r.persistence.start(),r.gcScheduler=r.Xo(e),r.localStore=r.Zo(e)})()}Xo(e){return null}Zo(e){return Mp(this.persistence,new Vh,e.initialUser,this.k)}Yo(e){return new e_(Ul.ks,this.k)}Jo(e){return new ym}terminate(){var e=this;return(0,f.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class qd extends Uo{constructor(e,r,o){super(),this.tc=e,this.cacheSizeBytes=r,this.forceOwnership=o,this.synchronizeTabs=!1}initialize(e){var r=()=>super.initialize,o=this;return(0,f.Z)(function*(){yield r().call(o,e),yield function(i){return wd.apply(this,arguments)}(o.localStore),yield o.tc.initialize(o,e),yield Sf(o.tc.syncEngine),yield $a(o.tc.remoteStore),yield o.persistence.sn(()=>(o.gcScheduler&&!o.gcScheduler.started&&o.gcScheduler.start(o.localStore),Promise.resolve()))})()}Zo(e){return Mp(this.persistence,new Vh,e.initialUser,this.k)}Xo(e){return new Sp(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}Yo(e){const r=Ed(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),o=void 0!==this.cacheSizeBytes?Co.withCacheSize(this.cacheSizeBytes):Co.DEFAULT;return new Fh(this.synchronizeTabs,r,e.clientId,o,e.asyncQueue,Od(),Yh(),this.k,this.sharedClientState,!!this.forceOwnership)}Jo(e){return new ym}}class ug extends qd{constructor(e,r){super(e,r,!1),this.tc=e,this.cacheSizeBytes=r,this.synchronizeTabs=!0}initialize(e){var r=()=>super.initialize,o=this;return(0,f.Z)(function*(){yield r().call(o,e);const l=o.tc.syncEngine;o.sharedClientState instanceof Sd&&(o.sharedClientState.syncEngine={mi:sg.bind(null,l),gi:Nm.bind(null,l),yi:Vl.bind(null,l),Tn:ag.bind(null,l),_i:ig.bind(null,l)},yield o.sharedClientState.start()),yield o.persistence.sn(function(){var p=(0,f.Z)(function*(T){yield function(i,e){return Df.apply(this,arguments)}(o.tc.syncEngine,T),o.gcScheduler&&(T&&!o.gcScheduler.started?o.gcScheduler.start(o.localStore):T||o.gcScheduler.stop())});return function(T){return p.apply(this,arguments)}}())})()}Jo(e){const r=Od();if(!Sd.Pt(r))throw new Ct(nt.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const o=Ed(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Sd(r,e.asyncQueue,o,e.clientId,e.initialUser)}}class Yd{initialize(e,r){var o=this;return(0,f.Z)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(r),o.remoteStore=o.createRemoteStore(r),o.eventManager=o.createEventManager(r),o.syncEngine=o.createSyncEngine(r,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=l=>Hd(o.syncEngine,l,1),o.remoteStore.remoteSyncer.handleCredentialChange=rg.bind(null,o.syncEngine),yield of(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new cf}createDatastore(e){const r=Rd(e.databaseInfo.databaseId),o=new Em(e.databaseInfo);return new r_(e.authCredentials,e.appCheckCredentials,o,r)}createRemoteStore(e){return r=this.localStore,o=this.datastore,l=e.asyncQueue,p=M=>Hd(this.syncEngine,M,0),T=vm.Pt()?new vm:new _m,new s_(r,o,l,p,T);var r,o,l,p,T}createSyncEngine(e,r){return function(o,l,p,T,M,Y,fe){const Pe=new Xp(o,l,p,T,M,Y);return fe&&(Pe.Wo=!0),Pe}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}terminate(){return(e=(0,f.Z)(function*(r){const o=Wt(r);Pt("RemoteStore","RemoteStore shutting down."),o.Gr.add(5),yield Su(o),o.Hr.shutdown(),o.Jr.set("Unknown")}),function(r){return e.apply(this,arguments)})(this.remoteStore);var e}}function Of(i,e=10240){let r=0;return{read:()=>(0,f.Z)(function*(){if(r<i.byteLength){const o={value:i.slice(r,r+e),done:!1};return r+=e,o}return{done:!0}})(),cancel:()=>(0,f.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class Vc{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.ec(this.observer.next,e)}error(e){this.observer.error?this.ec(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}nc(){this.muted=!0}ec(e,r){this.muted||setTimeout(()=>{this.muted||e(r)},0)}}class Lm{constructor(e,r){this.sc=e,this.k=r,this.metadata=new Qr,this.buffer=new Uint8Array,this.ic=new TextDecoder("utf-8"),this.rc().then(o=>{o&&o._o()?this.metadata.resolve(o.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==o?void 0:o.payload)}`))},o=>this.metadata.reject(o))}close(){return this.sc.cancel()}getMetadata(){var e=this;return(0,f.Z)(function*(){return e.metadata.promise})()}Ho(){var e=this;return(0,f.Z)(function*(){return yield e.getMetadata(),e.rc()})()}rc(){var e=this;return(0,f.Z)(function*(){const r=yield e.oc();if(null===r)return null;const o=e.ic.decode(r),l=Number(o);isNaN(l)&&e.cc(`length string (${o}) is not valid number`);const p=yield e.ac(l);return new bm(JSON.parse(p),r.length+l)})()}uc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}oc(){var e=this;return(0,f.Z)(function*(){for(;e.uc()<0&&!(yield e.hc()););if(0===e.buffer.length)return null;const r=e.uc();r<0&&e.cc("Reached the end of bundle when a length string is expected.");const o=e.buffer.slice(0,r);return e.buffer=e.buffer.slice(r),o})()}ac(e){var r=this;return(0,f.Z)(function*(){for(;r.buffer.length<e;)(yield r.hc())&&r.cc("Reached the end of bundle when more is expected.");const o=r.ic.decode(r.buffer.slice(0,e));return r.buffer=r.buffer.slice(e),o})()}cc(e){throw this.sc.cancel(),new Error(`Invalid bundle format: ${e}`)}hc(){var e=this;return(0,f.Z)(function*(){const r=yield e.sc.read();if(!r.done){const o=new Uint8Array(e.buffer.length+r.value.length);o.set(e.buffer),o.set(r.value,e.buffer.length),e.buffer=o}return r.done})()}}class km{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var r=this;return(0,f.Z)(function*(){if(r.ensureCommitNotCalled(),r.mutations.length>0)throw new Ct(nt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const o=yield(l=(0,f.Z)(function*(p,T){const M=Wt(p),Y=ru(M.k)+"/documents",fe={documents:T.map(At=>Yu(M.k,At))},Pe=yield M.ji("BatchGetDocuments",Y,fe),Ge=new Map;Pe.forEach(At=>{const Mt=function(i,e){return"found"in e?function(r,o){Nn(!!o.found);const l=uo(r,o.found.name),p=Zi(o.found.updateTime),T=new yr({mapValue:{fields:o.found.fields}});return Cr.newFoundDocument(l,p,T)}(i,e):"missing"in e?function(r,o){Nn(!!o.missing),Nn(!!o.readTime);const l=uo(r,o.missing),p=Zi(o.readTime);return Cr.newNoDocument(l,p)}(i,e):gn()}(M.k,At);Ge.set(Mt.key.toString(),Mt)});const lt=[];return T.forEach(At=>{const Mt=Ge.get(At.toString());Nn(!!Mt),lt.push(Mt)}),lt}),function(p,T){return l.apply(this,arguments)})(r.datastore,e);var l;return o.forEach(l=>r.recordVersion(l)),o})()}set(e,r){this.write(r.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,r){try{this.write(r.toMutation(e,this.preconditionForUpdate(e)))}catch(o){this.lastWriteError=o}this.writtenDocs.add(e.toString())}delete(e){this.write(new xo(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,f.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const r=e.readVersions;var o;e.mutations.forEach(o=>{r.delete(o.key.toString())}),r.forEach((o,l)=>{const p=L.fromPath(l);e.mutations.push(new wl(p,e.precondition(p)))}),yield(o=(0,f.Z)(function*(l,p){const T=Wt(l),M=ru(T.k)+"/documents",Y={writes:p.map(fe=>Ju(T.k,fe))};yield T.Bi("Commit",M,Y)}),function(l,p){return o.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let r;if(e.isFoundDocument())r=e.version;else{if(!e.isNoDocument())throw gn();r=Sn.min()}const o=this.readVersions.get(e.key.toString());if(o){if(!r.isEqual(o))throw new Ct(nt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),r)}precondition(e){const r=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&r?Vi.updateTime(r):Vi.none()}preconditionForUpdate(e){const r=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&r){if(r.isEqual(Sn.min()))throw new Ct(nt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Vi.updateTime(r)}return Vi.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Fm{constructor(e,r,o,l){this.asyncQueue=e,this.datastore=r,this.updateFunction=o,this.deferred=l,this.lc=5,this.ur=new jp(this.asyncQueue,"transaction_retry")}run(){this.lc-=1,this.fc()}fc(){var e=this;this.ur.Zi((0,f.Z)(function*(){const r=new km(e.datastore),o=e.dc(r);o&&o.then(l=>{e.asyncQueue.enqueueAndForget(()=>r.commit().then(()=>{e.deferred.resolve(l)}).catch(p=>{e.wc(p)}))}).catch(l=>{e.wc(l)})}))}dc(e){try{const r=this.updateFunction(e);return!g(r)&&r.catch&&r.then?r:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}}wc(e){this.lc>0&&this._c(e)?(this.lc-=1,this.asyncQueue.enqueueAndForget(()=>(this.fc(),Promise.resolve()))):this.deferred.reject(e)}_c(e){if("FirebaseError"===e.name){const r=e.code;return"aborted"===r||"failed-precondition"===r||!od(r)}return!1}}class Um{constructor(e,r,o,l){var p=this;this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=o,this.databaseInfo=l,this.user=ti.UNAUTHENTICATED,this.clientId=Dn.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var T=(0,f.Z)(function*(M){Pt("FirestoreClient","Received user=",M.uid),yield p.authCredentialListener(M),p.user=M});return function(M){return T.apply(this,arguments)}}()),this.appCheckCredentials.start(o,T=>(Pt("FirestoreClient","Received new app check token=",T),this.appCheckCredentialListener(T,this.user)))}getConfiguration(){var e=this;return(0,f.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ct(nt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const r=new Qr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,f.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),r.resolve()}catch(o){const l=Oc(o,"Failed to shutdown persistence");r.reject(l)}})),r.promise}}function Rf(i,e){return lg.apply(this,arguments)}function lg(){return lg=(0,f.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),Pt("FirestoreClient","Initializing OfflineComponentProvider");const r=yield i.getConfiguration();yield e.initialize(r);let o=r.initialUser;i.setCredentialChangeListener(function(){var l=(0,f.Z)(function*(p){o.isEqual(p)||(yield sa(e.localStore,p),o=p)});return function(p){return l.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i.offlineComponents=e}),lg.apply(this,arguments)}function Mf(i,e){return Pf.apply(this,arguments)}function Pf(){return Pf=(0,f.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const r=yield Nf(i);Pt("FirestoreClient","Initializing OnlineComponentProvider");const o=yield i.getConfiguration();yield e.initialize(r,o),i.setCredentialChangeListener(l=>Zp(e.remoteStore,l)),i.setAppCheckTokenChangeListener((l,p)=>Zp(e.remoteStore,p)),i.onlineComponents=e}),Pf.apply(this,arguments)}function Nf(i){return cg.apply(this,arguments)}function cg(){return cg=(0,f.Z)(function*(i){return i.offlineComponents||(Pt("FirestoreClient","Using default OfflineComponentProvider"),yield Rf(i,new Uo)),i.offlineComponents}),cg.apply(this,arguments)}function xf(i){return jc.apply(this,arguments)}function jc(){return jc=(0,f.Z)(function*(i){return i.onlineComponents||(Pt("FirestoreClient","Using default OnlineComponentProvider"),yield Mf(i,new Yd)),i.onlineComponents}),jc.apply(this,arguments)}function dg(i){return Nf(i).then(e=>e.persistence)}function Qd(i){return Nf(i).then(e=>e.localStore)}function Lf(i){return xf(i).then(e=>e.remoteStore)}function hg(i){return xf(i).then(e=>e.syncEngine)}function Zs(i){return fg.apply(this,arguments)}function fg(){return fg=(0,f.Z)(function*(i){const e=yield xf(i),r=e.eventManager;return r.onListen=Sm.bind(null,e.syncEngine),r.onUnlisten=Om.bind(null,e.syncEngine),r}),fg.apply(this,arguments)}function kf(i,e,r={}){const o=new Qr;return i.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return function(l,p,T,M,Y){const fe=new Vc({next:Ge=>{p.enqueueAndForget(()=>hf(l,Pe));const lt=Ge.docs.has(T);!lt&&Ge.fromCache?Y.reject(new Ct(nt.UNAVAILABLE,"Failed to get document because the client is offline.")):lt&&Ge.fromCache&&M&&"server"===M.source?Y.reject(new Ct(nt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):Y.resolve(Ge)},error:Ge=>Y.reject(Ge)}),Pe=new pf(Ls(T.path),fe,{includeMetadataChanges:!0,wo:!0});return Bd(l,Pe)}(yield Zs(i),i.asyncQueue,e,r,o)})),o.promise}function Vm(i,e,r={}){const o=new Qr;return i.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return function(l,p,T,M,Y){const fe=new Vc({next:Ge=>{p.enqueueAndForget(()=>hf(l,Pe)),Ge.fromCache&&"server"===M.source?Y.reject(new Ct(nt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):Y.resolve(Ge)},error:Ge=>Y.reject(Ge)}),Pe=new pf(T,fe,{includeMetadataChanges:!0,wo:!0});return Bd(l,Pe)}(yield Zs(i),i.asyncQueue,e,r,o)})),o.promise}class $m{constructor(e,r,o,l,p,T,M,Y){this.databaseId=e,this.appId=r,this.persistenceKey=o,this.host=l,this.ssl=p,this.forceLongPolling=T,this.autoDetectLongPolling=M,this.useFetchStreams=Y}}class jl{constructor(e,r){this.projectId=e,this.database=r||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof jl&&e.projectId===this.projectId&&e.database===this.database}}const yg=new Map;function Bf(i,e,r){if(!r)throw new Ct(nt.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function _g(i,e,r,o){if(!0===e&&!0===o)throw new Ct(nt.INVALID_ARGUMENT,`${i} and ${r} cannot be used together.`)}function vg(i){if(!L.isDocumentKey(i))throw new Ct(nt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function $c(i){if(L.isDocumentKey(i))throw new Ct(nt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function cu(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(r=i).constructor?r.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var r;return"function"==typeof i?"a function":gn()}function Sr(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new Ct(nt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=cu(i);throw new Ct(nt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return i}function $l(i,e){if(e<=0)throw new Ct(nt.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}class Eg{constructor(e){var r;if(void 0===e.host){if(void 0!==e.ssl)throw new Ct(nt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(r=e.ssl)||void 0===r||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ct(nt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,_g("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Hc{constructor(e,r,o){this._authCredentials=r,this._appCheckCredentials=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Eg({}),this._settingsFrozen=!1,e instanceof jl?this._databaseId=e:(this._app=e,this._databaseId=function(l){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new Ct(nt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new jl(l.options.projectId)}(e))}get app(){if(!this._app)throw new Ct(nt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ct(nt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Eg(e),void 0!==e.credentials&&(this._authCredentials=function(r){if(!r)return new I;switch(r.type){case"gapi":const o=r.client;return Nn(!("object"!=typeof o||null===o||!o.auth||!o.auth.getAuthHeaderValueForFirstParty)),new X(o,r.sessionIndex||"0",r.iamToken||null);case"provider":return r.client;default:throw new Ct(nt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const r=yg.get(e);r&&(Pt("ComponentProvider","Removing Datastore"),yg.delete(e),r.terminate())}(this),Promise.resolve()}}function Vf(i,e,r,o={}){var l;const p=(i=Sr(i,Hc))._getSettings();if("firestore.googleapis.com"!==p.host&&p.host!==e&&Zo("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},p),{host:`${e}:${r}`,ssl:!1})),o.mockUserToken){let T,M;if("string"==typeof o.mockUserToken)T=o.mockUserToken,M=ti.MOCK_USER;else{T=(0,x.Sg)(o.mockUserToken,null===(l=i._app)||void 0===l?void 0:l.options.projectId);const Y=o.mockUserToken.sub||o.mockUserToken.user_id;if(!Y)throw new Ct(nt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");M=new ti(Y)}i._authCredentials=new v(new S(T,M))}}class jr{constructor(e,r,o){this.converter=r,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ei(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new jr(this.firestore,e,this._key)}}class rs{constructor(e,r,o){this.converter=r,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new rs(this.firestore,e,this._query)}}class Ei extends rs{constructor(e,r,o){super(e,r,Ls(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new jr(this.firestore,null,new L(e))}withConverter(e){return new Ei(this.firestore,e,this._path)}}function cl(i,e,...r){if(i=(0,x.m9)(i),Bf("collection","path",e),i instanceof Hc){const o=Er.fromString(e,...r);return $c(o),new Ei(i,null,o)}{if(!(i instanceof jr||i instanceof Ei))throw new Ct(nt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(Er.fromString(e,...r));return $c(o),new Ei(i.firestore,null,o)}}function Jd(i,e){if(i=Sr(i,Hc),Bf("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ct(nt.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new rs(i,null,(r=e,new hs(Er.emptyPath(),r)));var r}function Bo(i,e,...r){if(i=(0,x.m9)(i),1===arguments.length&&(e=Dn.A()),Bf("doc","path",e),i instanceof Hc){const o=Er.fromString(e,...r);return vg(o),new jr(i,null,new L(o))}{if(!(i instanceof jr||i instanceof Ei))throw new Ct(nt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(Er.fromString(e,...r));return vg(o),new jr(i.firestore,i instanceof Ei?i.converter:null,new L(o))}}function jf(i,e){return i=(0,x.m9)(i),e=(0,x.m9)(e),(i instanceof jr||i instanceof Ei)&&(e instanceof jr||e instanceof Ei)&&i.firestore===e.firestore&&i.path===e.path&&i.converter===e.converter}function dl(i,e){return i=(0,x.m9)(i),e=(0,x.m9)(e),i instanceof rs&&e instanceof rs&&i.firestore===e.firestore&&Ya(i._query,e._query)&&i.converter===e.converter}class Hl{constructor(){this.mc=Promise.resolve(),this.gc=[],this.yc=!1,this.Tc=[],this.Ec=null,this.Ic=!1,this.Ac=!1,this.Rc=[],this.ur=new jp(this,"async_queue_retry"),this.bc=()=>{const r=Yh();r&&Pt("AsyncQueue","Visibility state changed to "+r.visibilityState),this.ur.er()};const e=Yh();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.bc)}get isShuttingDown(){return this.yc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pc(),this.vc(e)}enterRestrictedMode(e){if(!this.yc){this.yc=!0,this.Ac=e||!1;const r=Yh();r&&"function"==typeof r.removeEventListener&&r.removeEventListener("visibilitychange",this.bc)}}enqueue(e){if(this.Pc(),this.yc)return new Promise(()=>{});const r=new Qr;return this.vc(()=>this.yc&&this.Ac?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.gc.push(e),this.Vc()))}Vc(){var e=this;return(0,f.Z)(function*(){if(0!==e.gc.length){try{yield e.gc[0](),e.gc.shift(),e.ur.reset()}catch(r){if(!iu(r))throw r;Pt("AsyncQueue","Operation failed with retryable error: "+r)}e.gc.length>0&&e.ur.Zi(()=>e.Vc())}})()}vc(e){const r=this.mc.then(()=>(this.Ic=!0,e().catch(o=>{throw this.Ec=o,this.Ic=!1,kr("INTERNAL UNHANDLED ERROR: ",function(p){let T=p.message||"";return p.stack&&(T=p.stack.includes(p.message)?p.stack:p.message+"\n"+p.stack),T}(o)),o}).then(o=>(this.Ic=!1,o))));return this.mc=r,r}enqueueAfterDelay(e,r,o){this.Pc(),this.Rc.indexOf(e)>-1&&(r=0);const l=uf.createAndSchedule(this,e,r,o,p=>this.Sc(p));return this.Tc.push(l),l}Pc(){this.Ec&&gn()}verifyOperationInProgress(){}Dc(){var e=this;return(0,f.Z)(function*(){let r;do{r=e.mc,yield r}while(r!==e.mc)})()}Cc(e){for(const r of this.Tc)if(r.timerId===e)return!0;return!1}Nc(e){return this.Dc().then(()=>{this.Tc.sort((r,o)=>r.targetTimeMs-o.targetTimeMs);for(const r of this.Tc)if(r.skipDelay(),"all"!==e&&r.timerId===e)break;return this.Dc()})}kc(e){this.Rc.push(e)}Sc(e){const r=this.Tc.indexOf(e);this.Tc.splice(r,1)}}function Pu(i){return function(e,r){if("object"!=typeof e||null===e)return!1;const o=e;for(const l of["next","error","complete"])if(l in o&&"function"==typeof o[l])return!0;return!1}(i)}class Wl{constructor(){this._progressObserver={},this._taskCompletionResolver=new Qr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,r,o){this._progressObserver={next:e,error:r,complete:o}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,r){return this._taskCompletionResolver.promise.then(e,r)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}const zl=-1;class Kr extends Hc{constructor(e,r,o){super(e,r,o),this.type="firestore",this._queue=new Hl,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||$f(this),this._firestoreClient.terminate()}}function Ti(i){return i._firestoreClient||$f(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function $f(i){var e;const r=i._freezeSettings(),o=(p=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new $m(i._databaseId,p,i._persistenceKey,(M=r).host,M.ssl,M.experimentalForceLongPolling,M.experimentalAutoDetectLongPolling,M.useFetchStreams));var p,M;i._firestoreClient=new Um(i._authCredentials,i._appCheckCredentials,i._queue,o)}function Tg(i,e){Sg(i=Sr(i,Kr));const r=Ti(i),o=i._freezeSettings(),l=new Yd;return Hf(r,l,new qd(l,o.cacheSizeBytes,null==e?void 0:e.forceOwnership))}function wg(i){Sg(i=Sr(i,Kr));const e=Ti(i),r=i._freezeSettings(),o=new Yd;return Hf(e,o,new ug(o,r.cacheSizeBytes))}function Hf(i,e,r){const o=new Qr;return i.asyncQueue.enqueue((0,f.Z)(function*(){try{yield Rf(i,r),yield Mf(i,e),o.resolve()}catch(l){if(!("FirebaseError"===(p=l).name?p.code===nt.FAILED_PRECONDITION||p.code===nt.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&p instanceof DOMException)||22===p.code||20===p.code||11===p.code))throw l;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+l),o.reject(l)}var p})).then(()=>o.promise)}function Ig(i){if(i._initialized&&!i._terminated)throw new Ct(nt.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Qr;return i._queue.enqueueAndForgetEvenWhileRestricted((0,f.Z)(function*(){try{yield(r=(0,f.Z)(function*(o){if(!ko.Pt())return Promise.resolve();const l=o+"main";yield ko.delete(l)}),function(o){return r.apply(this,arguments)})(Ed(i._databaseId,i._persistenceKey)),e.resolve()}catch(r){e.reject(r)}var r})),e.promise}function Dg(i){return function(e){const r=new Qr;return e.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return function(i,e){return Wd.apply(this,arguments)}(yield hg(e),r)})),r.promise}(Ti(i=Sr(i,Kr)))}function Cg(i){return function(i){return i.asyncQueue.enqueue((0,f.Z)(function*(){const e=yield dg(i),r=yield Lf(i);return e.setNetworkEnabled(!0),function(o){const l=Wt(o);return l.Gr.delete(0),Md(l)}(r)}))}(Ti(i=Sr(i,Kr)))}function bg(i){return function(i){return i.asyncQueue.enqueue((0,f.Z)(function*(){const e=yield dg(i),r=yield Lf(i);return e.setNetworkEnabled(!1),(o=(0,f.Z)(function*(l){const p=Wt(l);p.Gr.add(0),yield Su(p),p.Jr.set("Offline")}),function(l){return o.apply(this,arguments)})(r);var o}))}(Ti(i=Sr(i,Kr)))}function Wm(i,e){const r=Ti(i=Sr(i,Kr)),o=new Wl;return function(i,e,r,o){const l=function(p,T){let M;return M="string"==typeof p?(new TextEncoder).encode(p):p,Y=function(Y,fe){if(Y instanceof Uint8Array)return Of(Y,void 0);if(Y instanceof ArrayBuffer)return Of(new Uint8Array(Y),void 0);if(Y instanceof ReadableStream)return Y.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(M),new Lm(Y,T);var Y}(r,Rd(e));i.asyncQueue.enqueueAndForget((0,f.Z)(function*(){!function(i,e,r){const o=Wt(i);var l;(l=(0,f.Z)(function*(p,T,M){try{const Y=yield T.getMetadata();if(yield function(lt,At){const Mt=Wt(lt),pn=Zi(At.createTime);return Mt.persistence.runTransaction("hasNewerBundle","readonly",Xn=>Mt.Ye.getBundleMetadata(Xn,At.id)).then(Xn=>!!Xn&&Xn.createTime.compareTo(pn)>=0)}(p.localStore,Y))return yield T.close(),void M._completeWith((lt=Y,{taskState:"Success",documentsLoaded:lt.totalDocuments,bytesLoaded:lt.totalBytes,totalDocuments:lt.totalDocuments,totalBytes:lt.totalBytes}));M._updateProgress(Qp(Y));const fe=new Yp(Y,p.localStore,T.k);let Pe=yield T.Ho();for(;Pe;){const lt=yield fe.yo(Pe);lt&&M._updateProgress(lt),Pe=yield T.Ho()}const Ge=yield fe.complete();yield Mu(p,Ge.In,void 0),yield function(lt,At){const Mt=Wt(lt);return Mt.persistence.runTransaction("Save bundle","readwrite",pn=>Mt.Ye.saveBundleMetadata(pn,At))}(p.localStore,Y),M._completeWith(Ge.progress)}catch(Y){Zo("SyncEngine",`Loading bundle failed with ${Y}`),M._failWith(Y)}var lt}),function(p,T,M){return l.apply(this,arguments)})(o,e,r).then(()=>{o.sharedClientState.notifyBundleLoaded()})}(yield hg(i),l,o)}))}(r,i._databaseId,e,o),o}function Ag(i,e){return function(i,e){return i.asyncQueue.enqueue((0,f.Z)(function*(){return function(r,o){const l=Wt(r);return l.persistence.runTransaction("Get named query","readonly",p=>l.Ye.getNamedQuery(p,o))}(yield Qd(i),e)}))}(Ti(i=Sr(i,Kr)),e).then(r=>r?new rs(i,null,r.query):null)}function Sg(i){if(i._initialized||i._terminated)throw new Ct(nt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class du{constructor(...e){for(let r=0;r<e.length;++r)if(0===e[r].length)throw new Ct(nt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new gi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Nu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Nu(Br.fromBase64String(e))}catch(r){throw new Ct(nt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new Nu(Br.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class hl{constructor(e){this._methodName=e}}class Gc{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new Ct(nt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new Ct(nt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return on(this._lat,e._lat)||on(this._long,e._long)}}const Gm=/^__.*__$/;class Og{constructor(e,r,o){this.data=e,this.fieldMask=r,this.fieldTransforms=o}toMutation(e,r){return null!==this.fieldMask?new ea(e,this.data,this.fieldMask,r,this.fieldTransforms):new Xo(e,this.data,r,this.fieldTransforms)}}class Rg{constructor(e,r,o){this.data=e,this.fieldMask=r,this.fieldTransforms=o}toMutation(e,r){return new ea(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function Mg(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw gn()}}class Wf{constructor(e,r,o,l,p,T){this.settings=e,this.databaseId=r,this.k=o,this.ignoreUndefinedProperties=l,void 0===p&&this.xc(),this.fieldTransforms=p||[],this.fieldMask=T||[]}get path(){return this.settings.path}get $c(){return this.settings.$c}Oc(e){return new Wf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.k,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mc(e){var r;const o=null===(r=this.path)||void 0===r?void 0:r.child(e),l=this.Oc({path:o,Fc:!1});return l.Lc(e),l}Bc(e){var r;const o=null===(r=this.path)||void 0===r?void 0:r.child(e),l=this.Oc({path:o,Fc:!1});return l.xc(),l}Uc(e){return this.Oc({path:void 0,Fc:!0})}qc(e){return eh(e,this.settings.methodName,this.settings.Kc||!1,this.path,this.settings.jc)}contains(e){return void 0!==this.fieldMask.find(r=>e.isPrefixOf(r))||void 0!==this.fieldTransforms.find(r=>e.isPrefixOf(r.field))}xc(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lc(this.path.get(e))}Lc(e){if(0===e.length)throw this.qc("Document fields must not be empty");if(Mg(this.$c)&&Gm.test(e))throw this.qc('Document fields cannot begin and end with "__"')}}class Km{constructor(e,r,o){this.databaseId=e,this.ignoreUndefinedProperties=r,this.k=o||Rd(e)}Qc(e,r,o,l=!1){return new Wf({$c:e,methodName:r,jc:o,path:gi.emptyPath(),Fc:!1,Kc:l},this.databaseId,this.k,this.ignoreUndefinedProperties)}}function hu(i){const e=i._freezeSettings(),r=Rd(i._databaseId);return new Km(i._databaseId,!!e.ignoreUndefinedProperties,r)}function Gl(i,e,r,o,l,p={}){const T=i.Qc(p.merge||p.mergeFields?2:0,e,r,l);Xd("Data must be an object, but it was:",T,o);const M=Gf(o,T);let Y,fe;if(p.merge)Y=new Eo(T.fieldMask),fe=T.fieldTransforms;else if(p.mergeFields){const Pe=[];for(const Ge of p.mergeFields){const lt=Kl(e,Ge,r);if(!T.contains(lt))throw new Ct(nt.INVALID_ARGUMENT,`Field '${lt}' is specified in your field mask but missing from your input data.`);kg(Pe,lt)||Pe.push(lt)}Y=new Eo(Pe),fe=T.fieldTransforms.filter(Ge=>Y.covers(Ge.field))}else Y=null,fe=T.fieldTransforms;return new Og(new yr(M),Y,fe)}class Kc extends hl{_toFieldTransform(e){if(2!==e.$c)throw e.qc(1===e.$c?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Kc}}function Zm(i,e,r){return new Wf({$c:3,jc:e.settings.jc,methodName:i._methodName,Fc:r},e.databaseId,e.k,e.ignoreUndefinedProperties)}class Pg extends hl{_toFieldTransform(e){return new Eu(e.path,new Ra)}isEqual(e){return e instanceof Pg}}class l_ extends hl{constructor(e,r){super(e),this.Wc=r}_toFieldTransform(e){const r=Zm(this,e,!0),o=this.Wc.map(p=>pl(p,r)),l=new ga(o);return new Eu(e.path,l)}isEqual(e){return this===e}}class qm extends hl{constructor(e,r){super(e),this.Wc=r}_toFieldTransform(e){const r=Zm(this,e,!0),o=this.Wc.map(p=>pl(p,r)),l=new To(o);return new Eu(e.path,l)}isEqual(e){return this===e}}class Ng extends hl{constructor(e,r){super(e),this.Gc=r}_toFieldTransform(e){const r=new Ma(e.k,Xa(e.k,this.Gc));return new Eu(e.path,r)}isEqual(e){return this===e}}function xg(i,e,r,o){const l=i.Qc(1,e,r);Xd("Data must be an object, but it was:",l,o);const p=[],T=yr.empty();Xi(o,(Y,fe)=>{const Pe=Zc(e,Y,r);fe=(0,x.m9)(fe);const Ge=l.Bc(Pe);if(fe instanceof Kc)p.push(Pe);else{const lt=pl(fe,Ge);null!=lt&&(p.push(Pe),T.set(Pe,lt))}});const M=new Eo(p);return new Rg(T,M,l.fieldTransforms)}function zf(i,e,r,o,l,p){const T=i.Qc(1,e,r),M=[Kl(e,o,r)],Y=[l];if(p.length%2!=0)throw new Ct(nt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let lt=0;lt<p.length;lt+=2)M.push(Kl(e,p[lt])),Y.push(p[lt+1]);const fe=[],Pe=yr.empty();for(let lt=M.length-1;lt>=0;--lt)if(!kg(fe,M[lt])){const At=M[lt];let Mt=Y[lt];Mt=(0,x.m9)(Mt);const pn=T.Bc(At);if(Mt instanceof Kc)fe.push(At);else{const Xn=pl(Mt,pn);null!=Xn&&(fe.push(At),Pe.set(At,Xn))}}const Ge=new Eo(fe);return new Rg(Pe,Ge,T.fieldTransforms)}function fl(i,e,r,o=!1){return pl(r,i.Qc(o?4:3,e))}function pl(i,e){if(Lg(i=(0,x.m9)(i)))return Xd("Unsupported field value:",e,i),Gf(i,e);if(i instanceof hl)return function(r,o){if(!Mg(o.$c))throw o.qc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.qc(`${r._methodName}() is not currently supported inside arrays`);const l=r._toFieldTransform(o);l&&o.fieldTransforms.push(l)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.Fc&&4!==e.$c)throw e.qc("Nested arrays are not supported");return function(r,o){const l=[];let p=0;for(const T of r){let M=pl(T,o.Uc(p));null==M&&(M={nullValue:"NULL_VALUE"}),l.push(M),p++}return{arrayValue:{values:l}}}(i,e)}return function(r,o){if(null===(r=(0,x.m9)(r)))return{nullValue:"NULL_VALUE"};if("number"==typeof r)return Xa(o.k,r);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date){const l=Pr.fromDate(r);return{timestampValue:Dl(o.k,l)}}if(r instanceof Pr){const l=new Pr(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Dl(o.k,l)}}if(r instanceof Gc)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Nu)return{bytesValue:Ch(o.k,r._byteString)};if(r instanceof jr){const l=o.databaseId,p=r.firestore._databaseId;if(!p.isEqual(l))throw o.qc(`Document reference is for database ${p.projectId}/${p.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:qu(r.firestore._databaseId||o.databaseId,r._key.path)}}throw o.qc(`Unsupported field value: ${cu(r)}`)}(i,e)}function Gf(i,e){const r={};return oo(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Xi(i,(o,l)=>{const p=pl(l,e.Mc(o));null!=p&&(r[o]=p)}),{mapValue:{fields:r}}}function Lg(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof Pr||i instanceof Gc||i instanceof Nu||i instanceof jr||i instanceof hl)}function Xd(i,e,r){if(!Lg(r)||"object"!=typeof(o=r)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){const o=cu(r);throw e.qc("an object"===o?i+" a custom object":i+" "+o)}var o}function Kl(i,e,r){if((e=(0,x.m9)(e))instanceof du)return e._internalPath;if("string"==typeof e)return Zc(i,e);throw eh("Field path arguments must be of type string or ",i,!1,void 0,r)}const Ym=new RegExp("[~\\*/\\[\\]]");function Zc(i,e,r){if(e.search(Ym)>=0)throw eh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,r);try{return new du(...e.split("."))._internalPath}catch(o){throw eh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,r)}}function eh(i,e,r,o,l){const p=o&&!o.isEmpty(),T=void 0!==l;let M=`Function ${e}() called with invalid data`;r&&(M+=" (via `toFirestore()`)"),M+=". ";let Y="";return(p||T)&&(Y+=" (found",p&&(Y+=` in field ${o}`),T&&(Y+=` in document ${l}`),Y+=")"),new Ct(nt.INVALID_ARGUMENT,M+i+Y)}function kg(i,e){return i.some(r=>r.isEqual(e))}class qc{constructor(e,r,o,l,p){this._firestore=e,this._userDataWriter=r,this._key=o,this._document=l,this._converter=p}get id(){return this._key.path.lastSegment()}get ref(){return new jr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Qm(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(th("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r)}}}class Qm extends qc{data(){return super.data()}}function th(i,e){return"string"==typeof e?Zc(i,e):e instanceof du?e._internalPath:e._delegate._internalPath}class xu{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class gl extends qc{constructor(e,r,o,l,p,T){super(e,r,o,l,T),this._firestore=e,this._firestoreImpl=e,this.metadata=p}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new Zl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const o=this._document.data.field(th("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,r.serverTimestamps)}}}class Zl extends gl{data(e={}){return super.data(e)}}class Lu{constructor(e,r,o,l){this._firestore=e,this._userDataWriter=r,this._snapshot=l,this.metadata=new xu(l.hasPendingWrites,l.fromCache),this.query=o}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,r){this._snapshot.docs.forEach(o=>{e.call(r,new Zl(this._firestore,this._userDataWriter,o.key,o,new xu(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Ct(nt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(o,l){if(o._snapshot.oldDocs.isEmpty()){let p=0;return o._snapshot.docChanges.map(T=>({type:"added",doc:new Zl(o._firestore,o._userDataWriter,T.doc.key,T.doc,new xu(o._snapshot.mutatedKeys.has(T.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:p++}))}{let p=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(T=>l||3!==T.type).map(T=>{const M=new Zl(o._firestore,o._userDataWriter,T.doc.key,T.doc,new xu(o._snapshot.mutatedKeys.has(T.doc.key),o._snapshot.fromCache),o.query.converter);let Y=-1,fe=-1;return 0!==T.type&&(Y=p.indexOf(T.doc.key),p=p.delete(T.doc.key)),1!==T.type&&(p=p.add(T.doc),fe=p.indexOf(T.doc.key)),{type:Kf(T.type),doc:M,oldIndex:Y,newIndex:fe}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function Kf(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return gn()}}function c_(i,e){return i instanceof gl&&e instanceof gl?i._firestore===e._firestore&&i._key.isEqual(e._key)&&(null===i._document?null===e._document:i._document.isEqual(e._document))&&i._converter===e._converter:i instanceof Lu&&e instanceof Lu&&i._firestore===e._firestore&&dl(i.query,e.query)&&i.metadata.isEqual(e.metadata)&&i._snapshot.isEqual(e._snapshot)}function nh(i){if(_l(i)&&0===i.explicitOrderBy.length)throw new Ct(nt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Yc{}function d_(i,...e){for(const r of e)i=r._apply(i);return i}class Qc extends Yc{constructor(e,r,o){super(),this.zc=e,this.Hc=r,this.Jc=o,this.type="where"}_apply(e){const r=hu(e.firestore),o=function(l,p,T,M,Y,fe,Pe){let Ge;if(Y.isKeyField()){if("array-contains"===fe||"array-contains-any"===fe)throw new Ct(nt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${fe}' queries on documentId().`);if("in"===fe||"not-in"===fe){tp(Pe,fe);const At=[];for(const Mt of Pe)At.push(ih(M,l,Mt));Ge={arrayValue:{values:At}}}else Ge=ih(M,l,Pe)}else"in"!==fe&&"not-in"!==fe&&"array-contains-any"!==fe||tp(Pe,fe),Ge=fl(T,"where",Pe,"in"===fe||"not-in"===fe);const lt=ni.create(Y,fe,Ge);return function(At,Mt){if(Mt.V()){const Xn=_u(At);if(null!==Xn&&!Xn.isEqual(Mt.field))throw new Ct(nt.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Xn.toString()}' and '${Mt.field.toString()}'`);const bs=qa(At);null!==bs&&np(0,Mt.field,bs)}const pn=function(Xn,bs){for(const qs of Xn.filters)if(bs.indexOf(qs.op)>=0)return qs.op;return null}(At,function(Xn){switch(Xn){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(Mt.op));if(null!==pn)throw new Ct(nt.INVALID_ARGUMENT,pn===Mt.op?`Invalid query. You cannot use more than one '${Mt.op.toString()}' filter.`:`Invalid query. You cannot use '${Mt.op.toString()}' filters with '${pn.toString()}' filters.`)}(l,lt),lt}(e._query,0,r,e.firestore._databaseId,this.zc,this.Hc,this.Jc);return new rs(e.firestore,e.converter,function(l,p){const T=l.filters.concat([p]);return new hs(l.path,l.collectionGroup,l.explicitOrderBy.slice(),T,l.limit,l.limitType,l.startAt,l.endAt)}(e._query,o))}}function Fg(i,e,r){const o=e,l=th("where",i);return new Qc(l,o,r)}class Zf extends Yc{constructor(e,r){super(),this.zc=e,this.Yc=r,this.type="orderBy"}_apply(e){const r=function(o,l,p){if(null!==o.startAt)throw new Ct(nt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==o.endAt)throw new Ct(nt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const T=new Vr(l,p);return function(M,Y){if(null===qa(M)){const fe=_u(M);null!==fe&&np(0,fe,Y.field)}}(o,T),T}(e._query,this.zc,this.Yc);return new rs(e.firestore,e.converter,function(o,l){const p=o.explicitOrderBy.concat([l]);return new hs(o.path,o.collectionGroup,p,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,r))}}function qf(i,e="asc"){const r=e,o=th("orderBy",i);return new Zf(o,r)}class Ug extends Yc{constructor(e,r,o){super(),this.type=e,this.Xc=r,this.Zc=o}_apply(e){return new rs(e.firestore,e.converter,rd(e._query,this.Xc,this.Zc))}}function Yf(i){return $l("limit",i),new Ug("limit",i,"F")}function Qf(i){return $l("limitToLast",i),new Ug("limitToLast",i,"L")}class Jf extends Yc{constructor(e,r,o){super(),this.type=e,this.ta=r,this.ea=o}_apply(e){const r=ep(e,this.type,this.ta,this.ea);return new rs(e.firestore,e.converter,(l=r,new hs((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,l,o.endAt)));var o,l}}function h_(...i){return new Jf("startAt",i,!0)}function Jm(...i){return new Jf("startAfter",i,!1)}class rh extends Yc{constructor(e,r,o){super(),this.type=e,this.ta=r,this.ea=o}_apply(e){const r=ep(e,this.type,this.ta,this.ea);return new rs(e.firestore,e.converter,(l=r,new hs((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,l)));var o,l}}function Xf(...i){return new rh("endBefore",i,!0)}function Bg(...i){return new rh("endAt",i,!1)}function ep(i,e,r,o){if(r[0]=(0,x.m9)(r[0]),r[0]instanceof qc)return function(l,p,T,M,Y){if(!M)throw new Ct(nt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${T}().`);const fe=[];for(const Pe of yi(l))if(Pe.field.isKeyField())fe.push(Gt(p,M.key));else{const Ge=M.data.field(Pe.field);if(Yo(Ge))throw new Ct(nt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+Pe.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Ge){const lt=Pe.field.canonicalString();throw new Ct(nt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${lt}' (used as the orderBy) does not exist.`)}fe.push(Ge)}return new Pi(fe,Y)}(i._query,i.firestore._databaseId,e,r[0]._document,o);{const l=hu(i.firestore);return function(p,T,M,Y,fe,Pe){const Ge=p.explicitOrderBy;if(fe.length>Ge.length)throw new Ct(nt.INVALID_ARGUMENT,`Too many arguments provided to ${Y}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const lt=[];for(let At=0;At<fe.length;At++){const Mt=fe[At];if(Ge[At].field.isKeyField()){if("string"!=typeof Mt)throw new Ct(nt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${Y}(), but got a ${typeof Mt}`);if(!Jl(p)&&-1!==Mt.indexOf("/"))throw new Ct(nt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${Y}() must be a plain document ID, but '${Mt}' contains a slash.`);const pn=p.path.child(Er.fromString(Mt));if(!L.isDocumentKey(pn))throw new Ct(nt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${Y}() must result in a valid document path, but '${pn}' is not because it contains an odd number of segments.`);const Xn=new L(pn);lt.push(Gt(T,Xn))}else{const pn=fl(M,Y,Mt);lt.push(pn)}}return new Pi(lt,Pe)}(i._query,i.firestore._databaseId,l,e,r,o)}}function ih(i,e,r){if("string"==typeof(r=(0,x.m9)(r))){if(""===r)throw new Ct(nt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Jl(e)&&-1!==r.indexOf("/"))throw new Ct(nt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const o=e.path.child(Er.fromString(r));if(!L.isDocumentKey(o))throw new Ct(nt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return Gt(i,new L(o))}if(r instanceof jr)return Gt(i,r._key);throw new Ct(nt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${cu(r)}.`)}function tp(i,e){if(!Array.isArray(i)||0===i.length)throw new Ct(nt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(i.length>10)throw new Ct(nt.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function np(i,e,r){if(!r.isEqual(e))throw new Ct(nt.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${r.toString()}' instead.`)}class Jc{convertValue(e,r="none"){switch(ne(e)){case 0:return null;case 1:return e.booleanValue;case 2:return mi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(ao(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 10:return this.convertObject(e.mapValue,r);default:throw gn()}}convertObject(e,r){const o={};return Xi(e.fields,(l,p)=>{o[l]=this.convertValue(p,r)}),o}convertGeoPoint(e){return new Gc(mi(e.latitude),mi(e.longitude))}convertArray(e,r){return(e.values||[]).map(o=>this.convertValue(o,r))}convertServerTimestamp(e,r){switch(r){case"previous":const o=Yl(e);return null==o?null:this.convertValue(o,r);case"estimate":return this.convertTimestamp(k(e));default:return null}}convertTimestamp(e){const r=Es(e);return new Pr(r.seconds,r.nanos)}convertDocumentKey(e,r){const o=Er.fromString(e);Nn(gd(o));const l=new jl(o.get(1),o.get(3)),p=new L(o.popFirst(5));return l.isEqual(r)||kr(`Document ${p} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),p}}function Xc(i,e,r){let o;return o=i?r&&(r.merge||r.mergeFields)?i.toFirestore(e,r):i.toFirestore(e):e,o}class Xm extends Jc{constructor(e){super(),this.firestore=e}convertBytes(e){return new Nu(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new jr(this.firestore,null,r)}}class rp{constructor(e,r){this._firestore=e,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=hu(e)}set(e,r,o){this._verifyNotCommitted();const l=fu(e,this._firestore),p=Xc(l.converter,r,o),T=Gl(this._dataReader,"WriteBatch.set",l._key,p,null!==l.converter,o);return this._mutations.push(T.toMutation(l._key,Vi.none())),this}update(e,r,o,...l){this._verifyNotCommitted();const p=fu(e,this._firestore);let T;return T="string"==typeof(r=(0,x.m9)(r))||r instanceof du?zf(this._dataReader,"WriteBatch.update",p._key,r,o,l):xg(this._dataReader,"WriteBatch.update",p._key,r),this._mutations.push(T.toMutation(p._key,Vi.exists(!0))),this}delete(e){this._verifyNotCommitted();const r=fu(e,this._firestore);return this._mutations=this._mutations.concat(new xo(r._key,Vi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ct(nt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function fu(i,e){if((i=(0,x.m9)(i)).firestore!==e)throw new Ct(nt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}function ip(i){i=Sr(i,jr);const e=Sr(i.firestore,Kr);return kf(Ti(e),i._key).then(r=>oh(e,i,r))}class ku extends Jc{constructor(e){super(),this.firestore=e}convertBytes(e){return new Nu(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new jr(this.firestore,null,r)}}function ey(i){i=Sr(i,jr);const e=Sr(i.firestore,Kr),r=Ti(e),o=new ku(e);return function(i,e){const r=new Qr;return i.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return(o=(0,f.Z)(function*(l,p,T){try{const M=yield function(Y,fe){const Pe=Wt(Y);return Pe.persistence.runTransaction("read document","readonly",Ge=>Pe.Wn.Rn(Ge,fe))}(l,p);M.isFoundDocument()?T.resolve(M):M.isNoDocument()?T.resolve(null):T.reject(new Ct(nt.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(M){const Y=Oc(M,`Failed to get document '${p} from cache`);T.reject(Y)}}),function(l,p,T){return o.apply(this,arguments)})(yield Qd(i),e,r);var o})),r.promise}(r,i._key).then(l=>new gl(e,o,i._key,l,new xu(null!==l&&l.hasLocalMutations,!0),i.converter))}function Vg(i){i=Sr(i,jr);const e=Sr(i.firestore,Kr);return kf(Ti(e),i._key,{source:"server"}).then(r=>oh(e,i,r))}function jg(i){i=Sr(i,rs);const e=Sr(i.firestore,Kr),r=Ti(e),o=new ku(e);return nh(i._query),Vm(r,i._query).then(l=>new Lu(e,o,i,l))}function sp(i){i=Sr(i,rs);const e=Sr(i.firestore,Kr),r=Ti(e),o=new ku(e);return function(i,e){const r=new Qr;return i.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return(o=(0,f.Z)(function*(l,p,T){try{const M=yield Td(l,p,!0),Y=new Jp(p,M.zn),fe=Y.Po(M.documents),Pe=Y.applyChanges(fe,!1);T.resolve(Pe.snapshot)}catch(M){const Y=Oc(M,`Failed to execute query '${p} against cache`);T.reject(Y)}}),function(l,p,T){return o.apply(this,arguments)})(yield Qd(i),e,r);var o})),r.promise}(r,i._query).then(l=>new Lu(e,o,i,l))}function sh(i){i=Sr(i,rs);const e=Sr(i.firestore,Kr),r=Ti(e),o=new ku(e);return Vm(r,i._query,{source:"server"}).then(l=>new Lu(e,o,i,l))}function op(i,e,r){i=Sr(i,jr);const o=Sr(i.firestore,Kr),l=Xc(i.converter,e,r);return ml(o,[Gl(hu(o),"setDoc",i._key,l,null!==i.converter,r).toMutation(i._key,Vi.none())])}function $g(i,e,r,...o){i=Sr(i,jr);const l=Sr(i.firestore,Kr),p=hu(l);let T;return T="string"==typeof(e=(0,x.m9)(e))||e instanceof du?zf(p,"updateDoc",i._key,e,r,o):xg(p,"updateDoc",i._key,e),ml(l,[T.toMutation(i._key,Vi.exists(!0))])}function Hg(i){return ml(Sr(i.firestore,Kr),[new xo(i._key,Vi.none())])}function Wg(i,e){const r=Sr(i.firestore,Kr),o=Bo(i),l=Xc(i.converter,e);return ml(r,[Gl(hu(i.firestore),"addDoc",o._key,l,null!==i.converter,{}).toMutation(o._key,Vi.exists(!1))]).then(()=>o)}function zg(i,...e){var r,o,l;i=(0,x.m9)(i);let p={includeMetadataChanges:!1},T=0;"object"!=typeof e[T]||Pu(e[T])||(p=e[T],T++);const M={includeMetadataChanges:p.includeMetadataChanges};if(Pu(e[T])){const Ge=e[T];e[T]=null===(r=Ge.next)||void 0===r?void 0:r.bind(Ge),e[T+1]=null===(o=Ge.error)||void 0===o?void 0:o.bind(Ge),e[T+2]=null===(l=Ge.complete)||void 0===l?void 0:l.bind(Ge)}let Y,fe,Pe;if(i instanceof jr)fe=Sr(i.firestore,Kr),Pe=Ls(i._key.path),Y={next:Ge=>{e[T]&&e[T](oh(fe,i,Ge))},error:e[T+1],complete:e[T+2]};else{const Ge=Sr(i,rs);fe=Sr(Ge.firestore,Kr),Pe=Ge._query;const lt=new ku(fe);Y={next:At=>{e[T]&&e[T](new Lu(fe,lt,Ge,At))},error:e[T+1],complete:e[T+2]},nh(i._query)}return function(Ge,lt,At,Mt){const pn=new Vc(Mt),Xn=new pf(lt,pn,At);return Ge.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return Bd(yield Zs(Ge),Xn)})),()=>{pn.nc(),Ge.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return hf(yield Zs(Ge),Xn)}))}}(Ti(fe),Pe,M,Y)}function Gg(i,e){return function(i,e){const r=new Vc(e);return i.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return o=yield Zs(i),l=r,Wt(o).io.add(l),void l.next();var o,l})),()=>{r.nc(),i.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return o=yield Zs(i),l=r,void Wt(o).io.delete(l);var o,l}))}}(Ti(i=Sr(i,Kr)),Pu(e)?e:{next:e})}function ml(i,e){return function(r,o){const l=new Qr;return r.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return function(i,e,r){return Nc.apply(this,arguments)}(yield hg(r),o,l)})),l.promise}(Ti(i),e)}function oh(i,e,r){const o=r.docs.get(e._key),l=new ku(i);return new gl(i,l,e._key,o,new xu(r.hasPendingWrites,r.fromCache),e.converter)}class f_ extends class{constructor(e,r){this._firestore=e,this._transaction=r,this._dataReader=hu(e)}get(e){const r=fu(e,this._firestore),o=new Xm(this._firestore);return this._transaction.lookup([r._key]).then(l=>{if(!l||1!==l.length)return gn();const p=l[0];if(p.isFoundDocument())return new qc(this._firestore,o,p.key,p,r.converter);if(p.isNoDocument())return new qc(this._firestore,o,r._key,null,r.converter);throw gn()})}set(e,r,o){const l=fu(e,this._firestore),p=Xc(l.converter,r,o),T=Gl(this._dataReader,"Transaction.set",l._key,p,null!==l.converter,o);return this._transaction.set(l._key,T),this}update(e,r,o,...l){const p=fu(e,this._firestore);let T;return T="string"==typeof(r=(0,x.m9)(r))||r instanceof du?zf(this._dataReader,"Transaction.update",p._key,r,o,l):xg(this._dataReader,"Transaction.update",p._key,r),this._transaction.update(p._key,T),this}delete(e){const r=fu(e,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,r){super(e,r),this._firestore=e}get(e){const r=fu(e,this._firestore),o=new ku(this._firestore);return super.get(e).then(l=>new gl(this._firestore,o,r._key,l._document,new xu(!1,!1),r.converter))}}function ty(i,e){return function(i,e){const r=new Qr;return i.asyncQueue.enqueueAndForget((0,f.Z)(function*(){const o=yield(l=i,xf(l).then(p=>p.datastore));var l;new Fm(i.asyncQueue,o,e,r).run()})),r.promise}(Ti(i=Sr(i,Kr)),r=>e(new f_(i,r)))}function ny(){return new Kc("deleteField")}function Kg(){return new Pg("serverTimestamp")}function ry(...i){return new l_("arrayUnion",i)}function ps(...i){return new qm("arrayRemove",i)}function Zg(i){return new Ng("increment",i)}!function(i,e=!0){Po=C.SDK_VERSION,(0,C._registerComponent)(new $.wA("firestore",(r,{options:o})=>{const l=r.getProvider("app").getImmediate(),p=new Kr(l,new P(r.getProvider("auth-internal")),new Be(r.getProvider("app-check-internal")));return o=Object.assign({useFetchStreams:e},o),p._setSettings(o),p},"PUBLIC")),(0,C.registerVersion)(Ko,"3.4.4",i),(0,C.registerVersion)(Ko,"3.4.4","esm2017")}()},2090:(gt,Ne,b)=>{"use strict";b.d(Ne,{BH:()=>Te,LL:()=>De,ZR:()=>He,zI:()=>ge,US:()=>H,tV:()=>Z,$s:()=>Tr,r3:()=>Bn,Sg:()=>Ae,ne:()=>Vn,vZ:()=>er,ZB:()=>q,pd:()=>Pn,m9:()=>Nr,z$:()=>Ye,jU:()=>de,ru:()=>Ie,d:()=>G,xb:()=>qt,w1:()=>w,hl:()=>Fe,uI:()=>Ze,UG:()=>ue,b$:()=>me,G6:()=>we,Mn:()=>ae,xO:()=>Gn,zd:()=>cr,eu:()=>le});const ce=function(xe){const Me=[];let he=0;for(let V=0;V<xe.length;V++){let K=xe.charCodeAt(V);K<128?Me[he++]=K:K<2048?(Me[he++]=K>>6|192,Me[he++]=63&K|128):55296==(64512&K)&&V+1<xe.length&&56320==(64512&xe.charCodeAt(V+1))?(K=65536+((1023&K)<<10)+(1023&xe.charCodeAt(++V)),Me[he++]=K>>18|240,Me[he++]=K>>12&63|128,Me[he++]=K>>6&63|128,Me[he++]=63&K|128):(Me[he++]=K>>12|224,Me[he++]=K>>6&63|128,Me[he++]=63&K|128)}return Me},H={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(xe,Me){if(!Array.isArray(xe))throw Error("encodeByteArray takes an array as a parameter");this.init_();const he=Me?this.byteToCharMapWebSafe_:this.byteToCharMap_,V=[];for(let K=0;K<xe.length;K+=3){const ze=xe[K],Ce=K+1<xe.length,We=Ce?xe[K+1]:0,st=K+2<xe.length,vt=st?xe[K+2]:0;let St=(15&We)<<2|vt>>6,rn=63&vt;st||(rn=64,Ce||(St=64)),V.push(he[ze>>2],he[(3&ze)<<4|We>>4],he[St],he[rn])}return V.join("")},encodeString(xe,Me){return this.HAS_NATIVE_SUPPORT&&!Me?btoa(xe):this.encodeByteArray(ce(xe),Me)},decodeString(xe,Me){return this.HAS_NATIVE_SUPPORT&&!Me?atob(xe):function(xe){const Me=[];let he=0,V=0;for(;he<xe.length;){const K=xe[he++];if(K<128)Me[V++]=String.fromCharCode(K);else if(K>191&&K<224){const ze=xe[he++];Me[V++]=String.fromCharCode((31&K)<<6|63&ze)}else if(K>239&&K<365){const st=((7&K)<<18|(63&xe[he++])<<12|(63&xe[he++])<<6|63&xe[he++])-65536;Me[V++]=String.fromCharCode(55296+(st>>10)),Me[V++]=String.fromCharCode(56320+(1023&st))}else{const ze=xe[he++],Ce=xe[he++];Me[V++]=String.fromCharCode((15&K)<<12|(63&ze)<<6|63&Ce)}}return Me.join("")}(this.decodeStringToByteArray(xe,Me))},decodeStringToByteArray(xe,Me){this.init_();const he=Me?this.charToByteMapWebSafe_:this.charToByteMap_,V=[];for(let K=0;K<xe.length;){const ze=he[xe.charAt(K++)],We=K<xe.length?he[xe.charAt(K)]:0;++K;const vt=K<xe.length?he[xe.charAt(K)]:64;++K;const mt=K<xe.length?he[xe.charAt(K)]:64;if(++K,null==ze||null==We||null==vt||null==mt)throw Error();V.push(ze<<2|We>>4),64!==vt&&(V.push(We<<4&240|vt>>2),64!==mt&&V.push(vt<<6&192|mt))}return V},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let xe=0;xe<this.ENCODED_VALS.length;xe++)this.byteToCharMap_[xe]=this.ENCODED_VALS.charAt(xe),this.charToByteMap_[this.byteToCharMap_[xe]]=xe,this.byteToCharMapWebSafe_[xe]=this.ENCODED_VALS_WEBSAFE.charAt(xe),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[xe]]=xe,xe>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(xe)]=xe,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(xe)]=xe)}}},W=function(xe){return function(xe){const Me=ce(xe);return H.encodeByteArray(Me,!0)}(xe).replace(/\./g,"")},Z=function(xe){try{return H.decodeString(xe,!0)}catch(Me){console.error("base64Decode failed: ",Me)}return null};function q(xe,Me){if(!(Me instanceof Object))return Me;switch(Me.constructor){case Date:return new Date(Me.getTime());case Object:void 0===xe&&(xe={});break;case Array:xe=[];break;default:return Me}for(const he in Me)!Me.hasOwnProperty(he)||!te(he)||(xe[he]=q(xe[he],Me[he]));return xe}function te(xe){return"__proto__"!==xe}class Te{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Me,he)=>{this.resolve=Me,this.reject=he})}wrapCallback(Me){return(he,V)=>{he?this.reject(he):this.resolve(V),"function"==typeof Me&&(this.promise.catch(()=>{}),1===Me.length?Me(he):Me(he,V))}}}function Ae(xe,Me){if(xe.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const V=Me||"demo-project",K=xe.iat||0,ze=xe.sub||xe.user_id;if(!ze)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ce=Object.assign({iss:`https://securetoken.google.com/${V}`,aud:V,iat:K,exp:K+3600,auth_time:K,sub:ze,user_id:ze,firebase:{sign_in_provider:"custom",identities:{}}},xe);return[W(JSON.stringify({alg:"none",type:"JWT"})),W(JSON.stringify(Ce)),""].join(".")}function Ye(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ze(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ye())}function ue(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(xe){return!1}}function de(){return"object"==typeof self&&self.self===self}function Ie(){const xe="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof xe&&void 0!==xe.id}function me(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function G(){return Ye().indexOf("Electron/")>=0}function w(){const xe=Ye();return xe.indexOf("MSIE ")>=0||xe.indexOf("Trident/")>=0}function ae(){return Ye().indexOf("MSAppHost/")>=0}function we(){return!ue()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Fe(){return"object"==typeof indexedDB}function le(){return new Promise((xe,Me)=>{try{let he=!0;const V="validate-browser-context-for-indexeddb-analytics-module",K=self.indexedDB.open(V);K.onsuccess=()=>{K.result.close(),he||self.indexedDB.deleteDatabase(V),xe(!0)},K.onupgradeneeded=()=>{he=!1},K.onerror=()=>{var ze;Me((null===(ze=K.error)||void 0===ze?void 0:ze.message)||"")}}catch(he){Me(he)}})}function ge(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class He extends Error{constructor(Me,he,V){super(he),this.code=Me,this.customData=V,this.name="FirebaseError",Object.setPrototypeOf(this,He.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,De.prototype.create)}}class De{constructor(Me,he,V){this.service=Me,this.serviceName=he,this.errors=V}create(Me,...he){const V=he[0]||{},K=`${this.service}/${Me}`,ze=this.errors[Me],Ce=ze?function(xe,Me){return xe.replace(It,(he,V)=>{const K=Me[V];return null!=K?String(K):`<${V}?>`})}(ze,V):"Error";return new He(K,`${this.serviceName}: ${Ce} (${K}).`,V)}}const It=/\{\$([^}]+)}/g;function Bn(xe,Me){return Object.prototype.hasOwnProperty.call(xe,Me)}function qt(xe){for(const Me in xe)if(Object.prototype.hasOwnProperty.call(xe,Me))return!1;return!0}function er(xe,Me){if(xe===Me)return!0;const he=Object.keys(xe),V=Object.keys(Me);for(const K of he){if(!V.includes(K))return!1;const ze=xe[K],Ce=Me[K];if(tr(ze)&&tr(Ce)){if(!er(ze,Ce))return!1}else if(ze!==Ce)return!1}for(const K of V)if(!he.includes(K))return!1;return!0}function tr(xe){return null!==xe&&"object"==typeof xe}function Gn(xe){const Me=[];for(const[he,V]of Object.entries(xe))Array.isArray(V)?V.forEach(K=>{Me.push(encodeURIComponent(he)+"="+encodeURIComponent(K))}):Me.push(encodeURIComponent(he)+"="+encodeURIComponent(V));return Me.length?"&"+Me.join("&"):""}function cr(xe){const Me={};return xe.replace(/^\?/,"").split("&").forEach(V=>{if(V){const[K,ze]=V.split("=");Me[decodeURIComponent(K)]=decodeURIComponent(ze)}}),Me}function Pn(xe){const Me=xe.indexOf("?");if(!Me)return"";const he=xe.indexOf("#",Me);return xe.substring(Me,he>0?he:void 0)}function Vn(xe,Me){const he=new nn(xe,Me);return he.subscribe.bind(he)}class nn{constructor(Me,he){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=he,this.task.then(()=>{Me(this)}).catch(V=>{this.error(V)})}next(Me){this.forEachObserver(he=>{he.next(Me)})}error(Me){this.forEachObserver(he=>{he.error(Me)}),this.close(Me)}complete(){this.forEachObserver(Me=>{Me.complete()}),this.close()}subscribe(Me,he,V){let K;if(void 0===Me&&void 0===he&&void 0===V)throw new Error("Missing Observer.");K=function(xe,Me){if("object"!=typeof xe||null===xe)return!1;for(const he of["next","error","complete"])if(he in xe&&"function"==typeof xe[he])return!0;return!1}(Me)?Me:{next:Me,error:he,complete:V},void 0===K.next&&(K.next=rr),void 0===K.error&&(K.error=rr),void 0===K.complete&&(K.complete=rr);const ze=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?K.error(this.finalError):K.complete()}catch(Ce){}}),this.observers.push(K),ze}unsubscribeOne(Me){void 0===this.observers||void 0===this.observers[Me]||(delete this.observers[Me],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Me){if(!this.finalized)for(let he=0;he<this.observers.length;he++)this.sendOne(he,Me)}sendOne(Me,he){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Me])try{he(this.observers[Me])}catch(V){"undefined"!=typeof console&&console.error&&console.error(V)}})}close(Me){this.finalized||(this.finalized=!0,void 0!==Me&&(this.finalError=Me),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function rr(){}function Tr(xe,Me=1e3,he=2){const V=Me*Math.pow(he,xe),K=Math.round(.5*V*(Math.random()-.5)*2);return Math.min(144e5,V+K)}function Nr(xe){return xe&&xe._delegate?xe._delegate:xe}},5908:(gt,Ne,b)=>{"use strict";b.d(Ne,{v:()=>j,i:()=>we});var f=b(5861),C=b(3905),$=b(127),ce=b(5e3),x=b(6848);class H{constructor(ge,ye){this.routerLink=ge,this.hasAccessInTariffs=ye}navigationUrl(ge){let ye=this.routerLink;return ge&&(ye=ye.replace(":id",ge)),["app",...ye.split("/")]}}let j=(()=>{class le{constructor(ye){this.dataService=ye,this.state=null,this.state$=ye.get(),this.state$.subscribe(He=>{this.state=He})}hasAccessByRouterLink(ye){if(!this.state)throw"State \u0435\u0449\u0451 \u043d\u0435 \u043f\u043e\u044f\u0432\u0438\u043b\u0441\u044f";const _e=this.getPageByRouterLink(ye);return this.hasAccessByPage(_e)}hasAccessByPage(ye){if(ye.hasAccessInTariffs){const _e=le.getTariffInfo(this.state.user);if(!_e.hasTariff)return{access:!1,page:ye};const He=ye.hasAccessInTariffs.includes(_e.code);return He&&_e.working?{access:!0,page:ye}:He?_e.notExpired?{access:!1,page:ye}:{access:!1,needRepeatPayment:!0,page:ye}:{access:!1,page:ye}}return{access:!0,page:ye}}static getTariffInfo(ye){const _e=ye.tariff;if(!_e)return{hasTariff:!1,code:"no",notExpired:!1,working:!1};const He=_e.validTill.seconds>$.Z.firestore.Timestamp.now().seconds;return{hasTariff:!0,notExpired:He,working:He,code:_e.code}}getPageByRouterLink(ye){const _e=Fe.find(De=>De.routerLink===ye);if(_e)return _e;const He=Fe.find(De=>{const Et=De.routerLink.replace(/:[a-z]*/g,".*");return new RegExp(`^${Et}$`).test(ye)});if(He)return He;throw`\u041d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435 ${ye}`}hasAccessByRouterLinkAsync(ye){var _e=this;return(0,f.Z)(function*(){return yield _e.waitForState(),_e.hasAccessByRouterLink(ye)})()}waitForState(){var ye=this;return(0,f.Z)(function*(){ye.state||(yield(0,C.z)(ye.state$))})()}}return le.\u0275fac=function(ye){return new(ye||le)(ce.LFG(x.D))},le.\u0275prov=ce.Yz7({token:le,factory:le.\u0275fac,providedIn:"root"}),le})();const Z=["lite","middle"],z=new H("home"),q=new H("login"),te=new H("calendar/month"),Te=new H("calendar/day"),Ae=new H("event/:id"),Ye=new H("event/new",Z),Ze=new H("clients"),ue=new H("clients/new",Z),we={HOME:z,LOGIN:q,CALENDAR_MONTH:te,CALENDAR_DAY:Te,EVENT:Ae,EVENT_NEW:Ye,CLIENTS:Ze,CLIENT:new H("clients/:id"),CLIENT_NEW:ue,PRICE_LISTS:new H("priceList"),PRICE_LIST:new H("priceList/:id"),PRICE_LIST_NEW:new H("priceList/new",Z),ANALYTICS:new H("analytics",["middle"]),TARIFFS:new H("tariffs"),PROFILE:new H("profile")},Fe=Object.keys(we).map(le=>we[le])},4114:(gt,Ne,b)=>{"use strict";b.d(Ne,{c:()=>f,O:()=>C});var f=(()=>{return($=f||(f={})).NONE="\u041d\u0435\u0442",$.APPLICATION="\u0410\u043f\u043b\u0438\u043a\u0430\u0446\u0438\u043e\u043d\u043d\u0430\u044f",$.INJECTION="\u0418\u043d\u044a\u0435\u043a\u0446\u0438\u043e\u043d\u043d\u0430\u044f",$.OTHER="\u0414\u0440\u0443\u0433\u043e\u0435",f;var $})();const C=[{type:f.NONE,label:"\u041d\u0435\u0442"},{type:f.APPLICATION,label:"\u0410\u043f\u043b\u0438\u043a\u0430\u0446\u0438\u043e\u043d\u043d\u0430\u044f"},{type:f.INJECTION,label:"\u0418\u043d\u044a\u0435\u043a\u0446\u0438\u043e\u043d\u043d\u0430\u044f"},{type:f.OTHER,label:"\u0414\u0440\u0443\u0433\u043e\u0435"}]},4511:(gt,Ne,b)=>{"use strict";b.d(Ne,{N3:()=>f,Do:()=>C,$v:()=>$,Ec:()=>ce,i3:()=>H});var f=(()=>{return(j=f||(f={})).PLANNED="PLANNED",j.SUCCESS="SUCCESS",j.CANCEL="CANCEL",f;var j})();const C=[{data:f.PLANNED,label:"\u0417\u0430\u043f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u043e"},{data:f.SUCCESS,label:"\u041a\u043b\u0438\u0435\u043d\u0442 \u043f\u0440\u0438\u0448\u0451\u043b"},{data:f.CANCEL,label:"\u041a\u043b\u0438\u0435\u043d\u0442 \u043d\u0435 \u043f\u0440\u0438\u0448\u0451\u043b"}],$=[{label:"\u041d\u0435\u0442",data:"NO"},{label:"\u0421\u0443\u043c\u043c\u0430",data:"AMOUNT"},{label:"\u041f\u0440\u043e\u0446\u0435\u043d\u0442\u044b",data:"PERCENT"},{label:"\u0411\u0435\u0441\u043f\u043b\u0430\u0442\u043d\u0430\u044f \u043f\u0440\u043e\u0446\u0435\u0434\u0443\u0440\u0430",data:"FREE"}];function ce(j){return j?j.isFree?"FREE":j.amount&&j.amount>0?"AMOUNT":j.percent&&j.percent>0?"PERCENT":"NO":"NO"}function H(j){return 1e3*function(j){return j.plannedWork.reduce((W,Z)=>W+Z.duration,0)}(j)*60}},6591:(gt,Ne,b)=>{"use strict";b.d(Ne,{KD:()=>C,MB:()=>ce});var f=b(127);const C={name:"\u042d\u043b\u0435\u043a\u0442\u0440\u043e\u044d\u043f\u0438\u043b\u044f\u0446\u0438\u044f",uid:"ee"},ce={version:2,tariff:null,workTypes:[C,{name:"\u0428\u0443\u0433\u0430\u0440\u0438\u043d\u0433",uid:"sg"}],meta:{created:f.Z.firestore.Timestamp.now(),lastLoad:f.Z.firestore.Timestamp.now()}}},6602:(gt,Ne,b)=>{"use strict";b.d(Ne,{t3:()=>$,ke:()=>H});const $={zone:"\u041d\u0435 \u0443\u0442\u043e\u0447\u043d\u0435\u043d\u043e",price:0,per:"minute",uid:"NOT_SELECTED"},ce=[{workTypeUid:"ee",zones:[{label:"\u041b\u0438\u0446\u043e",per:"minute"},{label:"\u0413\u0440\u0443\u0434\u044c",per:"minute"},{label:"\u0416\u0438\u0432\u043e\u0442",per:"minute"},{label:"\u0421\u043f\u0438\u043d\u0430",per:"minute"},{label:"\u041c\u0435\u0436\u044a\u044f\u0433\u043e\u0434\u0438\u0447\u043d\u0430\u044f \u0441\u043a\u043b\u0430\u0434\u043a\u0430",per:"minute"},{label:"\u0411\u0438\u043a\u0438\u043d\u0438",per:"minute",children:[{label:"\u041a\u043b\u0430\u0441\u0441\u0438\u0447\u0435\u0441\u043a\u043e\u0435",per:"minute"},{label:"\u0413\u043b\u0443\u0431\u043e\u043a\u043e\u0435",per:"minute"}]},{label:"\u041f\u043e\u0434\u043c\u044b\u0448\u043a\u0438",per:"minute",children:[{label:"\u041f\u0440\u0430\u0432\u0430\u044f",per:"minute",selectable:!1},{label:"\u041b\u0435\u0432\u0430\u044f",per:"minute",selectable:!1}]},{label:"\u0420\u0443\u043a\u0438",per:"minute",children:[{label:"\u041f\u043b\u0435\u0447\u043e",per:"minute",children:[{label:"\u041f\u0440\u0430\u0432\u043e\u0435",per:"minute",selectable:!1},{label:"\u041b\u0435\u0432\u043e\u0435",per:"minute",selectable:!1}]},{label:"\u041f\u0440\u0435\u0434\u043f\u043b\u0435\u0447\u044c\u0435",per:"minute",children:[{label:"\u041f\u0440\u0430\u0432\u043e\u0435",per:"minute",selectable:!1},{label:"\u041b\u0435\u0432\u043e\u0435",per:"minute",selectable:!1}]},{label:"\u041f\u0430\u043b\u044c\u0446\u044b \u0440\u0443\u043a",per:"minute",children:[{label:"\u041f\u0440\u0430\u0432\u0430\u044f \u0440\u0443\u043a\u0430",per:"minute",selectable:!1},{label:"\u041b\u0435\u0432\u0430\u044f \u0440\u0443\u043a\u0430",per:"minute",selectable:!1}]}]},{label:"\u041d\u043e\u0433\u0438",per:"minute",children:[{label:"\u0413\u043e\u043b\u0435\u043d\u044c",per:"minute",children:[{label:"\u041f\u0440\u0430\u0432\u0430\u044f",per:"minute",selectable:!1},{label:"\u041b\u0435\u0432\u0430\u044f",per:"minute",selectable:!1}]},{label:"\u0411\u0435\u0434\u0440\u0430",per:"minute",children:[{label:"\u041f\u0440\u0430\u0432\u043e\u0435",per:"minute",selectable:!1},{label:"\u041b\u0435\u0432\u043e\u0435",per:"minute",selectable:!1}]},{label:"\u041f\u0430\u043b\u044c\u0446\u044b \u043d\u043e\u0433",per:"minute",children:[{label:"\u041f\u0440\u0430\u0432\u0430\u044f \u043d\u043e\u0433\u0430",per:"minute",selectable:!1},{label:"\u041b\u0435\u0432\u0430\u044f \u043d\u043e\u0433\u0430",per:"minute",selectable:!1}]}]}]},{workTypeUid:"sg",zones:[{label:"\u041b\u0438\u0446\u043e",per:"procedure"},{label:"\u041d\u043e\u0433\u0438",per:"procedure",children:[{label:"\u0411\u0435\u0434\u0440\u043e",per:"procedure"},{label:"\u0413\u043e\u043b\u0435\u043d\u044c",per:"procedure"},{label:"\u041f\u0430\u043b\u044c\u0446\u044b \u043d\u043e\u0433",per:"procedure"}]},{label:"\u0420\u0443\u043a\u0438",per:"procedure",children:[{label:"\u041f\u043b\u0435\u0447\u043e",per:"procedure"},{label:"\u041f\u0440\u0435\u0434\u043f\u043b\u0435\u0447\u044c\u0435",per:"procedure"},{label:"\u041a\u0438\u0441\u0442\u0438",per:"procedure"}]},{label:"\u0411\u0438\u043a\u0438\u043d\u0438",per:"procedure",children:[{label:"\u041a\u043b\u0430\u0441\u0441\u0438\u0447\u0435\u0441\u043a\u043e\u0435",per:"procedure"},{label:"\u0421\u0440\u0435\u0434\u043d\u0435\u0435",per:"procedure"},{label:"\u0413\u043b\u0443\u0431\u043e\u043a\u043e\u0435",per:"procedure"}]},{label:"\u0422\u0435\u043b\u043e",per:"procedure",children:[{label:"\u0416\u0438\u0432\u043e\u0442",per:"procedure"},{label:"\u0413\u0440\u0443\u0434\u044c",per:"procedure"},{label:"\u0421\u043f\u0438\u043d\u0430",per:"procedure"}]}]}],x=[{label:"\u0417\u043e\u043d\u0430",per:"procedure"}];class H{static getDefaultZonesByWorkTypeUid(W){if("string"!=typeof W){const Z=ce.find(z=>z.workTypeUid===W.uid);if(Z)return Z.zones}return x}}},2816:(gt,Ne,b)=>{"use strict";b.d(Ne,{e:()=>q});var f=b(5861),C=b(4707),$=b(9300),ce=b(4004),x=b(3905),H=b(843),j=b(5908),W=b(5e3),Z=b(948),z=b(3681);let q=(()=>{class te{constructor(Ae,Ye){this.authService=Ae,this.router=Ye,this.auth$=new C.t(1),this.signInIfHasToken(),this.authService.authState.subscribe(Ze=>{console.debug("Auth state updated: ",Ze),this.auth$.next(Ze),Ze||this.router.navigate(j.i.LOGIN.navigationUrl())})}getAuth$(){return this.auth$}waitForAuth$(){return this.auth$.pipe((0,$.h)(Ae=>!!Ae))}loggedIn(){return this.auth$.pipe((0,ce.U)(Ae=>!!Ae))}getUid(){var Ae=this;return(0,f.Z)(function*(){return(yield(0,x.z)(Ae.waitForAuth$())).uid})()}signInIfHasToken(){!H.N.production&&H.N.firebase.customToken&&(console.debug("Signing in with custom token. ONLY IN DEV MODE!!!"),this.authService.signInWithCustomToken(H.N.firebase.customToken).then(Ye=>{console.log("logged in with custom token:",Ye)}))}logout(){this.authService.signOut()}}return te.\u0275fac=function(Ae){return new(Ae||te)(W.LFG(Z.zQ),W.LFG(z.F0))},te.\u0275prov=W.Yz7({token:te,factory:te.\u0275fac,providedIn:"root"}),te})()},6848:(gt,Ne,b)=>{"use strict";b.d(Ne,{D:()=>de});var f=b(5861),C=b(4707),$=b(9841),ce=b(4004),x=b(262),H=b(1848),j=b(4511),W=b(9550),Z=b(4114),z=b(5e3),q=b(3290);let te=(()=>{class Ie{constructor(G){this.firestore=G}findAllByUserUid(G){return this.firestore.collection("clients",w=>w.where("userUid","==",G).orderBy("fullName")).valueChanges({idField:"uid"}).pipe((0,x.K)(w=>(console.error(w),H.C)))}getFrom(G,w){const ae=G.find(re=>re.uid===w);if(!ae)throw`\u041a\u043b\u0438\u0435\u043d\u0442 ${w} \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d`;return ae}create(G){var w=this;return(0,f.Z)(function*(){const ae=w.firestore.createId();return w.update(ae,G)})()}createWithNameOnly(G,w){var ae=this;return(0,f.Z)(function*(){return ae.create({fullName:G,userUid:w,telegram:null,instagram:null,vk:null,birthDate:null,email:null,notes:null,phone:null,photoUrl:null,sensitivity:{freezingType:Z.c.NONE,comment:null},archived:!1})})()}update(G,w){var ae=this;return(0,f.Z)(function*(){const re=ae.validateAndFillUndefinedFields(w);return yield ae.firestore.collection("clients").doc(G).set(re),Object.assign(Object.assign({},re),{uid:G})})()}validateAndFillUndefinedFields(G){if(!G.fullName||!G.userUid)throw console.error("\u0417\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u044b \u043d\u0435 \u0432\u0441\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u043f\u043e\u043b\u044f",G),"\u0417\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u044b \u043d\u0435 \u0432\u0441\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u043f\u043e\u043b\u044f";return{userUid:G.userUid,fullName:G.fullName,sensitivity:G.sensitivity||{freezingType:Z.c.NONE,comment:null},phone:G.phone||null,birthDate:G.birthDate||null,notes:G.notes||null,photoUrl:G.photoUrl||null,email:G.email||null,telegram:G.telegram||null,instagram:G.instagram||null,vk:G.vk||null,archived:G.archived||!1}}archive(G){return this.firestore.collection("clients").doc(G).update({archived:!0})}restore(G){return this.firestore.collection("clients").doc(G).update({archived:!1})}static filterByName(G,w){return G.filter(ae=>!ae.archived&&ae.fullName.toLowerCase().indexOf(w.toLowerCase())>=0)}}return Ie.\u0275fac=function(G){return new(G||Ie)(z.LFG(q.ST))},Ie.\u0275prov=z.Yz7({token:Ie,factory:Ie.\u0275fac,providedIn:"root"}),Ie})();var Te=b(8337),Ae=b(2816),Ye=b(5337),Ze=b(7226);let ue=(()=>{class Ie{constructor(G){this.firestore=G}all(){return this.firestore.collection("tariffs",G=>G.orderBy("price")).valueChanges().pipe((0,x.K)(G=>(console.error(G),H.C)))}}return Ie.\u0275fac=function(G){return new(G||Ie)(z.LFG(q.ST))},Ie.\u0275prov=z.Yz7({token:Ie,factory:Ie.\u0275fac,providedIn:"root"}),Ie})(),de=(()=>{class Ie{constructor(G,w,ae,re,we,Fe,le){this.firestore=G,this.auth=w,this.eventsRepository=ae,this.clientsRepository=re,this.priceListsRepository=we,this.usersRepository=Fe,this.tariffRepository=le,this.state$=new C.t(1);let ge=null;this.auth.getAuth$().subscribe(ye=>{ge&&(ge.unsubscribe(),ge=null),ye&&(ge=this.createDataSubscriptionByUserUid(ye))})}createDataSubscriptionByUserUid(G){return this.usersRepository.updateLastLoad(G.uid),(0,$.a)([this.usersRepository.get(G.uid),this.eventsRepository.findAllByUserUid(G.uid),this.clientsRepository.findAllByUserUid(G.uid),this.priceListsRepository.findAllByUserUid(G.uid),this.tariffRepository.all()]).pipe((0,ce.U)(([w,ae,re,we,Fe])=>this.mapToState(G,w,ae,re,we,Fe))).pipe((0,x.K)(w=>(console.error(w),H.C))).subscribe(w=>{console.debug("State changed"),this.state$.next(w)})}mapToState(G,w,ae,re,we,Fe){const le=this.getPriceListsJoined(we,w),ge=this.getEventsJoined(ae,le,w,re),ye=this.getUserJoined(w,Fe);return{userUid:G.uid,events:ge,priceLists:le,user:ye,clients:re}}getPriceListsJoined(G,w){return G.map(ae=>Object.assign(Object.assign({},ae),{user:w,workType:this.usersRepository.getWorkType(w,ae.workTypeUid)}))}getEventsJoined(G,w,ae,re){return G.map(we=>{const Fe=this.priceListsRepository.getFrom(w,we.priceListUid),le=we.plannedWork.map(ye=>{const _e=this.priceListsRepository.findZonePrice(Fe,ye.zoneUid);return Object.assign(Object.assign({},ye),{zone:_e})}),ge=we.actualWork.map(ye=>{const _e=this.priceListsRepository.findZonePrice(Fe,ye.zoneUid);return Object.assign(Object.assign({},ye),{zone:_e})});return Object.assign(Object.assign({},we),{user:ae,workType:this.usersRepository.getWorkType(ae,we.workTypeUid),client:this.clientsRepository.getFrom(re,we.clientUid),priceList:Fe,plannedWorkJoined:le,actualWorkJoined:ge})})}get(){return this.state$}getTariffs(){return this.tariffRepository.all()}getProfileData(){return(0,$.a)([this.get().pipe((0,ce.U)(G=>G.user)),this.getTariffs()])}findActiveEventsInInterval(G,w){return this.get().pipe((0,ce.U)(ae=>ae.events.filter(re=>!re.archived&&re.dateFrom.toDate()>=G&&re.dateFrom.toDate()<w)))}getEventData(G){return this.get().pipe((0,ce.U)(w=>({event:this.eventsRepository.getFrom(w.events,G),allPriceLists:w.priceLists})))}getClientData(G){return this.get().pipe((0,ce.U)(w=>{const ae=this.clientsRepository.getFrom(w.clients,G),re=W.C.filterByClientUid(w.events,ae.uid),we=Te._.getForClientAndEvents(ae,re);return{user:w.user,client:ae,events:re,statistics:we}}))}getDataForNewEvent(){return this.get().pipe((0,ce.U)(G=>{const w=this.usersRepository.getDefaultWorkType(G.user,G.priceLists);return console.log("default work type",w),{user:G.user,defaultWorkType:w,priceLists:G.priceLists}}))}saveEvent(G,w){return this.eventsRepository.save(G,w)}saveClient(G,w){return this.clientsRepository.update(G,w)}archiveClient(G){return this.clientsRepository.archive(G)}restoreClient(G){return this.clientsRepository.restore(G)}archiveEvent(G){return this.eventsRepository.archive(G)}restoreEvent(G){return this.eventsRepository.restore(G)}archivePriceList(G){return this.priceListsRepository.archive(G)}restorePriceList(G){return this.priceListsRepository.restore(G)}createPriceList(G){return this.priceListsRepository.create(G)}getPriceListData(G){return this.get().pipe((0,ce.U)(w=>{const ae=w.user.workTypes;return{priceList:this.priceListsRepository.getFrom(w.priceLists,G),workTypes:ae,events:W.C.filterByPriceListUid(w.events,G)}}))}getTutorialData(){return this.get().pipe((0,ce.U)(G=>({user:G.user,priceLists:G.priceLists,clients:G.clients,events:G.events,finishedEvents:W.C.filterByStatus(G.events,j.N3.SUCCESS)})))}createClientWithNameOnly(G){var w=this;return(0,f.Z)(function*(){const ae=yield w.auth.getUid();return yield w.clientsRepository.createWithNameOnly(G,ae)})()}addWorkTypeByName(G){var w=this;return(0,f.Z)(function*(){const ae=yield w.auth.getUid();return w.usersRepository.addWorkTypeByName(ae,G)})()}findActiveClientsByName(G){return this.get().pipe((0,ce.U)(({clients:w})=>te.filterByName(w,G)))}updateEventDateFrom(G,w){return this.eventsRepository.updateDateFrom(G,w)}getUserJoined(G,w){if(G.tariff){const ae=G.tariff.code,re=w.find(Fe=>Fe.code===ae);if(!re)throw`\u041d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d \u0442\u0430\u0440\u0438\u0444 ${ae}`;const we=Object.assign(Object.assign({},G.tariff),{ref:re});return Object.assign(Object.assign({},G),{tariff:we})}{const ae=null;return Object.assign(Object.assign({},G),{tariff:ae})}}}return Ie.\u0275fac=function(G){return new(G||Ie)(z.LFG(q.ST),z.LFG(Ae.e),z.LFG(W.C),z.LFG(te),z.LFG(Ye.I),z.LFG(Ze.m),z.LFG(ue))},Ie.\u0275prov=z.Yz7({token:Ie,factory:Ie.\u0275fac,providedIn:"root"}),Ie})()},9550:(gt,Ne,b)=>{"use strict";b.d(Ne,{C:()=>Z});var f=b(5861),C=b(4004),$=b(262),ce=b(1848),x=b(127),H=b(5e3),j=b(3290);const W=x.Z.firestore.Timestamp;let Z=(()=>{class z{constructor(te){this.firestore=te}findAllByUserUid(te){return this.firestore.collection("events",Te=>Te.where("userUid","==",te)).valueChanges({idField:"uid"}).pipe((0,C.U)(Te=>Te.map(Ae=>this.validate(Ae)))).pipe((0,$.K)(Te=>(console.error(Te),ce.C)))}validate(te){var Te;return te.plannedWork.forEach(Ae=>{isNaN(+Ae.duration)&&(Ae.duration=0)}),null===(Te=te.actualWork)||void 0===Te||Te.forEach(Ae=>{isNaN(+Ae.duration)&&(Ae.duration=0)}),te}getFrom(te,Te){const Ae=te.find(Ye=>Ye.uid===Te);if(!Ae)throw`\u0412\u0441\u0442\u0440\u0435\u0447\u0430 ${Te} \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430`;return Ae}save(te,Te){var Ae=this;return(0,f.Z)(function*(){const Ye=z.fillUndefinedFieldsAndValidate(Te);return yield Ae.firestore.collection("events").doc(te).set(Ye),Object.assign({uid:te},Ye)})()}archive(te){return this.firestore.collection("events").doc(te).update({archived:!0})}restore(te){return this.firestore.collection("events").doc(te).update({archived:!1})}static fillUndefinedFieldsAndValidate(te){if(!(te.userUid&&te.workTypeUid&&te.clientUid&&te.priceListUid&&te.dateFrom&&te.status))throw console.error("\u0417\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u044b \u043d\u0435 \u0432\u0441\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u043f\u043e\u043b\u044f",te),"\u0417\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u044b \u043d\u0435 \u0432\u0441\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u043f\u043e\u043b\u044f";return Object.assign(Object.assign({},te),{plannedWork:te.plannedWork||[],actualWork:te.actualWork||[],plannedAmount:te.plannedAmount||0,title:te.title||null,cancelReason:te.cancelReason||null,discount:te.discount||null,conversationTopic:te.conversationTopic||null,notes:te.notes||null,totalAmount:te.totalAmount||null})}static filterByPriceListUid(te,Te){return te.filter(Ae=>Ae.priceListUid===Te)}static filterByStatus(te,Te){return te.filter(Ae=>Ae.status===Te)}static filterByClientUid(te,Te){return te.filter(Ae=>Ae.clientUid===Te)}static filterByStatusAndLessThanDate(te,Te,Ae){const Ye=W.fromDate(Ae).seconds;return te.filter(Ze=>!Ze.archived&&Ze.status===Te&&Ze.dateFrom.seconds<Ye)}updateDateFrom(te,Te){return this.firestore.collection("events").doc(te).update({dateFrom:x.Z.firestore.Timestamp.fromDate(Te)})}}return z.\u0275fac=function(te){return new(te||z)(H.LFG(j.ST))},z.\u0275prov=H.Yz7({token:z,factory:z.\u0275fac,providedIn:"root"}),z})()},5337:(gt,Ne,b)=>{"use strict";b.d(Ne,{I:()=>W});var f=b(5861),C=b(262),$=b(1848),ce=b(127),x=b(6453),H=b(5e3),j=b(3290);let W=(()=>{class Z{constructor(q){this.firestore=q}findAllByUserUid(q){return this.firestore.collection("priceLists",te=>te.where("userUid","==",q).orderBy("dateFrom")).valueChanges({idField:"uid"}).pipe((0,C.K)(te=>(console.error(te),$.C)))}getFrom(q,te){const Te=q.find(Ae=>Ae.uid===te);if(!Te)throw`\u041f\u0440\u0430\u0439\u0441-\u043b\u0438\u0441\u0442 ${te} \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d`;return Te}getDefaultPriceList(q,te,Te){const Ae=Z.findByDateToAndWorkTypeOrOnlyWorkTypeSorted(q,te,Te);if(Ae.length>0)return Ae[0];{const Ye=Z.filterByWorkTypeSorted(q,Te);if(Ye.length>0)return Ye[0];throw`\u041d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d \u043f\u0440\u0430\u0439\u0441-\u043b\u0438\u0441\u0442 \u0434\u043b\u044f \u0442\u0438\u043f\u0430 \u0440\u0430\u0431\u043e\u0442 ${Te.name}}`}}static findByDateToAndWorkTypeOrOnlyWorkTypeSorted(q,te,Te){const Ae=this.filterByDateToAndWorkTypeSorted(q,te,Te);if(Ae.length>0)return Ae;{const Ze=this.filterByWorkTypeSorted(q,Te);if(Ze.length>0)return Ze;throw`\u041d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d \u043f\u0440\u0430\u0439\u0441 \u043b\u0438\u0441\u0442 \u043f\u043e \u0434\u0430\u0442\u0435 ${te} \u0438 \u0442\u0438\u043f\u0443 \u0440\u0430\u0431\u043e\u0442 ${Te.name}`}}static filterByDateToAndWorkTypeSorted(q,te,Te){const Ae=ce.Z.firestore.Timestamp.fromDate(te).seconds;return q.filter(Ye=>Ye.dateFrom.seconds<Ae&&Ye.workTypeUid===Te.uid&&!Ye.archived).sort(this.sortByDateFrom())}static filterByWorkTypeSorted(q,te){return q.filter(Te=>Te.workTypeUid===te.uid).sort(this.sortByDateFrom())}static sortByDateFrom(){return(q,te)=>te.dateFrom.seconds-q.dateFrom.seconds}create(q){var te=this;return(0,f.Z)(function*(){const Te=te.firestore.createId();return te.update(Te,q)})()}update(q,te){var Te=this;return(0,f.Z)(function*(){const Ae=Te.validateAndFillUndefinedFields(te);return yield Te.firestore.collection("priceLists").doc(q).set(Ae),Object.assign(Object.assign({},Ae),{uid:q})})()}archive(q){return this.firestore.collection("priceLists").doc(q).update({archived:!0})}restore(q){return this.firestore.collection("priceLists").doc(q).update({archived:!1})}validateAndFillUndefinedFields(q){if(this.invalid(q))throw console.error("\u0417\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u044b \u043d\u0435 \u0432\u0441\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u043f\u043e\u043b\u044f",q),"\u0417\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u044b \u043d\u0435 \u0432\u0441\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u043f\u043e\u043b\u044f";const te=this.validateZonePrices(q.zonePrices);return{userUid:q.userUid,dateFrom:q.dateFrom,workTypeUid:q.workTypeUid,dateTo:q.dateTo||null,zonePrices:te,archived:q.archived||!1}}invalid(q){if(q.dateFrom&&q.workTypeUid&&q.userUid&&0!==q.zonePrices.length)return!1;let Te=!0;return x.a.forEach(q.zonePrices,Ae=>{Ae.zone||(Te=!1),Ae.children||Ae.price||(Te=!1)}),Te}validateZonePrices(q){return q.map(Te=>{if(!Te.zone||!Te.uid||!["minute","procedure"].includes(Te.per))throw console.error("\u0417\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u044b \u043d\u0435 \u0432\u0441\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u043f\u043e\u043b\u044f",Te),"\u0417\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u044b \u043d\u0435 \u0432\u0441\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u043f\u043e\u043b\u044f";return Object.assign(Object.assign({},Te),{price:Te.price||0,children:Te.children||null})})}findZonePrice(q,te){if(te===x.D.data.uid)return x.D.data;const Te=x.a.find(q.zonePrices,Ae=>Ae.uid===te);if(!Te)throw console.error(`\u041d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430 \u0437\u043e\u043d\u0430 ${te} \u0432 \u043f\u0440\u0430\u0439\u0441-\u043b\u0438\u0441\u0442\u0435 ${q.uid}`,q),`\u041d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430 \u0437\u043e\u043d\u0430 ${te} \u0432 \u043f\u0440\u0430\u0439\u0441-\u043b\u0438\u0441\u0442\u0435 ${q.uid}`;return Te}}return Z.\u0275fac=function(q){return new(q||Z)(H.LFG(j.ST))},Z.\u0275prov=H.Yz7({token:Z,factory:Z.\u0275fac,providedIn:"root"}),Z})()},8337:(gt,Ne,b)=>{"use strict";b.d(Ne,{_:()=>te});var f=b(4511),C=b(4004),$=b(403),ce=b(953),x=b(833),j=b(5119),W=b(7524),Z=b(9550),z=b(5e3),q=b(6848);let te=(()=>{class Te{constructor(Ye){this.dataService=Ye}getAll(Ye="month"){return this.dataService.get().pipe((0,C.U)(({events:Ze,clients:ue})=>{const de=this.getClientWithFirstVisit(ue,Ze),me=this.getEventsInPeriod(Ze,Ye).map(({events:ae,period:re})=>this.getStatisticsFromEvents(ae,de,re)),G=new Date;return{periods:me,total:this.getStatisticsFromEvents(Ze,de,G)}}))}getStatisticsFromEvents(Ye,Ze,ue){const de=Z.C.filterByStatus(Ye,f.N3.SUCCESS),Ie=de.map(ae=>ae.clientUid).filter($.x.unique()),me=Ze.filter(({event:ae})=>de.includes(ae)).map(({client:re})=>re),G=de.reduce((ae,re)=>ae+(re.totalAmount||0),0);return{period:ue,uniqueClients:Ie.length,newClients:me.length,successEvents:de.length,totalMoney:G,averageBill:G/de.length||0}}getEventsInPeriod(Ye,Ze){const ue=[];return Ye.forEach(de=>{const Ie="month"===Ze?(0,j.Z)(de.dateFrom.toDate()):function(Te){(0,x.Z)(1,arguments);var Ae=(0,ce.Z)(Te),Ye=new Date(0);return Ye.setFullYear(Ae.getFullYear(),0,1),Ye.setHours(0,0,0,0),Ye}(de.dateFrom.toDate());let me=ue.find(G=>(0,W.Z)(G.period,Ie));me||(me={period:Ie,events:[]},ue.push(me)),me.events.push(de)}),ue}getClientWithFirstVisit(Ye,Ze){return Ye.map(ue=>{const de=Z.C.filterByStatus(Ze,f.N3.SUCCESS).find(Ie=>Ie.clientUid===ue.uid);return de?{event:de,client:ue}:null}).filter($.x.notEmpty())}static getForClientAndEvents(Ye,Ze){const ue=Z.C.filterByStatus(Ze,f.N3.SUCCESS),de=[];ue.flatMap(G=>G.actualWorkJoined.map(w=>({zone:w.zone,event:G,duration:w.duration}))).forEach(G=>{let w=de.find(ae=>ae.zone===G.zone);w||(w={zone:G.zone,events:[]},de.push(w)),w.events.push({event:G.event,duration:G.duration})});const Ie=ue.reduce((G,w)=>w.totalAmount?G+w.totalAmount:0,0);return{earnedMoney:Ie,averageBill:Ie/ue.length||0,canceledEvents:Z.C.filterByStatus(Ze,f.N3.CANCEL).length,futureEvents:Z.C.filterByStatus(Ze,f.N3.PLANNED).length,successEvents:ue.length,workingZones:de}}}return Te.\u0275fac=function(Ye){return new(Ye||Te)(z.LFG(q.D))},Te.\u0275prov=z.Yz7({token:Te,factory:Te.\u0275fac,providedIn:"root"}),Te})()},6453:(gt,Ne,b)=>{"use strict";b.d(Ne,{a:()=>Ze,D:()=>Ye});var f,C=new Uint8Array(16);function $(){if(!f&&!(f="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return f(C)}const ce=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,H=function(ue){return"string"==typeof ue&&ce.test(ue)};for(var j=[],W=0;W<256;++W)j.push((W+256).toString(16).substr(1));const te=function(ue,de,Ie){var me=(ue=ue||{}).random||(ue.rng||$)();if(me[6]=15&me[6]|64,me[8]=63&me[8]|128,de){Ie=Ie||0;for(var G=0;G<16;++G)de[Ie+G]=me[G];return de}return function(ue){var de=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,Ie=(j[ue[de+0]]+j[ue[de+1]]+j[ue[de+2]]+j[ue[de+3]]+"-"+j[ue[de+4]]+j[ue[de+5]]+"-"+j[ue[de+6]]+j[ue[de+7]]+"-"+j[ue[de+8]]+j[ue[de+9]]+"-"+j[ue[de+10]]+j[ue[de+11]]+j[ue[de+12]]+j[ue[de+13]]+j[ue[de+14]]+j[ue[de+15]]).toLowerCase();if(!H(Ie))throw TypeError("Stringified UUID is invalid");return Ie}(me)};class Te{static generate(){return te()}}const Ye={label:"\u041d\u0435 \u0443\u0442\u043e\u0447\u043d\u0435\u043d\u043e",data:b(6602).t3};class Ze{constructor(){}static findChildInTreeNode(de,Ie){var me;let ae,G=de,w=Ie;for(;G&&w;)ae=w.find(re=>re.data.zone===G.zone),G=null===(me=null==G?void 0:G.children)||void 0===me?void 0:me[0],w=null==ae?void 0:ae.children;if(!ae)throw console.error("\u041d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430 \u0437\u043e\u043d\u0430",de,Ie),"\u041d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430 \u0437\u043e\u043d\u0430";return ae}static toModel(de){return Ze.treeMap(de,Ie=>{var me,G,w,ae;const re=Ie.data;return{uid:(null===(me=re.get("uid"))||void 0===me?void 0:me.value)||Te.generate(),zone:null===(G=re.get("zone"))||void 0===G?void 0:G.value,price:null===(w=re.get("price"))||void 0===w?void 0:w.value,per:null===(ae=re.get("per"))||void 0===ae?void 0:ae.value}})}static toZoneModel(de){if(!de.data)throw"\u0423 \u0434\u0435\u0440\u0435\u0432\u0430 \u0437\u043e\u043d \u043d\u0435 \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u044b \u0434\u0430\u043d\u043d\u044b\u0435"+de.label;return de.data}static toTreeNodes(de){return Ze.treeMap(de,(Ie,me)=>{const G={};return G.label=Ie.zone,G.data=Ie,me&&(G.parent=me),G})}static getActualTree(de){const Ie=this.toTreeNodes(de.zonePrices);return this.forEach(Ie,me=>{me.children&&me.children.length>0&&(me.selectable=!1)}),Ie}static getPlannedTree(de){return[Ye,...this.toTreeNodes(de.zonePrices)]}static prettyPrint(de){var Ie,me;let G=de,w=(null===(Ie=G.data)||void 0===Ie?void 0:Ie.zone)||"";for(;G.parent;)G=G.parent,w=(null===(me=G.data)||void 0===me?void 0:me.zone)+" > "+w;return w}static expandAll(de){de.forEach(Ie=>{Ie.expanded=!0,Ie.children&&this.expandAll(Ie.children)})}static expandFirstLevelIf(de,Ie){return de.forEach(me=>{Ie(me)&&(me.expanded=!0)}),de}static linkParent(de){return Ze.treeMap(de,(Ie,me)=>(me&&(Ie.parent=me),Ie))}static forEach(de,Ie){de.forEach(me=>{Ie(me),me.children&&this.forEach(me.children,Ie)})}static treeMap(de,Ie){return this.recursiveTreeMap(de,Ie)}static recursiveTreeMap(de,Ie,me){return de.map(G=>{const w=Ie(G,me);return G.children&&(w.children=this.recursiveTreeMap(G.children,Ie,w)),w})}static flatMap(de,Ie){const me=[],G=[...de];for(;G.length>0;){const w=G.shift(),ae=Ie(w);me.push(ae),w.children&&G.push(...w.children)}return me}static getDataArray(de){return Ze.flatMap(de,Ie=>Ie.data)}static copy(de){return Ze.treeMap(de,(Ie,me)=>{const G={label:Ie.label};return Ie.data&&(G.data=Object.assign(Object.assign({},Ie.data),{uid:Te.generate()})),(!1===Ie.selectable||!0===Ie.selectable)&&(G.selectable=Ie.selectable),me&&(G.parent=me),G})}static getFirstChild(de){return de.children&&de.children.length>0?this.getFirstChild(de.children[0]):de}static find(de,Ie){const me=[...de];for(;me.length>0;){const G=me.shift();if(Ie(G))return G;G.children&&me.push(...G.children)}}static getNodeWithData(de,Ie){return{label:Ie,data:de}}}},7226:(gt,Ne,b)=>{"use strict";b.d(Ne,{m:()=>rn});var f=b(5861),C=b(5577),$=b(9646),ce=b(9770),x=b(8996),H=b(4004),j=b(3905),W=b(6591),Z=b(880),z=b(5e3),Te=(b(3692),b(5867),b(5525));const it=(0,Z.u3)(Te.vr,!0);var Dt=b(403),mt=b(127),St=b(3290);let rn=(()=>{class vn{constructor(Oe){this.firestore=Oe}get(Oe){return this.firestore.collection("users").doc(Oe).snapshotChanges().pipe((0,C.z)(pe=>{if(pe.payload.exists){const Ve=pe.payload.data();if(!Ve)throw console.error("Snapshot exists, but data undefined",Ve,pe),"Snapshot exists, but data undefined";return console.debug("Obtained User",Ve),this.validate(Ve),(0,$.of)(Ve)}return this.createUser(Oe)}))}validate(Oe){Oe.workTypes||(Oe.workTypes=[]),W.MB.workTypes.forEach(pe=>{Oe.workTypes.find(Ve=>Ve.uid===pe.uid)||Oe.workTypes.push(pe)})}createUser(Oe){return console.warn("Creating new user"),(0,ce.P)(()=>(0,x.D)(this.firestore.collection("users").doc(Oe).set(W.MB))).pipe((0,H.U)(()=>W.MB))}getWorkType(Oe,pe){const Ve=Oe.workTypes.find(rt=>rt.uid===pe);if(!Ve)throw`\u0422\u0438\u043f \u0440\u0430\u0431\u043e\u0442 ${pe} \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d`;return Ve}getDefaultWorkType(Oe,pe){const Ve=pe.filter($t=>!$t.archived).map($t=>$t.workType).filter(Dt.x.unique());if(Ve.length>0)return Ve[0];const rt=Oe.workTypes.find($t=>$t.uid===W.KD.uid);if(!rt)throw"\u041d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d \u0442\u0438\u043f \u0440\u0430\u0431\u043e\u0442 \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e";return rt}addWorkTypeByName(Oe,pe){var Ve=this;return(0,f.Z)(function*(){const rt=yield(0,j.z)(Ve.firestore.collection("users").doc(Oe).get());if(!rt.exists)throw"User not exists";const sn=rt.data().workTypes.find(lr=>lr.name===pe);if(sn)return sn;const En={name:pe,uid:Ve.firestore.createId()};return yield Ve.firestore.collection("users").doc(Oe).update({workTypes:it(En)}),En})()}updateLastLoad(Oe){this.firestore.collection("users").doc(Oe).update({"meta.lastLoad":mt.Z.firestore.Timestamp.now()}).catch(pe=>console.error(pe))}}return vn.\u0275fac=function(Oe){return new(Oe||vn)(z.LFG(St.ST))},vn.\u0275prov=z.Yz7({token:vn,factory:vn.\u0275fac,providedIn:"root"}),vn})()},403:(gt,Ne,b)=>{"use strict";b.d(Ne,{x:()=>C});class C{static notEmpty(){return ce=>null!=ce}static unique(){return(ce,x,H)=>H.indexOf(ce)===x}}},843:(gt,Ne,b)=>{"use strict";b.d(Ne,{N:()=>C});const C={production:!0,baseUrl:"https://smoozi-a35c5.web.app/",firebase:Object.assign(Object.assign({},{apiKey:"AIzaSyDbyUt_E4zvpsRY3f000mtfhi-t0hOEtS0",authDomain:"smoozi-a35c5.firebaseapp.com",projectId:"smoozi-a35c5",storageBucket:"smoozi-a35c5.appspot.com",messagingSenderId:"36812412450",appId:"1:36812412450:web:466c6ab54262e97db21c7b",measurementId:"G-HEBTQLSXSS"}),{customToken:null,useEmulator:!1}),ycloud:{createPaymentUrl:"https://functions.yandexcloud.net/d4etek08ogs9n00jscqa"}}},4457:(gt,Ne,b)=>{"use strict";var f=b(2313),C=b(5e3),$=b(9808),ce=b(5908),x=b(948),H=b(3681);function j(k,g){if(1&k){const m=C.EpF();C.TgZ(0,"button",15),C.NdJ("click",function(){return C.CHM(m),C.oxw().loginButtonClick()}),C._UZ(1,"i",16),C._uU(2," \u0412\u043e\u0439\u0442\u0438"),C.qZA()}}function W(k,g){if(1&k&&(C.TgZ(0,"button",25),C._UZ(1,"img",26),C.TgZ(2,"span",27),C._uU(3,"\u0412\u043e\u0439\u0442\u0438"),C.qZA(),C.qZA()),2&k){const m=C.oxw();C.xp6(1),C.s9C("src",(null==m.auth?null:m.auth.photoURL)||"",C.LSH)}}function Z(k,g){1&k&&C._UZ(0,"i",28)}function z(k,g){1&k&&C._UZ(0,"i",28)}function q(k,g){1&k&&C._UZ(0,"i",28)}const te=function(){return[1,2,3,4,5]};let Te=(()=>{class k{constructor(m,A){this.authService=m,this.router=A,this.loading=!0,this.items=[{label:"\u0426\u0435\u043d\u044b",fragment:"prices",routerLink:"."}],this.authService.onAuthStateChanged(L=>this.onAuthStateChanged(L))}onAuthStateChanged(m){this.loading=!1,this.auth=m}loginButtonClick(){this.router.navigate(ce.i.LOGIN.navigationUrl())}}return k.\u0275fac=function(m){return new(m||k)(C.Y36(x.zQ),C.Y36(H.F0))},k.\u0275cmp=C.Xpm({type:k,selectors:[["ng-component"]],decls:115,vars:8,consts:[[1,"header"],[1,"header__logo"],[1,"header__items"],[1,"header__end"],["class","google-button","type","button",3,"click",4,"ngIf"],["class","google-button","type","button","routerLink","app",4,"ngIf"],[1,"grid","header"],[1,"col","title-container"],[1,"title"],[1,"col"],["alt","landing img","src","https://lib.umso.co/lib_CKYbESFHYFZfLgwR/9lfn7x6ni4uninae.svg","width","400px"],["id","prices",1,"grid","prices"],[1,"grid","prices","mt-3"],[1,"card","m-2"],[1,"pi","pi-check-square"],["type","button",1,"google-button",3,"click"],[1,"pi","pi-google"],[1,"grid","comments","mt-8"],[1,"grid","comments"],[1,"comment"],["class","pi pi-star-fill",4,"ngFor","ngForOf"],["href","https://twitter.com/elonmusk","target","_blank"],["href","https://autogear.ru/article/401/549/memyi-s-nikolasom-keydjem-zabavnyie-fotografii-i-skrinshotyi-iz-filmov/","target","_blank"],["href","https://www.youtube.com/watch?v=dQw4w9WgXcQ","target","_blank"],[1,"footer","mt-8"],["type","button","routerLink","app",1,"google-button"],["alt","logo",2,"width","1.5rem",3,"src"],[1,"ml-2","font-bold"],[1,"pi","pi-star-fill"]],template:function(m,A){1&m&&(C.TgZ(0,"div",0),C._UZ(1,"div",1),C._UZ(2,"div",2),C.TgZ(3,"div",3),C.YNc(4,j,3,0,"button",4),C.YNc(5,W,4,1,"button",5),C.qZA(),C.qZA(),C.TgZ(6,"div",6),C.TgZ(7,"div",7),C.TgZ(8,"div",8),C.TgZ(9,"h1"),C._uU(10,"CRM \u0434\u043b\u044f \u0432\u0430\u0448\u0435\u0433\u043e \u0431\u0438\u0437\u043d\u0435\u0441\u0430"),C.qZA(),C.TgZ(11,"p"),C._uU(12,"\u041f\u043e\u043c\u043e\u0436\u0435\u043c \u0432\u0435\u0441\u0442\u0438 \u0443\u0447\u0451\u0442 \u043a\u043b\u0438\u0435\u043d\u0442\u043e\u0432 \u0438 \u0432\u044b\u0440\u0443\u0447\u043a\u0438"),C.qZA(),C.qZA(),C.qZA(),C.TgZ(13,"div",9),C._UZ(14,"img",10),C.qZA(),C.qZA(),C.TgZ(15,"div",11),C.TgZ(16,"h1"),C._uU(17,"\u0426\u0435\u043d\u044b"),C.qZA(),C.qZA(),C.TgZ(18,"div",12),C.TgZ(19,"div",13),C.TgZ(20,"h1"),C._uU(21,"\u041d\u0430\u0447\u0438\u043d\u0430\u044e\u0449\u0438\u0439 \u043c\u0430\u0441\u0442\u0435\u0440"),C.qZA(),C.TgZ(22,"h2"),C._uU(23,"\u0414\u043e 20 \u043a\u043b\u0438\u0435\u043d\u0442\u043e\u0432"),C.qZA(),C.TgZ(24,"h1"),C._uU(25,"299\u0440/\u043c\u0435\u0441"),C.qZA(),C.TgZ(26,"ul"),C.TgZ(27,"li"),C._UZ(28,"i",14),C._uU(29,"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0437\u0430\u043f\u0438\u0441\u0435\u0439"),C.qZA(),C.TgZ(30,"li"),C._UZ(31,"i",14),C._uU(32,"\u0410\u043d\u0430\u043b\u0438\u0442\u0438\u043a\u0430"),C.qZA(),C.TgZ(33,"li"),C._UZ(34,"i",14),C._uU(35,"\u041d\u0430\u043f\u043e\u043c\u0438\u043d\u0430\u043d\u0438\u044f"),C.qZA(),C.qZA(),C.TgZ(36,"button",15),C.NdJ("click",function(){return A.loginButtonClick()}),C._UZ(37,"i",16),C._uU(38," \u0412\u043e\u0439\u0442\u0438"),C.qZA(),C.qZA(),C.TgZ(39,"div",13),C.TgZ(40,"h1"),C._uU(41,"\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0430\u044e\u0449\u0438\u0439 \u043c\u0430\u0441\u0442\u0435\u0440"),C.qZA(),C.TgZ(42,"h2"),C._uU(43,"\u0414\u043e 100 \u043a\u043b\u0438\u0435\u043d\u0442\u043e\u0432"),C.qZA(),C.TgZ(44,"h1"),C._uU(45,"399\u0440/\u043c\u0435\u0441"),C.qZA(),C.TgZ(46,"ul"),C.TgZ(47,"li"),C._UZ(48,"i",14),C._uU(49,"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0437\u0430\u043f\u0438\u0441\u0435\u0439"),C.qZA(),C.TgZ(50,"li"),C._UZ(51,"i",14),C._uU(52,"\u0410\u043d\u0430\u043b\u0438\u0442\u0438\u043a\u0430"),C.qZA(),C.TgZ(53,"li"),C._UZ(54,"i",14),C._uU(55,"\u041d\u0430\u043f\u043e\u043c\u0438\u043d\u0430\u043d\u0438\u044f"),C.qZA(),C.TgZ(56,"li"),C._UZ(57,"i",14),C._uU(58,"\u0414\u0440\u0443\u0433\u0438\u0435 \u043f\u043b\u044e\u0448\u043a\u0438"),C.qZA(),C.qZA(),C.TgZ(59,"button",15),C.NdJ("click",function(){return A.loginButtonClick()}),C._UZ(60,"i",16),C._uU(61," \u0412\u043e\u0439\u0442\u0438"),C.qZA(),C.qZA(),C.TgZ(62,"div",13),C.TgZ(63,"h1"),C._uU(64,"\u0421\u0443\u043f\u0435\u0440 \u043c\u0430\u0441\u0442\u0435\u0440"),C.qZA(),C.TgZ(65,"h2"),C._uU(66,"\u0414\u043e 1000 \u043a\u043b\u0438\u0435\u043d\u0442\u043e\u0432"),C.qZA(),C.TgZ(67,"h1"),C._uU(68,"999\u0440/\u043c\u0435\u0441"),C.qZA(),C.TgZ(69,"ul"),C.TgZ(70,"li"),C._UZ(71,"i",14),C._uU(72,"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0437\u0430\u043f\u0438\u0441\u0435\u0439"),C.qZA(),C.TgZ(73,"li"),C._UZ(74,"i",14),C._uU(75,"\u0410\u043d\u0430\u043b\u0438\u0442\u0438\u043a\u0430"),C.qZA(),C.TgZ(76,"li"),C._UZ(77,"i",14),C._uU(78,"\u041d\u0430\u043f\u043e\u043c\u0438\u043d\u0430\u043d\u0438\u044f"),C.qZA(),C.TgZ(79,"li"),C._UZ(80,"i",14),C._uU(81,"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u044b\u0435 \u043f\u043b\u044e\u0448\u043a\u0438"),C.qZA(),C.qZA(),C.TgZ(82,"button",15),C.NdJ("click",function(){return A.loginButtonClick()}),C._UZ(83,"i",16),C._uU(84," \u0412\u043e\u0439\u0442\u0438"),C.qZA(),C.qZA(),C.qZA(),C.TgZ(85,"div",17),C.TgZ(86,"h1"),C._uU(87,"\u041e \u043d\u0430\u0441 \u043f\u0438\u0448\u0443\u0442:"),C.qZA(),C.qZA(),C.TgZ(88,"div",18),C.TgZ(89,"div",19),C.TgZ(90,"div"),C.YNc(91,Z,1,0,"i",20),C._uU(92," (5/5) "),C.qZA(),C.TgZ(93,"p"),C._uU(94," \u042d\u0442\u043e \u043b\u0443\u0447\u0448\u0435\u0435 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u0434\u043b\u044f \u0447\u0430\u0441\u0442\u043d\u043e\u0433\u043e \u0431\u0438\u0437\u043d\u0435\u0441\u0430, \u043a\u043e\u0442\u043e\u0440\u044b\u043c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043b\u0441\u044f "),C.qZA(),C.TgZ(95,"a",21),C._uU(96,"\u0418\u043b\u043e\u043d \u041c\u0430\u0441\u043a, \u043e\u0441\u043d\u043e\u0432\u0430\u0442\u0435\u043b\u044c, CEO, \u0438 \u0413\u043b\u0430\u0432\u043d\u044b\u0439 \u0418\u043d\u0436\u0435\u043d\u0435\u0440 \u0432 SpaceX, CEO, \u0438 \u0410\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u043e\u0440 \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0430 \u0432 Tesla, Inc."),C.qZA(),C.qZA(),C.TgZ(97,"div",19),C.TgZ(98,"div"),C.YNc(99,z,1,0,"i",20),C._uU(100," (5/5) "),C.qZA(),C.TgZ(101,"p"),C._uU(102," \u041f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u043c\u0435\u043d\u044f \u0432\u0434\u043e\u0445\u043d\u043e\u0432\u0438\u043b\u043e \u0441\u043d\u044f\u0442\u044c\u0441\u044f \u0432 \u043d\u043e\u0432\u043e\u043c \u0444\u0438\u043b\u044c\u043c\u0435 \u042d\u043c \u041d\u0430\u0439\u0442 \u0428\u044c\u044f\u043c\u0430\u043b\u0430\u043d\u0430 "),C.qZA(),C.TgZ(103,"a",22),C._uU(104,"\u041d\u0438\u043a\u043e\u043b\u0430\u0441 \u041a\u0435\u0439\u0434\u0436, \u0430\u043c\u0435\u0440\u0438\u043a\u0430\u043d\u0441\u043a\u0438\u0439 \u0430\u043a\u0442\u0451\u0440 \u0438 \u0440\u0435\u0436\u0438\u0441\u0441\u0451\u0440"),C.qZA(),C.qZA(),C.TgZ(105,"div",19),C.TgZ(106,"div"),C.YNc(107,q,1,0,"i",20),C._uU(108," (5/5) "),C.qZA(),C.TgZ(109,"p"),C._uU(110," \u041e\u0447\u0435\u043d\u044c \u0443\u0434\u043e\u0431\u043d\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435\u043c! \u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u0438 \u0434\u0438\u0437\u0430\u0439\u043d \u043f\u0440\u043e\u0441\u0442\u043e \u0431\u0430\u0448\u043d\u044e \u0441\u043d\u043e\u0441\u0438\u0442! \u0412\u0441\u0435\u043c \u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u044e! "),C.qZA(),C.TgZ(111,"a",23),C._uU(112,"\u041a\u0443\u0440\u0442 \u041a\u043e\u0431\u0435\u0439\u043d, \u0430\u043c\u0435\u0440\u0438\u043a\u0430\u043d\u0441\u043a\u0438\u0439 \u043f\u0435\u0432\u0435\u0446, \u043a\u043e\u043c\u043f\u043e\u0437\u0438\u0442\u043e\u0440. \u0424\u0440\u043e\u043d\u0442\u043c\u0435\u043d \u0433\u0440\u0443\u043f\u043f\u044b Nirvana"),C.qZA(),C.qZA(),C.qZA(),C.TgZ(113,"div",24),C._uU(114,' \xa9 2022 "\u0440\u0430\u0431\u043e\u0447\u0435\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"\n'),C.qZA()),2&m&&(C.xp6(4),C.Q6J("ngIf",!A.auth),C.xp6(1),C.Q6J("ngIf",A.auth),C.xp6(86),C.Q6J("ngForOf",C.DdM(5,te)),C.xp6(8),C.Q6J("ngForOf",C.DdM(6,te)),C.xp6(8),C.Q6J("ngForOf",C.DdM(7,te)))},directives:[$.O5,$.sg,H.rH],styles:['.header[_ngcontent-%COMP%]{display:flex;width:100%;justify-content:space-between;padding:3px}.header[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;min-width:250px}.google-button[_ngcontent-%COMP%]{background:#DC2626;color:#fff;border-color:#dc2626;font-size:1rem;transition:background-color .2s,color .2s,border-color .2s,box-shadow .2s;border-radius:6px;margin:0;padding:6px;display:inline-flex;cursor:pointer;-webkit-user-select:none;user-select:none;align-items:center;vertical-align:bottom;text-align:center}.prices[_ngcontent-%COMP%]{justify-content:center;grid-gap:20px;gap:20px}.prices[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{width:270px;background:#ffffff;color:#495057;box-shadow:0 2px 1px -1px #0003,0 1px 1px #00000024,0 1px 3px #0000001f;border-radius:6px;padding:15px}.prices[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700}.prices[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-weight:400;margin-bottom:.5rem;font-size:1rem;color:#6c757d}.prices[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding:0}.prices[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex}.prices[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:green}[_nghost-%COMP%]{font-family:Inter,ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol,"Noto Color Emoji";font-size:1rem;font-weight:400;color:#495057}[_nghost-%COMP%]   .p-button-google[_ngcontent-%COMP%]{background-color:red}[_nghost-%COMP%]   .grid[_ngcontent-%COMP%]{margin:0}[_nghost-%COMP%]   .title-container[_ngcontent-%COMP%]{align-items:center;display:flex;padding:50px}[_nghost-%COMP%]     .p-menubar, [_nghost-%COMP%]   .header[_ngcontent-%COMP%]{background-color:var(--blue-100)}[_nghost-%COMP%]     .p-menubar{border:none;border-radius:0}[_nghost-%COMP%]     .p-menubar .p-button{padding:6px}[_nghost-%COMP%]     .p-menubar .p-button img{border-radius:15px}[_nghost-%COMP%]   .comments[_ngcontent-%COMP%]{justify-content:center;grid-gap:20px;gap:20px}[_nghost-%COMP%]   .comments[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]{width:300px;height:100%}[_nghost-%COMP%]   .comments[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#e2e227;margin-right:1px}[_nghost-%COMP%]   .comments[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:8pt}[_nghost-%COMP%]   .footer[_ngcontent-%COMP%]{padding:20px 10px;background-color:#eaeaea}']}),k})();var Ae=b(7773);const Ye=function(){return{width:"96%",right:"2%",left:"2%"}},Ze=function(k){return{"500px":k}};let ue=(()=>{class k{constructor(){}}return k.\u0275fac=function(m){return new(m||k)},k.\u0275cmp=C.Xpm({type:k,selectors:[["app"]],decls:2,vars:5,consts:[[3,"breakpoints","preventDuplicates"]],template:function(m,A){1&m&&(C._UZ(0,"router-outlet"),C._UZ(1,"p-toast",0)),2&m&&(C.xp6(1),C.Q6J("breakpoints",C.VKq(3,Ze,C.DdM(2,Ye)))("preventDuplicates",!0))},directives:[H.lC,Ae.FN],encapsulation:2}),k})();var de=b(2011),Ie=b(843),me=b(1777);function G(){return"undefined"!=typeof window&&void 0!==window.document}function w(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function ae(k){switch(k.length){case 0:return new me.ZN;case 1:return k[0];default:return new me.ZE(k)}}function re(k,g,m,A,L={},ne={}){const Ee=[],Re=[];let Je=-1,at=null;if(A.forEach(Rt=>{const Nt=Rt.offset,Gt=Nt==Je,Qt=Gt&&at||{};Object.keys(Rt).forEach(an=>{let mn=an,cn=Rt[an];if("offset"!==an)switch(mn=g.normalizePropertyName(mn,Ee),cn){case me.k1:cn=L[an];break;case me.l3:cn=ne[an];break;default:cn=g.normalizeStyleValue(an,mn,cn,Ee)}Qt[mn]=cn}),Gt||Re.push(Qt),at=Qt,Je=Nt}),Ee.length){const Rt="\n - ";throw new Error(`Unable to animate due to the following errors:${Rt}${Ee.join(Rt)}`)}return Re}function we(k,g,m,A){switch(g){case"start":k.onStart(()=>A(m&&Fe(m,"start",k)));break;case"done":k.onDone(()=>A(m&&Fe(m,"done",k)));break;case"destroy":k.onDestroy(()=>A(m&&Fe(m,"destroy",k)))}}function Fe(k,g,m){const A=m.totalTime,ne=le(k.element,k.triggerName,k.fromState,k.toState,g||k.phaseName,null==A?k.totalTime:A,!!m.disabled),Ee=k._data;return null!=Ee&&(ne._data=Ee),ne}function le(k,g,m,A,L="",ne=0,Ee){return{element:k,triggerName:g,fromState:m,toState:A,phaseName:L,totalTime:ne,disabled:!!Ee}}function ge(k,g,m){let A;return k instanceof Map?(A=k.get(g),A||k.set(g,A=m)):(A=k[g],A||(A=k[g]=m)),A}function ye(k){const g=k.indexOf(":");return[k.substring(1,g),k.substr(g+1)]}let _e=(k,g)=>!1,He=(k,g,m)=>[];(w()||"undefined"!=typeof Element)&&(_e=G()?(k,g)=>{for(;g&&g!==document.documentElement;){if(g===k)return!0;g=g.parentNode||g.host}return!1}:(k,g)=>k.contains(g),He=(k,g,m)=>{let A=[];if(m){const L=k.querySelectorAll(g);for(let ne=0;ne<L.length;ne++)A.push(L[ne])}else{const L=k.querySelector(g);L&&A.push(L)}return A});let It=null,Ht=!1;function it(k){It||(It=("undefined"!=typeof document?document.body:null)||{},Ht=!!It.style&&"WebkitAppearance"in It.style);let g=!0;return It.style&&!function(k){return"ebkit"==k.substring(1,6)}(k)&&(g=k in It.style,!g&&Ht&&(g="Webkit"+k.charAt(0).toUpperCase()+k.substr(1)in It.style)),g}const xt=_e,tn=He;function Hn(k){const g={};return Object.keys(k).forEach(m=>{const A=m.replace(/([a-z])([A-Z])/g,"$1-$2");g[A]=k[m]}),g}let Cn=(()=>{class k{validateStyleProperty(m){return it(m)}matchesElement(m,A){return!1}containsElement(m,A){return xt(m,A)}query(m,A,L){return tn(m,A,L)}computeStyle(m,A,L){return L||""}animate(m,A,L,ne,Ee,Re=[],Je){return new me.ZN(L,ne)}}return k.\u0275fac=function(m){return new(m||k)},k.\u0275prov=C.Yz7({token:k,factory:k.\u0275fac}),k})(),Bn=(()=>{class k{}return k.NOOP=new Cn,k})();const er="ng-enter",tr="ng-leave",Gn="ng-trigger",cr=".ng-trigger",Pn="ng-animating",bn=".ng-animating";function Vn(k){if("number"==typeof k)return k;const g=k.match(/^(-?[\.\d]+)(m?s)/);return!g||g.length<2?0:nn(parseFloat(g[1]),g[2])}function nn(k,g){return"s"===g?1e3*k:k}function Xt(k,g,m){return k.hasOwnProperty("duration")?k:function(k,g,m){let L,ne=0,Ee="";if("string"==typeof k){const Re=k.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===Re)return g.push(`The provided timing value "${k}" is invalid.`),{duration:0,delay:0,easing:""};L=nn(parseFloat(Re[1]),Re[2]);const Je=Re[3];null!=Je&&(ne=nn(parseFloat(Je),Re[4]));const at=Re[5];at&&(Ee=at)}else L=k;if(!m){let Re=!1,Je=g.length;L<0&&(g.push("Duration values below 0 are not allowed for this animation step."),Re=!0),ne<0&&(g.push("Delay values below 0 are not allowed for this animation step."),Re=!0),Re&&g.splice(Je,0,`The provided timing value "${k}" is invalid.`)}return{duration:L,delay:ne,easing:Ee}}(k,g,m)}function rr(k,g={}){return Object.keys(k).forEach(m=>{g[m]=k[m]}),g}function Kt(k,g,m={}){if(g)for(let A in k)m[A]=k[A];else rr(k,m);return m}function en(k,g,m){return m?g+":"+m+";":""}function un(k){let g="";for(let m=0;m<k.style.length;m++){const A=k.style.item(m);g+=en(0,A,k.style.getPropertyValue(A))}for(const m in k.style)k.style.hasOwnProperty(m)&&!m.startsWith("_")&&(g+=en(0,Nr(m),k.style[m]));k.setAttribute("style",g)}function Zt(k,g,m){k.style&&(Object.keys(g).forEach(A=>{const L=ur(A);m&&!m.hasOwnProperty(A)&&(m[A]=k.style[L]),k.style[L]=g[A]}),w()&&un(k))}function jn(k,g){k.style&&(Object.keys(g).forEach(m=>{const A=ur(m);k.style[A]=""}),w()&&un(k))}function yn(k){return Array.isArray(k)?1==k.length?k[0]:(0,me.vP)(k):k}const jt=new RegExp("{{\\s*(.+?)\\s*}}","g");function _n(k){let g=[];if("string"==typeof k){let m;for(;m=jt.exec(k);)g.push(m[1]);jt.lastIndex=0}return g}function sr(k,g,m){const A=k.toString(),L=A.replace(jt,(ne,Ee)=>{let Re=g[Ee];return g.hasOwnProperty(Ee)||(m.push(`Please provide a value for the animation param ${Ee}`),Re=""),Re.toString()});return L==A?k:L}function Tr(k){const g=[];let m=k.next();for(;!m.done;)g.push(m.value),m=k.next();return g}const Fn=/-+([a-z0-9])/g;function ur(k){return k.replace(Fn,(...g)=>g[1].toUpperCase())}function Nr(k){return k.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function xe(k,g){return 0===k||0===g}function Me(k,g,m){const A=Object.keys(m);if(A.length&&g.length){let ne=g[0],Ee=[];if(A.forEach(Re=>{ne.hasOwnProperty(Re)||Ee.push(Re),ne[Re]=m[Re]}),Ee.length)for(var L=1;L<g.length;L++){let Re=g[L];Ee.forEach(function(Je){Re[Je]=V(k,Je)})}}return g}function he(k,g,m){switch(g.type){case 7:return k.visitTrigger(g,m);case 0:return k.visitState(g,m);case 1:return k.visitTransition(g,m);case 2:return k.visitSequence(g,m);case 3:return k.visitGroup(g,m);case 4:return k.visitAnimate(g,m);case 5:return k.visitKeyframes(g,m);case 6:return k.visitStyle(g,m);case 8:return k.visitReference(g,m);case 9:return k.visitAnimateChild(g,m);case 10:return k.visitAnimateRef(g,m);case 11:return k.visitQuery(g,m);case 12:return k.visitStagger(g,m);default:throw new Error(`Unable to resolve animation metadata node #${g.type}`)}}function V(k,g){return window.getComputedStyle(k)[g]}const K="*";function ze(k,g){const m=[];return"string"==typeof k?k.split(/\s*,\s*/).forEach(A=>function(k,g,m){if(":"==k[0]){const Je=function(k,g){switch(k){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(m,A)=>parseFloat(A)>parseFloat(m);case":decrement":return(m,A)=>parseFloat(A)<parseFloat(m);default:return g.push(`The transition alias value "${k}" is not supported`),"* => *"}}(k,m);if("function"==typeof Je)return void g.push(Je);k=Je}const A=k.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==A||A.length<4)return m.push(`The provided transition expression "${k}" is not supported`),g;const L=A[1],ne=A[2],Ee=A[3];g.push(Dt(L,Ee));"<"==ne[0]&&!(L==K&&Ee==K)&&g.push(Dt(Ee,L))}(A,m,g)):m.push(k),m}const st=new Set(["true","1"]),vt=new Set(["false","0"]);function Dt(k,g){const m=st.has(k)||vt.has(k),A=st.has(g)||vt.has(g);return(L,ne)=>{let Ee=k==K||k==L,Re=g==K||g==ne;return!Ee&&m&&"boolean"==typeof L&&(Ee=L?st.has(k):vt.has(k)),!Re&&A&&"boolean"==typeof ne&&(Re=ne?st.has(g):vt.has(g)),Ee&&Re}}const St=new RegExp("s*:selfs*,?","g");function rn(k,g,m){return new Ue(k).build(g,m)}class Ue{constructor(g){this._driver=g}build(g,m){const A=new Ve(m);return this._resetContextStyleTimingState(A),he(this,yn(g),A)}_resetContextStyleTimingState(g){g.currentQuerySelector="",g.collectedStyles={},g.collectedStyles[""]={},g.currentTime=0}visitTrigger(g,m){let A=m.queryCount=0,L=m.depCount=0;const ne=[],Ee=[];return"@"==g.name.charAt(0)&&m.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),g.definitions.forEach(Re=>{if(this._resetContextStyleTimingState(m),0==Re.type){const Je=Re,at=Je.name;at.toString().split(/\s*,\s*/).forEach(Rt=>{Je.name=Rt,ne.push(this.visitState(Je,m))}),Je.name=at}else if(1==Re.type){const Je=this.visitTransition(Re,m);A+=Je.queryCount,L+=Je.depCount,Ee.push(Je)}else m.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:g.name,states:ne,transitions:Ee,queryCount:A,depCount:L,options:null}}visitState(g,m){const A=this.visitStyle(g.styles,m),L=g.options&&g.options.params||null;if(A.containsDynamicStyles){const ne=new Set,Ee=L||{};if(A.styles.forEach(Re=>{if($t(Re)){const Je=Re;Object.keys(Je).forEach(at=>{_n(Je[at]).forEach(Rt=>{Ee.hasOwnProperty(Rt)||ne.add(Rt)})})}}),ne.size){const Re=Tr(ne.values());m.errors.push(`state("${g.name}", ...) must define default values for all the following style substitutions: ${Re.join(", ")}`)}}return{type:0,name:g.name,style:A,options:L?{params:L}:null}}visitTransition(g,m){m.queryCount=0,m.depCount=0;const A=he(this,yn(g.animation),m);return{type:1,matchers:ze(g.expr,m.errors),animation:A,queryCount:m.queryCount,depCount:m.depCount,options:En(g.options)}}visitSequence(g,m){return{type:2,steps:g.steps.map(A=>he(this,A,m)),options:En(g.options)}}visitGroup(g,m){const A=m.currentTime;let L=0;const ne=g.steps.map(Ee=>{m.currentTime=A;const Re=he(this,Ee,m);return L=Math.max(L,m.currentTime),Re});return m.currentTime=L,{type:3,steps:ne,options:En(g.options)}}visitAnimate(g,m){const A=function(k,g){let m=null;if(k.hasOwnProperty("duration"))m=k;else if("number"==typeof k)return lr(Xt(k,g).duration,0,"");const A=k;if(A.split(/\s+/).some(ne=>"{"==ne.charAt(0)&&"{"==ne.charAt(1))){const ne=lr(0,0,"");return ne.dynamic=!0,ne.strValue=A,ne}return m=m||Xt(A,g),lr(m.duration,m.delay,m.easing)}(g.timings,m.errors);m.currentAnimateTimings=A;let L,ne=g.styles?g.styles:(0,me.oB)({});if(5==ne.type)L=this.visitKeyframes(ne,m);else{let Ee=g.styles,Re=!1;if(!Ee){Re=!0;const at={};A.easing&&(at.easing=A.easing),Ee=(0,me.oB)(at)}m.currentTime+=A.duration+A.delay;const Je=this.visitStyle(Ee,m);Je.isEmptyStep=Re,L=Je}return m.currentAnimateTimings=null,{type:4,timings:A,style:L,options:null}}visitStyle(g,m){const A=this._makeStyleAst(g,m);return this._validateStyleAst(A,m),A}_makeStyleAst(g,m){const A=[];Array.isArray(g.styles)?g.styles.forEach(Ee=>{"string"==typeof Ee?Ee==me.l3?A.push(Ee):m.errors.push(`The provided style string value ${Ee} is not allowed.`):A.push(Ee)}):A.push(g.styles);let L=!1,ne=null;return A.forEach(Ee=>{if($t(Ee)){const Re=Ee,Je=Re.easing;if(Je&&(ne=Je,delete Re.easing),!L)for(let at in Re)if(Re[at].toString().indexOf("{{")>=0){L=!0;break}}}),{type:6,styles:A,easing:ne,offset:g.offset,containsDynamicStyles:L,options:null}}_validateStyleAst(g,m){const A=m.currentAnimateTimings;let L=m.currentTime,ne=m.currentTime;A&&ne>0&&(ne-=A.duration+A.delay),g.styles.forEach(Ee=>{"string"!=typeof Ee&&Object.keys(Ee).forEach(Re=>{if(!this._driver.validateStyleProperty(Re))return void m.errors.push(`The provided animation property "${Re}" is not a supported CSS property for animations`);const Je=m.collectedStyles[m.currentQuerySelector],at=Je[Re];let Rt=!0;at&&(ne!=L&&ne>=at.startTime&&L<=at.endTime&&(m.errors.push(`The CSS property "${Re}" that exists between the times of "${at.startTime}ms" and "${at.endTime}ms" is also being animated in a parallel animation between the times of "${ne}ms" and "${L}ms"`),Rt=!1),ne=at.startTime),Rt&&(Je[Re]={startTime:ne,endTime:L}),m.options&&function(k,g,m){const A=g.params||{},L=_n(k);L.length&&L.forEach(ne=>{A.hasOwnProperty(ne)||m.push(`Unable to resolve the local animation param ${ne} in the given list of values`)})}(Ee[Re],m.options,m.errors)})})}visitKeyframes(g,m){const A={type:5,styles:[],options:null};if(!m.currentAnimateTimings)return m.errors.push("keyframes() must be placed inside of a call to animate()"),A;let ne=0;const Ee=[];let Re=!1,Je=!1,at=0;const Rt=g.steps.map(fr=>{const Lr=this._makeStyleAst(fr,m);let yr=null!=Lr.offset?Lr.offset:function(k){if("string"==typeof k)return null;let g=null;if(Array.isArray(k))k.forEach(m=>{if($t(m)&&m.hasOwnProperty("offset")){const A=m;g=parseFloat(A.offset),delete A.offset}});else if($t(k)&&k.hasOwnProperty("offset")){const m=k;g=parseFloat(m.offset),delete m.offset}return g}(Lr.styles),ui=0;return null!=yr&&(ne++,ui=Lr.offset=yr),Je=Je||ui<0||ui>1,Re=Re||ui<at,at=ui,Ee.push(ui),Lr});Je&&m.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),Re&&m.errors.push("Please ensure that all keyframe offsets are in order");const Nt=g.steps.length;let Gt=0;ne>0&&ne<Nt?m.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==ne&&(Gt=1/(Nt-1));const Qt=Nt-1,an=m.currentTime,mn=m.currentAnimateTimings,cn=mn.duration;return Rt.forEach((fr,Lr)=>{const yr=Gt>0?Lr==Qt?1:Gt*Lr:Ee[Lr],ui=yr*cn;m.currentTime=an+mn.delay+ui,mn.duration=ui,this._validateStyleAst(fr,m),fr.offset=yr,A.styles.push(fr)}),A}visitReference(g,m){return{type:8,animation:he(this,yn(g.animation),m),options:En(g.options)}}visitAnimateChild(g,m){return m.depCount++,{type:9,options:En(g.options)}}visitAnimateRef(g,m){return{type:10,animation:this.visitReference(g.animation,m),options:En(g.options)}}visitQuery(g,m){const A=m.currentQuerySelector,L=g.options||{};m.queryCount++,m.currentQuery=g;const[ne,Ee]=function(k){const g=!!k.split(/\s*,\s*/).find(m=>":self"==m);return g&&(k=k.replace(St,"")),k=k.replace(/@\*/g,cr).replace(/@\w+/g,m=>cr+"-"+m.substr(1)).replace(/:animating/g,bn),[k,g]}(g.selector);m.currentQuerySelector=A.length?A+" "+ne:ne,ge(m.collectedStyles,m.currentQuerySelector,{});const Re=he(this,yn(g.animation),m);return m.currentQuery=null,m.currentQuerySelector=A,{type:11,selector:ne,limit:L.limit||0,optional:!!L.optional,includeSelf:Ee,animation:Re,originalSelector:g.selector,options:En(g.options)}}visitStagger(g,m){m.currentQuery||m.errors.push("stagger() can only be used inside of query()");const A="full"===g.timings?{duration:0,delay:0,easing:"full"}:Xt(g.timings,m.errors,!0);return{type:12,animation:he(this,yn(g.animation),m),timings:A,options:null}}}class Ve{constructor(g){this.errors=g,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function $t(k){return!Array.isArray(k)&&"object"==typeof k}function En(k){return k?(k=rr(k)).params&&(k.params=function(k){return k?rr(k):null}(k.params)):k={},k}function lr(k,g,m){return{duration:k,delay:g,easing:m}}function ii(k,g,m,A,L,ne,Ee=null,Re=!1){return{type:1,element:k,keyframes:g,preStyleProps:m,postStyleProps:A,duration:L,delay:ne,totalTime:L+ne,easing:Ee,subTimeline:Re}}class Ur{constructor(){this._map=new Map}get(g){return this._map.get(g)||[]}append(g,m){let A=this._map.get(g);A||this._map.set(g,A=[]),A.push(...m)}has(g){return this._map.has(g)}clear(){this._map.clear()}}const _r=new RegExp(":enter","g"),nr=new RegExp(":leave","g");function be(k,g,m,A,L,ne={},Ee={},Re,Je,at=[]){return(new Xe).buildKeyframes(k,g,m,A,L,ne,Ee,Re,Je,at)}class Xe{buildKeyframes(g,m,A,L,ne,Ee,Re,Je,at,Rt=[]){at=at||new Ur;const Nt=new Vt(g,m,at,L,ne,Rt,[]);Nt.options=Je,Nt.currentTimeline.setStyles([Ee],null,Nt.errors,Je),he(this,A,Nt);const Gt=Nt.timelines.filter(Qt=>Qt.containsAnimation());if(Gt.length&&Object.keys(Re).length){const Qt=Gt[Gt.length-1];Qt.allowOnlyTimelineStyles()||Qt.setStyles([Re],null,Nt.errors,Je)}return Gt.length?Gt.map(Qt=>Qt.buildKeyframes()):[ii(m,[],[],[],0,0,"",!1)]}visitTrigger(g,m){}visitState(g,m){}visitTransition(g,m){}visitAnimateChild(g,m){const A=m.subInstructions.get(m.element);if(A){const L=m.createSubContext(g.options),ne=m.currentTimeline.currentTime,Ee=this._visitSubInstructions(A,L,L.options);ne!=Ee&&m.transformIntoNewTimeline(Ee)}m.previousNode=g}visitAnimateRef(g,m){const A=m.createSubContext(g.options);A.transformIntoNewTimeline(),this.visitReference(g.animation,A),m.transformIntoNewTimeline(A.currentTimeline.currentTime),m.previousNode=g}_visitSubInstructions(g,m,A){let ne=m.currentTimeline.currentTime;const Ee=null!=A.duration?Vn(A.duration):null,Re=null!=A.delay?Vn(A.delay):null;return 0!==Ee&&g.forEach(Je=>{const at=m.appendInstructionToTimeline(Je,Ee,Re);ne=Math.max(ne,at.duration+at.delay)}),ne}visitReference(g,m){m.updateOptions(g.options,!0),he(this,g.animation,m),m.previousNode=g}visitSequence(g,m){const A=m.subContextCount;let L=m;const ne=g.options;if(ne&&(ne.params||ne.delay)&&(L=m.createSubContext(ne),L.transformIntoNewTimeline(),null!=ne.delay)){6==L.previousNode.type&&(L.currentTimeline.snapshotCurrentStyles(),L.previousNode=dt);const Ee=Vn(ne.delay);L.delayNextStep(Ee)}g.steps.length&&(g.steps.forEach(Ee=>he(this,Ee,L)),L.currentTimeline.applyStylesToKeyframe(),L.subContextCount>A&&L.transformIntoNewTimeline()),m.previousNode=g}visitGroup(g,m){const A=[];let L=m.currentTimeline.currentTime;const ne=g.options&&g.options.delay?Vn(g.options.delay):0;g.steps.forEach(Ee=>{const Re=m.createSubContext(g.options);ne&&Re.delayNextStep(ne),he(this,Ee,Re),L=Math.max(L,Re.currentTimeline.currentTime),A.push(Re.currentTimeline)}),A.forEach(Ee=>m.currentTimeline.mergeTimelineCollectedStyles(Ee)),m.transformIntoNewTimeline(L),m.previousNode=g}_visitTiming(g,m){if(g.dynamic){const A=g.strValue;return Xt(m.params?sr(A,m.params,m.errors):A,m.errors)}return{duration:g.duration,delay:g.delay,easing:g.easing}}visitAnimate(g,m){const A=m.currentAnimateTimings=this._visitTiming(g.timings,m),L=m.currentTimeline;A.delay&&(m.incrementTime(A.delay),L.snapshotCurrentStyles());const ne=g.style;5==ne.type?this.visitKeyframes(ne,m):(m.incrementTime(A.duration),this.visitStyle(ne,m),L.applyStylesToKeyframe()),m.currentAnimateTimings=null,m.previousNode=g}visitStyle(g,m){const A=m.currentTimeline,L=m.currentAnimateTimings;!L&&A.getCurrentStyleProperties().length&&A.forwardFrame();const ne=L&&L.easing||g.easing;g.isEmptyStep?A.applyEmptyStep(ne):A.setStyles(g.styles,ne,m.errors,m.options),m.previousNode=g}visitKeyframes(g,m){const A=m.currentAnimateTimings,L=m.currentTimeline.duration,ne=A.duration,Re=m.createSubContext().currentTimeline;Re.easing=A.easing,g.styles.forEach(Je=>{Re.forwardTime((Je.offset||0)*ne),Re.setStyles(Je.styles,Je.easing,m.errors,m.options),Re.applyStylesToKeyframe()}),m.currentTimeline.mergeTimelineCollectedStyles(Re),m.transformIntoNewTimeline(L+ne),m.previousNode=g}visitQuery(g,m){const A=m.currentTimeline.currentTime,L=g.options||{},ne=L.delay?Vn(L.delay):0;ne&&(6===m.previousNode.type||0==A&&m.currentTimeline.getCurrentStyleProperties().length)&&(m.currentTimeline.snapshotCurrentStyles(),m.previousNode=dt);let Ee=A;const Re=m.invokeQuery(g.selector,g.originalSelector,g.limit,g.includeSelf,!!L.optional,m.errors);m.currentQueryTotal=Re.length;let Je=null;Re.forEach((at,Rt)=>{m.currentQueryIndex=Rt;const Nt=m.createSubContext(g.options,at);ne&&Nt.delayNextStep(ne),at===m.element&&(Je=Nt.currentTimeline),he(this,g.animation,Nt),Nt.currentTimeline.applyStylesToKeyframe(),Ee=Math.max(Ee,Nt.currentTimeline.currentTime)}),m.currentQueryIndex=0,m.currentQueryTotal=0,m.transformIntoNewTimeline(Ee),Je&&(m.currentTimeline.mergeTimelineCollectedStyles(Je),m.currentTimeline.snapshotCurrentStyles()),m.previousNode=g}visitStagger(g,m){const A=m.parentContext,L=m.currentTimeline,ne=g.timings,Ee=Math.abs(ne.duration),Re=Ee*(m.currentQueryTotal-1);let Je=Ee*m.currentQueryIndex;switch(ne.duration<0?"reverse":ne.easing){case"reverse":Je=Re-Je;break;case"full":Je=A.currentStaggerTime}const Rt=m.currentTimeline;Je&&Rt.delayNextStep(Je);const Nt=Rt.currentTime;he(this,g.animation,m),m.previousNode=g,A.currentStaggerTime=L.currentTime-Nt+(L.startTime-A.currentTimeline.startTime)}}const dt={};class Vt{constructor(g,m,A,L,ne,Ee,Re,Je){this._driver=g,this.element=m,this.subInstructions=A,this._enterClassName=L,this._leaveClassName=ne,this.errors=Ee,this.timelines=Re,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=dt,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=Je||new Qn(this._driver,m,0),Re.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(g,m){if(!g)return;const A=g;let L=this.options;null!=A.duration&&(L.duration=Vn(A.duration)),null!=A.delay&&(L.delay=Vn(A.delay));const ne=A.params;if(ne){let Ee=L.params;Ee||(Ee=this.options.params={}),Object.keys(ne).forEach(Re=>{(!m||!Ee.hasOwnProperty(Re))&&(Ee[Re]=sr(ne[Re],Ee,this.errors))})}}_copyOptions(){const g={};if(this.options){const m=this.options.params;if(m){const A=g.params={};Object.keys(m).forEach(L=>{A[L]=m[L]})}}return g}createSubContext(g=null,m,A){const L=m||this.element,ne=new Vt(this._driver,L,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(L,A||0));return ne.previousNode=this.previousNode,ne.currentAnimateTimings=this.currentAnimateTimings,ne.options=this._copyOptions(),ne.updateOptions(g),ne.currentQueryIndex=this.currentQueryIndex,ne.currentQueryTotal=this.currentQueryTotal,ne.parentContext=this,this.subContextCount++,ne}transformIntoNewTimeline(g){return this.previousNode=dt,this.currentTimeline=this.currentTimeline.fork(this.element,g),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(g,m,A){const L={duration:null!=m?m:g.duration,delay:this.currentTimeline.currentTime+(null!=A?A:0)+g.delay,easing:""},ne=new dn(this._driver,g.element,g.keyframes,g.preStyleProps,g.postStyleProps,L,g.stretchStartingKeyframe);return this.timelines.push(ne),L}incrementTime(g){this.currentTimeline.forwardTime(this.currentTimeline.duration+g)}delayNextStep(g){g>0&&this.currentTimeline.delayNextStep(g)}invokeQuery(g,m,A,L,ne,Ee){let Re=[];if(L&&Re.push(this.element),g.length>0){g=(g=g.replace(_r,"."+this._enterClassName)).replace(nr,"."+this._leaveClassName);let at=this._driver.query(this.element,g,1!=A);0!==A&&(at=A<0?at.slice(at.length+A,at.length):at.slice(0,A)),Re.push(...at)}return!ne&&0==Re.length&&Ee.push(`\`query("${m}")\` returned zero elements. (Use \`query("${m}", { optional: true })\` if you wish to allow this.)`),Re}}class Qn{constructor(g,m,A,L){this._driver=g,this.element=m,this.startTime=A,this._elementTimelineStylesLookup=L,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(m),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(m,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(g){const m=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||m?(this.forwardTime(this.currentTime+g),m&&this.snapshotCurrentStyles()):this.startTime+=g}fork(g,m){return this.applyStylesToKeyframe(),new Qn(this._driver,g,m||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(g){this.applyStylesToKeyframe(),this.duration=g,this._loadKeyframe()}_updateStyle(g,m){this._localTimelineStyles[g]=m,this._globalTimelineStyles[g]=m,this._styleSummary[g]={time:this.currentTime,value:m}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(g){g&&(this._previousKeyframe.easing=g),Object.keys(this._globalTimelineStyles).forEach(m=>{this._backFill[m]=this._globalTimelineStyles[m]||me.l3,this._currentKeyframe[m]=me.l3}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(g,m,A,L){m&&(this._previousKeyframe.easing=m);const ne=L&&L.params||{},Ee=function(k,g){const m={};let A;return k.forEach(L=>{"*"===L?(A=A||Object.keys(g),A.forEach(ne=>{m[ne]=me.l3})):Kt(L,!1,m)}),m}(g,this._globalTimelineStyles);Object.keys(Ee).forEach(Re=>{const Je=sr(Ee[Re],ne,A);this._pendingStyles[Re]=Je,this._localTimelineStyles.hasOwnProperty(Re)||(this._backFill[Re]=this._globalTimelineStyles.hasOwnProperty(Re)?this._globalTimelineStyles[Re]:me.l3),this._updateStyle(Re,Je)})}applyStylesToKeyframe(){const g=this._pendingStyles,m=Object.keys(g);0!=m.length&&(this._pendingStyles={},m.forEach(A=>{this._currentKeyframe[A]=g[A]}),Object.keys(this._localTimelineStyles).forEach(A=>{this._currentKeyframe.hasOwnProperty(A)||(this._currentKeyframe[A]=this._localTimelineStyles[A])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(g=>{const m=this._localTimelineStyles[g];this._pendingStyles[g]=m,this._updateStyle(g,m)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const g=[];for(let m in this._currentKeyframe)g.push(m);return g}mergeTimelineCollectedStyles(g){Object.keys(g._styleSummary).forEach(m=>{const A=this._styleSummary[m],L=g._styleSummary[m];(!A||L.time>A.time)&&this._updateStyle(m,L.value)})}buildKeyframes(){this.applyStylesToKeyframe();const g=new Set,m=new Set,A=1===this._keyframes.size&&0===this.duration;let L=[];this._keyframes.forEach((Re,Je)=>{const at=Kt(Re,!0);Object.keys(at).forEach(Rt=>{const Nt=at[Rt];Nt==me.k1?g.add(Rt):Nt==me.l3&&m.add(Rt)}),A||(at.offset=Je/this.duration),L.push(at)});const ne=g.size?Tr(g.values()):[],Ee=m.size?Tr(m.values()):[];if(A){const Re=L[0],Je=rr(Re);Re.offset=0,Je.offset=1,L=[Re,Je]}return ii(this.element,L,ne,Ee,this.duration,this.startTime,this.easing,!1)}}class dn extends Qn{constructor(g,m,A,L,ne,Ee,Re=!1){super(g,m,Ee.delay),this.keyframes=A,this.preStyleProps=L,this.postStyleProps=ne,this._stretchStartingKeyframe=Re,this.timings={duration:Ee.duration,delay:Ee.delay,easing:Ee.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let g=this.keyframes,{delay:m,duration:A,easing:L}=this.timings;if(this._stretchStartingKeyframe&&m){const ne=[],Ee=A+m,Re=m/Ee,Je=Kt(g[0],!1);Je.offset=0,ne.push(Je);const at=Kt(g[0],!1);at.offset=Jn(Re),ne.push(at);const Rt=g.length-1;for(let Nt=1;Nt<=Rt;Nt++){let Gt=Kt(g[Nt],!1);Gt.offset=Jn((m+Gt.offset*A)/Ee),ne.push(Gt)}A=Ee,m=0,L="",g=ne}return ii(this.element,g,this.preStyleProps,this.postStyleProps,A,m,L,!0)}}function Jn(k,g=3){const m=Math.pow(10,g-1);return Math.round(k*m)/m}class xi{}class ss extends xi{normalizePropertyName(g,m){return ur(g)}normalizeStyleValue(g,m,A,L){let ne="";const Ee=A.toString().trim();if(Oi[m]&&0!==A&&"0"!==A)if("number"==typeof A)ne="px";else{const Re=A.match(/^[+-]?[\d\.]+([a-z]*)$/);Re&&0==Re[1].length&&L.push(`Please provide a CSS unit value for ${g}:${A}`)}return Ee+ne}}const Oi=(()=>function(k){const g={};return k.forEach(m=>g[m]=!0),g}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function Zr(k,g,m,A,L,ne,Ee,Re,Je,at,Rt,Nt,Gt){return{type:0,element:k,triggerName:g,isRemovalTransition:L,fromState:m,fromStyles:ne,toState:A,toStyles:Ee,timelines:Re,queriedElements:Je,preStyleProps:at,postStyleProps:Rt,totalTime:Nt,errors:Gt}}const Rr={};class Mr{constructor(g,m,A){this._triggerName=g,this.ast=m,this._stateStyles=A}match(g,m,A,L){return function(k,g,m,A,L){return k.some(ne=>ne(g,m,A,L))}(this.ast.matchers,g,m,A,L)}buildStyles(g,m,A){const L=this._stateStyles["*"],ne=this._stateStyles[g],Ee=L?L.buildStyles(m,A):{};return ne?ne.buildStyles(m,A):Ee}build(g,m,A,L,ne,Ee,Re,Je,at,Rt){const Nt=[],Gt=this.ast.options&&this.ast.options.params||Rr,an=this.buildStyles(A,Re&&Re.params||Rr,Nt),mn=Je&&Je.params||Rr,cn=this.buildStyles(L,mn,Nt),fr=new Set,Lr=new Map,yr=new Map,ui="void"===L,Cr={params:Object.assign(Object.assign({},Gt),mn)},Ts=Rt?[]:be(g,m,this.ast.animation,ne,Ee,an,cn,Cr,at,Nt);let li=0;if(Ts.forEach(Qo=>{li=Math.max(Qo.duration+Qo.delay,li)}),Nt.length)return Zr(m,this._triggerName,A,L,ui,an,cn,[],[],Lr,yr,li,Nt);Ts.forEach(Qo=>{const Ps=Qo.element,Gi=ge(Lr,Ps,{});Qo.preStyleProps.forEach(Ns=>Gi[Ns]=!0);const ni=ge(yr,Ps,{});Qo.postStyleProps.forEach(Ns=>ni[Ns]=!0),Ps!==m&&fr.add(Ps)});const ws=Tr(fr.values());return Zr(m,this._triggerName,A,L,ui,an,cn,Ts,ws,Lr,yr,li)}}class je{constructor(g,m,A){this.styles=g,this.defaultParams=m,this.normalizer=A}buildStyles(g,m){const A={},L=rr(this.defaultParams);return Object.keys(g).forEach(ne=>{const Ee=g[ne];null!=Ee&&(L[ne]=Ee)}),this.styles.styles.forEach(ne=>{if("string"!=typeof ne){const Ee=ne;Object.keys(Ee).forEach(Re=>{let Je=Ee[Re];Je.length>1&&(Je=sr(Je,L,m));const at=this.normalizer.normalizePropertyName(Re,m);Je=this.normalizer.normalizeStyleValue(Re,at,Je,m),A[at]=Je})}}),A}}class ft{constructor(g,m,A){this.name=g,this.ast=m,this._normalizer=A,this.transitionFactories=[],this.states={},m.states.forEach(L=>{this.states[L.name]=new je(L.style,L.options&&L.options.params||{},A)}),zt(this.states,"true","1"),zt(this.states,"false","0"),m.transitions.forEach(L=>{this.transitionFactories.push(new Mr(g,L,this.states))}),this.fallbackTransition=function(k,g,m){return new Mr(k,{type:1,animation:{type:2,steps:[],options:null},matchers:[(Ee,Re)=>!0],options:null,queryCount:0,depCount:0},g)}(g,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(g,m,A,L){return this.transitionFactories.find(Ee=>Ee.match(g,m,A,L))||null}matchStyles(g,m,A){return this.fallbackTransition.buildStyles(g,m,A)}}function zt(k,g,m){k.hasOwnProperty(g)?k.hasOwnProperty(m)||(k[m]=k[g]):k.hasOwnProperty(m)&&(k[g]=k[m])}const Kn=new Ur;class gr{constructor(g,m,A){this.bodyNode=g,this._driver=m,this._normalizer=A,this._animations={},this._playersById={},this.players=[]}register(g,m){const A=[],L=rn(this._driver,m,A);if(A.length)throw new Error(`Unable to build the animation due to the following errors: ${A.join("\n")}`);this._animations[g]=L}_buildPlayer(g,m,A){const L=g.element,ne=re(0,this._normalizer,0,g.keyframes,m,A);return this._driver.animate(L,ne,g.duration,g.delay,g.easing,[],!0)}create(g,m,A={}){const L=[],ne=this._animations[g];let Ee;const Re=new Map;if(ne?(Ee=be(this._driver,m,ne,er,tr,{},{},A,Kn,L),Ee.forEach(Rt=>{const Nt=ge(Re,Rt.element,{});Rt.postStyleProps.forEach(Gt=>Nt[Gt]=null)})):(L.push("The requested animation doesn't exist or has already been destroyed"),Ee=[]),L.length)throw new Error(`Unable to create the animation due to the following errors: ${L.join("\n")}`);Re.forEach((Rt,Nt)=>{Object.keys(Rt).forEach(Gt=>{Rt[Gt]=this._driver.computeStyle(Nt,Gt,me.l3)})});const at=ae(Ee.map(Rt=>{const Nt=Re.get(Rt.element);return this._buildPlayer(Rt,{},Nt)}));return this._playersById[g]=at,at.onDestroy(()=>this.destroy(g)),this.players.push(at),at}destroy(g){const m=this._getPlayer(g);m.destroy(),delete this._playersById[g];const A=this.players.indexOf(m);A>=0&&this.players.splice(A,1)}_getPlayer(g){const m=this._playersById[g];if(!m)throw new Error(`Unable to find the timeline player referenced by ${g}`);return m}listen(g,m,A,L){const ne=le(m,"","","");return we(this._getPlayer(g),A,ne,L),()=>{}}command(g,m,A,L){if("register"==A)return void this.register(g,L[0]);if("create"==A)return void this.create(g,m,L[0]||{});const ne=this._getPlayer(g);switch(A){case"play":ne.play();break;case"pause":ne.pause();break;case"reset":ne.reset();break;case"restart":ne.restart();break;case"finish":ne.finish();break;case"init":ne.init();break;case"setPosition":ne.setPosition(parseFloat(L[0]));break;case"destroy":this.destroy(g)}}}const xn="ng-animate-queued",$r="ng-animate-disabled",bo=[],Ao={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Li={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},hi="__ng_removed";class $i{constructor(g,m=""){this.namespaceId=m;const A=g&&g.hasOwnProperty("value");if(this.value=null!=(k=A?g.value:g)?k:null,A){const ne=rr(g);delete ne.value,this.options=ne}else this.options={};var k;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(g){const m=g.params;if(m){const A=this.options.params;Object.keys(m).forEach(L=>{null==A[L]&&(A[L]=m[L])})}}}const Ys="void",os=new $i(Ys);class Da{constructor(g,m,A){this.id=g,this.hostElement=m,this._engine=A,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+g,oi(m,this._hostClassName)}listen(g,m,A,L){if(!this._triggers.hasOwnProperty(m))throw new Error(`Unable to listen on the animation trigger event "${A}" because the animation trigger "${m}" doesn't exist!`);if(null==A||0==A.length)throw new Error(`Unable to listen on the animation trigger "${m}" because the provided event is undefined!`);if("start"!=(k=A)&&"done"!=k)throw new Error(`The provided animation trigger event "${A}" for the animation trigger "${m}" is not supported!`);var k;const ne=ge(this._elementListeners,g,[]),Ee={name:m,phase:A,callback:L};ne.push(Ee);const Re=ge(this._engine.statesByElement,g,{});return Re.hasOwnProperty(m)||(oi(g,Gn),oi(g,Gn+"-"+m),Re[m]=os),()=>{this._engine.afterFlush(()=>{const Je=ne.indexOf(Ee);Je>=0&&ne.splice(Je,1),this._triggers[m]||delete Re[m]})}}register(g,m){return!this._triggers[g]&&(this._triggers[g]=m,!0)}_getTrigger(g){const m=this._triggers[g];if(!m)throw new Error(`The provided animation trigger "${g}" has not been registered!`);return m}trigger(g,m,A,L=!0){const ne=this._getTrigger(m),Ee=new So(this.id,m,g);let Re=this._engine.statesByElement.get(g);Re||(oi(g,Gn),oi(g,Gn+"-"+m),this._engine.statesByElement.set(g,Re={}));let Je=Re[m];const at=new $i(A,this.id);if(!(A&&A.hasOwnProperty("value"))&&Je&&at.absorbOptions(Je.options),Re[m]=at,Je||(Je=os),at.value!==Ys&&Je.value===at.value){if(!function(k,g){const m=Object.keys(k),A=Object.keys(g);if(m.length!=A.length)return!1;for(let L=0;L<m.length;L++){const ne=m[L];if(!g.hasOwnProperty(ne)||k[ne]!==g[ne])return!1}return!0}(Je.params,at.params)){const mn=[],cn=ne.matchStyles(Je.value,Je.params,mn),fr=ne.matchStyles(at.value,at.params,mn);mn.length?this._engine.reportError(mn):this._engine.afterFlush(()=>{jn(g,cn),Zt(g,fr)})}return}const Gt=ge(this._engine.playersByElement,g,[]);Gt.forEach(mn=>{mn.namespaceId==this.id&&mn.triggerName==m&&mn.queued&&mn.destroy()});let Qt=ne.matchTransition(Je.value,at.value,g,at.params),an=!1;if(!Qt){if(!L)return;Qt=ne.fallbackTransition,an=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:g,triggerName:m,transition:Qt,fromState:Je,toState:at,player:Ee,isFallbackTransition:an}),an||(oi(g,xn),Ee.onStart(()=>{Hr(g,xn)})),Ee.onDone(()=>{let mn=this.players.indexOf(Ee);mn>=0&&this.players.splice(mn,1);const cn=this._engine.playersByElement.get(g);if(cn){let fr=cn.indexOf(Ee);fr>=0&&cn.splice(fr,1)}}),this.players.push(Ee),Gt.push(Ee),Ee}deregister(g){delete this._triggers[g],this._engine.statesByElement.forEach((m,A)=>{delete m[g]}),this._elementListeners.forEach((m,A)=>{this._elementListeners.set(A,m.filter(L=>L.name!=g))})}clearElementCache(g){this._engine.statesByElement.delete(g),this._elementListeners.delete(g);const m=this._engine.playersByElement.get(g);m&&(m.forEach(A=>A.destroy()),this._engine.playersByElement.delete(g))}_signalRemovalForInnerTriggers(g,m){const A=this._engine.driver.query(g,cr,!0);A.forEach(L=>{if(L[hi])return;const ne=this._engine.fetchNamespacesByElement(L);ne.size?ne.forEach(Ee=>Ee.triggerLeaveAnimation(L,m,!1,!0)):this.clearElementCache(L)}),this._engine.afterFlushAnimationsDone(()=>A.forEach(L=>this.clearElementCache(L)))}triggerLeaveAnimation(g,m,A,L){const ne=this._engine.statesByElement.get(g);if(ne){const Ee=[];if(Object.keys(ne).forEach(Re=>{if(this._triggers[Re]){const Je=this.trigger(g,Re,Ys,L);Je&&Ee.push(Je)}}),Ee.length)return this._engine.markElementAsRemoved(this.id,g,!0,m),A&&ae(Ee).onDone(()=>this._engine.processLeaveNode(g)),!0}return!1}prepareLeaveAnimationListeners(g){const m=this._elementListeners.get(g),A=this._engine.statesByElement.get(g);if(m&&A){const L=new Set;m.forEach(ne=>{const Ee=ne.name;if(L.has(Ee))return;L.add(Ee);const Je=this._triggers[Ee].fallbackTransition,at=A[Ee]||os,Rt=new $i(Ys),Nt=new So(this.id,Ee,g);this._engine.totalQueuedPlayers++,this._queue.push({element:g,triggerName:Ee,transition:Je,fromState:at,toState:Rt,player:Nt,isFallbackTransition:!0})})}}removeNode(g,m){const A=this._engine;if(g.childElementCount&&this._signalRemovalForInnerTriggers(g,m),this.triggerLeaveAnimation(g,m,!0))return;let L=!1;if(A.totalAnimations){const ne=A.players.length?A.playersByQueriedElement.get(g):[];if(ne&&ne.length)L=!0;else{let Ee=g;for(;Ee=Ee.parentNode;)if(A.statesByElement.get(Ee)){L=!0;break}}}if(this.prepareLeaveAnimationListeners(g),L)A.markElementAsRemoved(this.id,g,!1,m);else{const ne=g[hi];(!ne||ne===Ao)&&(A.afterFlush(()=>this.clearElementCache(g)),A.destroyInnerAnimations(g),A._onRemovalComplete(g,m))}}insertNode(g,m){oi(g,this._hostClassName)}drainQueuedTransitions(g){const m=[];return this._queue.forEach(A=>{const L=A.player;if(L.destroyed)return;const ne=A.element,Ee=this._elementListeners.get(ne);Ee&&Ee.forEach(Re=>{if(Re.name==A.triggerName){const Je=le(ne,A.triggerName,A.fromState.value,A.toState.value);Je._data=g,we(A.player,Re.phase,Je,Re.callback)}}),L.markedForDestroy?this._engine.afterFlush(()=>{L.destroy()}):m.push(A)}),this._queue=[],m.sort((A,L)=>{const ne=A.transition.ast.depCount,Ee=L.transition.ast.depCount;return 0==ne||0==Ee?ne-Ee:this._engine.driver.containsElement(A.element,L.element)?1:-1})}destroy(g){this.players.forEach(m=>m.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,g)}elementContainsData(g){let m=!1;return this._elementListeners.has(g)&&(m=!0),m=!!this._queue.find(A=>A.element===g)||m,m}}class Us{constructor(g,m,A){this.bodyNode=g,this.driver=m,this._normalizer=A,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(L,ne)=>{}}_onRemovalComplete(g,m){this.onRemovalComplete(g,m)}get queuedPlayers(){const g=[];return this._namespaceList.forEach(m=>{m.players.forEach(A=>{A.queued&&g.push(A)})}),g}createNamespace(g,m){const A=new Da(g,m,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,m)?this._balanceNamespaceList(A,m):(this.newHostElements.set(m,A),this.collectEnterElement(m)),this._namespaceLookup[g]=A}_balanceNamespaceList(g,m){const A=this._namespaceList.length-1;if(A>=0){let L=!1;for(let ne=A;ne>=0;ne--)if(this.driver.containsElement(this._namespaceList[ne].hostElement,m)){this._namespaceList.splice(ne+1,0,g),L=!0;break}L||this._namespaceList.splice(0,0,g)}else this._namespaceList.push(g);return this.namespacesByHostElement.set(m,g),g}register(g,m){let A=this._namespaceLookup[g];return A||(A=this.createNamespace(g,m)),A}registerTrigger(g,m,A){let L=this._namespaceLookup[g];L&&L.register(m,A)&&this.totalAnimations++}destroy(g,m){if(!g)return;const A=this._fetchNamespace(g);this.afterFlush(()=>{this.namespacesByHostElement.delete(A.hostElement),delete this._namespaceLookup[g];const L=this._namespaceList.indexOf(A);L>=0&&this._namespaceList.splice(L,1)}),this.afterFlushAnimationsDone(()=>A.destroy(m))}_fetchNamespace(g){return this._namespaceLookup[g]}fetchNamespacesByElement(g){const m=new Set,A=this.statesByElement.get(g);if(A){const L=Object.keys(A);for(let ne=0;ne<L.length;ne++){const Ee=A[L[ne]].namespaceId;if(Ee){const Re=this._fetchNamespace(Ee);Re&&m.add(Re)}}}return m}trigger(g,m,A,L){if(fi(m)){const ne=this._fetchNamespace(g);if(ne)return ne.trigger(m,A,L),!0}return!1}insertNode(g,m,A,L){if(!fi(m))return;const ne=m[hi];if(ne&&ne.setForRemoval){ne.setForRemoval=!1,ne.setForMove=!0;const Ee=this.collectedLeaveElements.indexOf(m);Ee>=0&&this.collectedLeaveElements.splice(Ee,1)}if(g){const Ee=this._fetchNamespace(g);Ee&&Ee.insertNode(m,A)}L&&this.collectEnterElement(m)}collectEnterElement(g){this.collectedEnterElements.push(g)}markElementAsDisabled(g,m){m?this.disabledNodes.has(g)||(this.disabledNodes.add(g),oi(g,$r)):this.disabledNodes.has(g)&&(this.disabledNodes.delete(g),Hr(g,$r))}removeNode(g,m,A,L){if(fi(m)){const ne=g?this._fetchNamespace(g):null;if(ne?ne.removeNode(m,L):this.markElementAsRemoved(g,m,!1,L),A){const Ee=this.namespacesByHostElement.get(m);Ee&&Ee.id!==g&&Ee.removeNode(m,L)}}else this._onRemovalComplete(m,L)}markElementAsRemoved(g,m,A,L){this.collectedLeaveElements.push(m),m[hi]={namespaceId:g,setForRemoval:L,hasAnimation:A,removedBeforeQueried:!1}}listen(g,m,A,L,ne){return fi(m)?this._fetchNamespace(g).listen(m,A,L,ne):()=>{}}_buildInstruction(g,m,A,L,ne){return g.transition.build(this.driver,g.element,g.fromState.value,g.toState.value,A,L,g.fromState.options,g.toState.options,m,ne)}destroyInnerAnimations(g){let m=this.driver.query(g,cr,!0);m.forEach(A=>this.destroyActiveAnimationsForElement(A)),0!=this.playersByQueriedElement.size&&(m=this.driver.query(g,bn,!0),m.forEach(A=>this.finishActiveQueriedAnimationOnElement(A)))}destroyActiveAnimationsForElement(g){const m=this.playersByElement.get(g);m&&m.forEach(A=>{A.queued?A.markedForDestroy=!0:A.destroy()})}finishActiveQueriedAnimationOnElement(g){const m=this.playersByQueriedElement.get(g);m&&m.forEach(A=>A.finish())}whenRenderingDone(){return new Promise(g=>{if(this.players.length)return ae(this.players).onDone(()=>g());g()})}processLeaveNode(g){var m;const A=g[hi];if(A&&A.setForRemoval){if(g[hi]=Ao,A.namespaceId){this.destroyInnerAnimations(g);const L=this._fetchNamespace(A.namespaceId);L&&L.clearElementCache(g)}this._onRemovalComplete(g,A.setForRemoval)}(null===(m=g.classList)||void 0===m?void 0:m.contains($r))&&this.markElementAsDisabled(g,!1),this.driver.query(g,".ng-animate-disabled",!0).forEach(L=>{this.markElementAsDisabled(L,!1)})}flush(g=-1){let m=[];if(this.newHostElements.size&&(this.newHostElements.forEach((A,L)=>this._balanceNamespaceList(A,L)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let A=0;A<this.collectedEnterElements.length;A++)oi(this.collectedEnterElements[A],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const A=[];try{m=this._flushAnimations(A,g)}finally{for(let L=0;L<A.length;L++)A[L]()}}else for(let A=0;A<this.collectedLeaveElements.length;A++)this.processLeaveNode(this.collectedLeaveElements[A]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(A=>A()),this._flushFns=[],this._whenQuietFns.length){const A=this._whenQuietFns;this._whenQuietFns=[],m.length?ae(m).onDone(()=>{A.forEach(L=>L())}):A.forEach(L=>L())}}reportError(g){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${g.join("\n")}`)}_flushAnimations(g,m){const A=new Ur,L=[],ne=new Map,Ee=[],Re=new Map,Je=new Map,at=new Map,Rt=new Set;this.disabledNodes.forEach(ln=>{Rt.add(ln);const Mn=this.driver.query(ln,".ng-animate-queued",!0);for(let zn=0;zn<Mn.length;zn++)Rt.add(Mn[zn])});const Nt=this.bodyNode,Gt=Array.from(this.statesByElement.keys()),Qt=Di(Gt,this.collectedEnterElements),an=new Map;let mn=0;Qt.forEach((ln,Mn)=>{const zn=er+mn++;an.set(Mn,zn),ln.forEach(Ir=>oi(Ir,zn))});const cn=[],fr=new Set,Lr=new Set;for(let ln=0;ln<this.collectedLeaveElements.length;ln++){const Mn=this.collectedLeaveElements[ln],zn=Mn[hi];zn&&zn.setForRemoval&&(cn.push(Mn),fr.add(Mn),zn.hasAnimation?this.driver.query(Mn,".ng-star-inserted",!0).forEach(Ir=>fr.add(Ir)):Lr.add(Mn))}const yr=new Map,ui=Di(Gt,Array.from(fr));ui.forEach((ln,Mn)=>{const zn=tr+mn++;yr.set(Mn,zn),ln.forEach(Ir=>oi(Ir,zn))}),g.push(()=>{Qt.forEach((ln,Mn)=>{const zn=an.get(Mn);ln.forEach(Ir=>Hr(Ir,zn))}),ui.forEach((ln,Mn)=>{const zn=yr.get(Mn);ln.forEach(Ir=>Hr(Ir,zn))}),cn.forEach(ln=>{this.processLeaveNode(ln)})});const Cr=[],Ts=[];for(let ln=this._namespaceList.length-1;ln>=0;ln--)this._namespaceList[ln].drainQueuedTransitions(m).forEach(zn=>{const Ir=zn.player,bi=zn.element;if(Cr.push(Ir),this.collectedEnterElements.length){const Bi=bi[hi];if(Bi&&Bi.setForMove)return void Ir.destroy()}const xs=!Nt||!this.driver.containsElement(Nt,bi),Pi=yr.get(bi),Ki=an.get(bi),Vr=this._buildInstruction(zn,A,Ki,Pi,xs);if(Vr.errors&&Vr.errors.length)return void Ts.push(Vr);if(xs)return Ir.onStart(()=>jn(bi,Vr.fromStyles)),Ir.onDestroy(()=>Zt(bi,Vr.toStyles)),void L.push(Ir);if(zn.isFallbackTransition)return Ir.onStart(()=>jn(bi,Vr.fromStyles)),Ir.onDestroy(()=>Zt(bi,Vr.toStyles)),void L.push(Ir);const Aa=[];Vr.timelines.forEach(Bi=>{Bi.stretchStartingKeyframe=!0,this.disabledNodes.has(Bi.element)||Aa.push(Bi)}),Vr.timelines=Aa,A.append(bi,Vr.timelines),Ee.push({instruction:Vr,player:Ir,element:bi}),Vr.queriedElements.forEach(Bi=>ge(Re,Bi,[]).push(Ir)),Vr.preStyleProps.forEach((Bi,hs)=>{const Za=Object.keys(Bi);if(Za.length){let Ls=Je.get(hs);Ls||Je.set(hs,Ls=new Set),Za.forEach(Jo=>Ls.add(Jo))}}),Vr.postStyleProps.forEach((Bi,hs)=>{const Za=Object.keys(Bi);let Ls=at.get(hs);Ls||at.set(hs,Ls=new Set),Za.forEach(Jo=>Ls.add(Jo))})});if(Ts.length){const ln=[];Ts.forEach(Mn=>{ln.push(`@${Mn.triggerName} has failed due to:\n`),Mn.errors.forEach(zn=>ln.push(`- ${zn}\n`))}),Cr.forEach(Mn=>Mn.destroy()),this.reportError(ln)}const li=new Map,ws=new Map;Ee.forEach(ln=>{const Mn=ln.element;A.has(Mn)&&(ws.set(Mn,Mn),this._beforeAnimationBuild(ln.player.namespaceId,ln.instruction,li))}),L.forEach(ln=>{const Mn=ln.element;this._getPreviousPlayers(Mn,!1,ln.namespaceId,ln.triggerName,null).forEach(Ir=>{ge(li,Mn,[]).push(Ir),Ir.destroy()})});const Qo=cn.filter(ln=>qi(ln,Je,at)),Ps=new Map;as(Ps,this.driver,Lr,at,me.l3).forEach(ln=>{qi(ln,Je,at)&&Qo.push(ln)});const ni=new Map;Qt.forEach((ln,Mn)=>{as(ni,this.driver,new Set(ln),Je,me.k1)}),Qo.forEach(ln=>{const Mn=Ps.get(ln),zn=ni.get(ln);Ps.set(ln,Object.assign(Object.assign({},Mn),zn))});const Ns=[],Ql=[],$u={};Ee.forEach(ln=>{const{element:Mn,player:zn,instruction:Ir}=ln;if(A.has(Mn)){if(Rt.has(Mn))return zn.onDestroy(()=>Zt(Mn,Ir.toStyles)),zn.disabled=!0,zn.overrideTotalTime(Ir.totalTime),void L.push(zn);let bi=$u;if(ws.size>1){let Pi=Mn;const Ki=[];for(;Pi=Pi.parentNode;){const Vr=ws.get(Pi);if(Vr){bi=Vr;break}Ki.push(Pi)}Ki.forEach(Vr=>ws.set(Vr,bi))}const xs=this._buildAnimation(zn.namespaceId,Ir,li,ne,ni,Ps);if(zn.setRealPlayer(xs),bi===$u)Ns.push(zn);else{const Pi=this.playersByElement.get(bi);Pi&&Pi.length&&(zn.parentPlayer=ae(Pi)),L.push(zn)}}else jn(Mn,Ir.fromStyles),zn.onDestroy(()=>Zt(Mn,Ir.toStyles)),Ql.push(zn),Rt.has(Mn)&&L.push(zn)}),Ql.forEach(ln=>{const Mn=ne.get(ln.element);if(Mn&&Mn.length){const zn=ae(Mn);ln.setRealPlayer(zn)}}),L.forEach(ln=>{ln.parentPlayer?ln.syncPlayerEvents(ln.parentPlayer):ln.destroy()});for(let ln=0;ln<cn.length;ln++){const Mn=cn[ln],zn=Mn[hi];if(Hr(Mn,tr),zn&&zn.hasAnimation)continue;let Ir=[];if(Re.size){let xs=Re.get(Mn);xs&&xs.length&&Ir.push(...xs);let Pi=this.driver.query(Mn,bn,!0);for(let Ki=0;Ki<Pi.length;Ki++){let Vr=Re.get(Pi[Ki]);Vr&&Vr.length&&Ir.push(...Vr)}}const bi=Ir.filter(xs=>!xs.destroyed);bi.length?Js(this,Mn,bi):this.processLeaveNode(Mn)}return cn.length=0,Ns.forEach(ln=>{this.players.push(ln),ln.onDone(()=>{ln.destroy();const Mn=this.players.indexOf(ln);this.players.splice(Mn,1)}),ln.play()}),Ns}elementContainsData(g,m){let A=!1;const L=m[hi];return L&&L.setForRemoval&&(A=!0),this.playersByElement.has(m)&&(A=!0),this.playersByQueriedElement.has(m)&&(A=!0),this.statesByElement.has(m)&&(A=!0),this._fetchNamespace(g).elementContainsData(m)||A}afterFlush(g){this._flushFns.push(g)}afterFlushAnimationsDone(g){this._whenQuietFns.push(g)}_getPreviousPlayers(g,m,A,L,ne){let Ee=[];if(m){const Re=this.playersByQueriedElement.get(g);Re&&(Ee=Re)}else{const Re=this.playersByElement.get(g);if(Re){const Je=!ne||ne==Ys;Re.forEach(at=>{at.queued||!Je&&at.triggerName!=L||Ee.push(at)})}}return(A||L)&&(Ee=Ee.filter(Re=>!(A&&A!=Re.namespaceId||L&&L!=Re.triggerName))),Ee}_beforeAnimationBuild(g,m,A){const ne=m.element,Ee=m.isRemovalTransition?void 0:g,Re=m.isRemovalTransition?void 0:m.triggerName;for(const Je of m.timelines){const at=Je.element,Rt=at!==ne,Nt=ge(A,at,[]);this._getPreviousPlayers(at,Rt,Ee,Re,m.toState).forEach(Qt=>{const an=Qt.getRealPlayer();an.beforeDestroy&&an.beforeDestroy(),Qt.destroy(),Nt.push(Qt)})}jn(ne,m.fromStyles)}_buildAnimation(g,m,A,L,ne,Ee){const Re=m.triggerName,Je=m.element,at=[],Rt=new Set,Nt=new Set,Gt=m.timelines.map(an=>{const mn=an.element;Rt.add(mn);const cn=mn[hi];if(cn&&cn.removedBeforeQueried)return new me.ZN(an.duration,an.delay);const fr=mn!==Je,Lr=function(k){const g=[];return ai(k,g),g}((A.get(mn)||bo).map(li=>li.getRealPlayer())).filter(li=>!!li.element&&li.element===mn),yr=ne.get(mn),ui=Ee.get(mn),Cr=re(0,this._normalizer,0,an.keyframes,yr,ui),Ts=this._buildPlayer(an,Cr,Lr);if(an.subTimeline&&L&&Nt.add(mn),fr){const li=new So(g,Re,mn);li.setRealPlayer(Ts),at.push(li)}return Ts});at.forEach(an=>{ge(this.playersByQueriedElement,an.element,[]).push(an),an.onDone(()=>function(k,g,m){let A;if(k instanceof Map){if(A=k.get(g),A){if(A.length){const L=A.indexOf(m);A.splice(L,1)}0==A.length&&k.delete(g)}}else if(A=k[g],A){if(A.length){const L=A.indexOf(m);A.splice(L,1)}0==A.length&&delete k[g]}return A}(this.playersByQueriedElement,an.element,an))}),Rt.forEach(an=>oi(an,Pn));const Qt=ae(Gt);return Qt.onDestroy(()=>{Rt.forEach(an=>Hr(an,Pn)),Zt(Je,m.toStyles)}),Nt.forEach(an=>{ge(L,an,[]).push(Qt)}),Qt}_buildPlayer(g,m,A){return m.length>0?this.driver.animate(g.element,m,g.duration,g.delay,g.easing,A):new me.ZN(g.duration,g.delay)}}class So{constructor(g,m,A){this.namespaceId=g,this.triggerName=m,this.element=A,this._player=new me.ZN,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(g){this._containsRealPlayer||(this._player=g,Object.keys(this._queuedCallbacks).forEach(m=>{this._queuedCallbacks[m].forEach(A=>we(g,m,void 0,A))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(g.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(g){this.totalTime=g}syncPlayerEvents(g){const m=this._player;m.triggerCallback&&g.onStart(()=>m.triggerCallback("start")),g.onDone(()=>this.finish()),g.onDestroy(()=>this.destroy())}_queueEvent(g,m){ge(this._queuedCallbacks,g,[]).push(m)}onDone(g){this.queued&&this._queueEvent("done",g),this._player.onDone(g)}onStart(g){this.queued&&this._queueEvent("start",g),this._player.onStart(g)}onDestroy(g){this.queued&&this._queueEvent("destroy",g),this._player.onDestroy(g)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(g){this.queued||this._player.setPosition(g)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(g){const m=this._player;m.triggerCallback&&m.triggerCallback(g)}}function fi(k){return k&&1===k.nodeType}function ys(k,g){const m=k.style.display;return k.style.display=null!=g?g:"none",m}function as(k,g,m,A,L){const ne=[];m.forEach(Je=>ne.push(ys(Je)));const Ee=[];A.forEach((Je,at)=>{const Rt={};Je.forEach(Nt=>{const Gt=Rt[Nt]=g.computeStyle(at,Nt,L);(!Gt||0==Gt.length)&&(at[hi]=Li,Ee.push(at))}),k.set(at,Rt)});let Re=0;return m.forEach(Je=>ys(Je,ne[Re++])),Ee}function Di(k,g){const m=new Map;if(k.forEach(Re=>m.set(Re,[])),0==g.length)return m;const L=new Set(g),ne=new Map;function Ee(Re){if(!Re)return 1;let Je=ne.get(Re);if(Je)return Je;const at=Re.parentNode;return Je=m.has(at)?at:L.has(at)?1:Ee(at),ne.set(Re,Je),Je}return g.forEach(Re=>{const Je=Ee(Re);1!==Je&&m.get(Je).push(Re)}),m}function oi(k,g){var m;null===(m=k.classList)||void 0===m||m.add(g)}function Hr(k,g){var m;null===(m=k.classList)||void 0===m||m.remove(g)}function Js(k,g,m){ae(m).onDone(()=>k.processLeaveNode(g))}function ai(k,g){for(let m=0;m<k.length;m++){const A=k[m];A instanceof me.ZE?ai(A.players,g):g.push(A)}}function qi(k,g,m){const A=m.get(k);if(!A)return!1;let L=g.get(k);return L?A.forEach(ne=>L.add(ne)):g.set(k,A),m.delete(k),!0}class Hi{constructor(g,m,A){this.bodyNode=g,this._driver=m,this._normalizer=A,this._triggerCache={},this.onRemovalComplete=(L,ne)=>{},this._transitionEngine=new Us(g,m,A),this._timelineEngine=new gr(g,m,A),this._transitionEngine.onRemovalComplete=(L,ne)=>this.onRemovalComplete(L,ne)}registerTrigger(g,m,A,L,ne){const Ee=g+"-"+L;let Re=this._triggerCache[Ee];if(!Re){const Je=[],at=rn(this._driver,ne,Je);if(Je.length)throw new Error(`The animation trigger "${L}" has failed to build due to the following errors:\n - ${Je.join("\n - ")}`);Re=function(k,g,m){return new ft(k,g,m)}(L,at,this._normalizer),this._triggerCache[Ee]=Re}this._transitionEngine.registerTrigger(m,L,Re)}register(g,m){this._transitionEngine.register(g,m)}destroy(g,m){this._transitionEngine.destroy(g,m)}onInsert(g,m,A,L){this._transitionEngine.insertNode(g,m,A,L)}onRemove(g,m,A,L){this._transitionEngine.removeNode(g,m,L||!1,A)}disableAnimations(g,m){this._transitionEngine.markElementAsDisabled(g,m)}process(g,m,A,L){if("@"==A.charAt(0)){const[ne,Ee]=ye(A);this._timelineEngine.command(ne,m,Ee,L)}else this._transitionEngine.trigger(g,m,A,L)}listen(g,m,A,L,ne){if("@"==A.charAt(0)){const[Ee,Re]=ye(A);return this._timelineEngine.listen(Ee,m,Re,ne)}return this._transitionEngine.listen(g,m,A,L,ne)}flush(g=-1){this._transitionEngine.flush(g)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function ki(k,g){let m=null,A=null;return Array.isArray(g)&&g.length?(m=or(g[0]),g.length>1&&(A=or(g[g.length-1]))):g&&(m=or(g)),m||A?new Xs(k,m,A):null}let Xs=(()=>{class k{constructor(m,A,L){this._element=m,this._startStyles=A,this._endStyles=L,this._state=0;let ne=k.initialStylesByElement.get(m);ne||k.initialStylesByElement.set(m,ne={}),this._initialStyles=ne}start(){this._state<1&&(this._startStyles&&Zt(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Zt(this._element,this._initialStyles),this._endStyles&&(Zt(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(k.initialStylesByElement.delete(this._element),this._startStyles&&(jn(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(jn(this._element,this._endStyles),this._endStyles=null),Zt(this._element,this._initialStyles),this._state=3)}}return k.initialStylesByElement=new WeakMap,k})();function or(k){let g=null;const m=Object.keys(k);for(let A=0;A<m.length;A++){const L=m[A];Ss(L)&&(g=g||{},g[L]=k[L])}return g}function Ss(k){return"display"===k||"position"===k}const eo="animation",dr="animationend";class oa{constructor(g,m,A,L,ne,Ee,Re){this._element=g,this._name=m,this._duration=A,this._delay=L,this._easing=ne,this._fillMode=Ee,this._onDoneFn=Re,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=Je=>this._handleCallback(Je)}apply(){(function(k,g){const m=R(k,"").trim();let A=0;m.length&&(function(k,g){let m=0;for(let A=0;A<k.length;A++)","===k.charAt(A)&&m++;return m}(m)+1,g=`${m}, ${g}`),Mi(k,"",g)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),us(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){js(this._element,this._name,"paused")}resume(){js(this._element,this._name,"running")}setPosition(g){const m=Oo(this._element,this._name);this._position=g*this._duration,Mi(this._element,"Delay",`-${this._position}ms`,m)}getPosition(){return this._position}_handleCallback(g){const m=g._ngTestManualTimestamp||Date.now(),A=1e3*parseFloat(g.elapsedTime.toFixed(3));g.animationName==this._name&&Math.max(m-this._startTime,0)>=this._delay&&A>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),us(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(k,g){const A=R(k,"").split(","),L=mr(A,g);L>=0&&(A.splice(L,1),Mi(k,"",A.join(",")))}(this._element,this._name))}}function js(k,g,m){Mi(k,"PlayState",m,Oo(k,g))}function Oo(k,g){const m=R(k,"");return m.indexOf(",")>0?mr(m.split(","),g):mr([m],g)}function mr(k,g){for(let m=0;m<k.length;m++)if(k[m].indexOf(g)>=0)return m;return-1}function us(k,g,m){m?k.removeEventListener(dr,g):k.addEventListener(dr,g)}function Mi(k,g,m,A){const L=eo+g;if(null!=A){const ne=k.style[L];if(ne.length){const Ee=ne.split(",");Ee[A]=m,m=Ee.join(",")}}k.style[L]=m}function R(k,g){return k.style[eo+g]||""}class ke{constructor(g,m,A,L,ne,Ee,Re,Je){this.element=g,this.keyframes=m,this.animationName=A,this._duration=L,this._delay=ne,this._finalStyles=Re,this._specialStyles=Je,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=Ee||"linear",this.totalTime=L+ne,this._buildStyler()}onStart(g){this._onStartFns.push(g)}onDone(g){this._onDoneFns.push(g)}onDestroy(g){this._onDestroyFns.push(g)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(g=>g()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(g=>g()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(g=>g()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(g){this._styler.setPosition(g)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new oa(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(g){const m="start"==g?this._onStartFns:this._onDoneFns;m.forEach(A=>A()),m.length=0}beforeDestroy(){this.init();const g={};if(this.hasStarted()){const m=this._state>=3;Object.keys(this._finalStyles).forEach(A=>{"offset"!=A&&(g[A]=m?this._finalStyles[A]:V(this.element,A))})}this.currentSnapshot=g}}class ut extends me.ZN{constructor(g,m){super(),this.element=g,this._startingStyles={},this.__initialized=!1,this._styles=Hn(m)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(g=>{this._startingStyles[g]=this.element.style[g]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(g=>this.element.style.setProperty(g,this._styles[g])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(g=>{const m=this._startingStyles[g];m?this.element.style.setProperty(g,m):this.element.style.removeProperty(g)}),this._startingStyles=null,super.destroy())}}class Zn{constructor(){this._count=0}validateStyleProperty(g){return it(g)}matchesElement(g,m){return!1}containsElement(g,m){return xt(g,m)}query(g,m,A){return tn(g,m,A)}computeStyle(g,m,A){return window.getComputedStyle(g)[m]}buildKeyframeElement(g,m,A){A=A.map(Re=>Hn(Re));let L=`@keyframes ${m} {\n`,ne="";A.forEach(Re=>{ne=" ";const Je=parseFloat(Re.offset);L+=`${ne}${100*Je}% {\n`,ne+=" ",Object.keys(Re).forEach(at=>{const Rt=Re[at];switch(at){case"offset":return;case"easing":return void(Rt&&(L+=`${ne}animation-timing-function: ${Rt};\n`));default:return void(L+=`${ne}${at}: ${Rt};\n`)}}),L+=`${ne}}\n`}),L+="}\n";const Ee=document.createElement("style");return Ee.textContent=L,Ee}animate(g,m,A,L,ne,Ee=[],Re){const Je=Ee.filter(cn=>cn instanceof ke),at={};xe(A,L)&&Je.forEach(cn=>{let fr=cn.currentSnapshot;Object.keys(fr).forEach(Lr=>at[Lr]=fr[Lr])});const Rt=function(k){let g={};return k&&(Array.isArray(k)?k:[k]).forEach(A=>{Object.keys(A).forEach(L=>{"offset"==L||"easing"==L||(g[L]=A[L])})}),g}(m=Me(g,m,at));if(0==A)return new ut(g,Rt);const Nt="gen_css_kf_"+this._count++,Gt=this.buildKeyframeElement(g,Nt,m);(function(k){var g;const m=null===(g=k.getRootNode)||void 0===g?void 0:g.call(k);return"undefined"!=typeof ShadowRoot&&m instanceof ShadowRoot?m:document.head})(g).appendChild(Gt);const an=ki(g,m),mn=new ke(g,m,Nt,A,L,ne,Rt,an);return mn.onDestroy(()=>{var k;(k=Gt).parentNode.removeChild(k)}),mn}}class yt{constructor(g,m,A,L){this.element=g,this.keyframes=m,this.options=A,this._specialStyles=L,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=A.duration,this._delay=A.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(g=>g()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const g=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,g,this.options),this._finalKeyframe=g.length?g[g.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(g,m,A){return g.animate(m,A)}onStart(g){this._onStartFns.push(g)}onDone(g){this._onDoneFns.push(g)}onDestroy(g){this._onDestroyFns.push(g)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(g=>g()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(g=>g()),this._onDestroyFns=[])}setPosition(g){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=g*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const g={};if(this.hasStarted()){const m=this._finalKeyframe;Object.keys(m).forEach(A=>{"offset"!=A&&(g[A]=this._finished?m[A]:V(this.element,A))})}this.currentSnapshot=g}triggerCallback(g){const m="start"==g?this._onStartFns:this._onDoneFns;m.forEach(A=>A()),m.length=0}}class pt{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(Ar().toString()),this._cssKeyframesDriver=new Zn}validateStyleProperty(g){return it(g)}matchesElement(g,m){return!1}containsElement(g,m){return xt(g,m)}query(g,m,A){return tn(g,m,A)}computeStyle(g,m,A){return window.getComputedStyle(g)[m]}overrideWebAnimationsSupport(g){this._isNativeImpl=g}animate(g,m,A,L,ne,Ee=[],Re){if(!Re&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(g,m,A,L,ne,Ee);const Rt={duration:A,delay:L,fill:0==L?"both":"forwards"};ne&&(Rt.easing=ne);const Nt={},Gt=Ee.filter(an=>an instanceof yt);xe(A,L)&&Gt.forEach(an=>{let mn=an.currentSnapshot;Object.keys(mn).forEach(cn=>Nt[cn]=mn[cn])});const Qt=ki(g,m=Me(g,m=m.map(an=>Kt(an,!1)),Nt));return new yt(g,m,Rt,Qt)}}function Ar(){return G()&&Element.prototype.animate||{}}let Tn=(()=>{class k extends me._j{constructor(m,A){super(),this._nextAnimationId=0,this._renderer=m.createRenderer(A.body,{id:"0",encapsulation:C.ifc.None,styles:[],data:{animation:[]}})}build(m){const A=this._nextAnimationId.toString();this._nextAnimationId++;const L=Array.isArray(m)?(0,me.vP)(m):m;return Ci(this._renderer,null,A,"register",[L]),new Dr(A,this._renderer)}}return k.\u0275fac=function(m){return new(m||k)(C.LFG(C.FYo),C.LFG($.K0))},k.\u0275prov=C.Yz7({token:k,factory:k.\u0275fac}),k})();class Dr extends me.LC{constructor(g,m){super(),this._id=g,this._renderer=m}create(g,m){return new vr(this._id,g,m||{},this._renderer)}}class vr{constructor(g,m,A,L){this.id=g,this.element=m,this._renderer=L,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",A)}_listen(g,m){return this._renderer.listen(this.element,`@@${this.id}:${g}`,m)}_command(g,...m){return Ci(this._renderer,this.element,this.id,g,m)}onDone(g){this._listen("done",g)}onStart(g){this._listen("start",g)}onDestroy(g){this._listen("destroy",g)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(g){this._command("setPosition",g)}getPosition(){var g,m;return null!==(m=null===(g=this._renderer.engine.players[+this.id])||void 0===g?void 0:g.getPosition())&&void 0!==m?m:0}}function Ci(k,g,m,A,L){return k.setProperty(g,`@@${m}:${A}`,L)}const ht="@.disabled";let Yn=(()=>{class k{constructor(m,A,L){this.delegate=m,this.engine=A,this._zone=L,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),A.onRemovalComplete=(ne,Ee)=>{const Re=null==Ee?void 0:Ee.parentNode(ne);Re&&Ee.removeChild(Re,ne)}}createRenderer(m,A){const ne=this.delegate.createRenderer(m,A);if(!(m&&A&&A.data&&A.data.animation)){let Rt=this._rendererCache.get(ne);return Rt||(Rt=new to("",ne,this.engine),this._rendererCache.set(ne,Rt)),Rt}const Ee=A.id,Re=A.id+"-"+this._currentId;this._currentId++,this.engine.register(Re,m);const Je=Rt=>{Array.isArray(Rt)?Rt.forEach(Je):this.engine.registerTrigger(Ee,Re,m,Rt.name,Rt)};return A.data.animation.forEach(Je),new Wn(this,Re,ne,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(m,A,L){m>=0&&m<this._microtaskId?this._zone.run(()=>A(L)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(ne=>{const[Ee,Re]=ne;Ee(Re)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([A,L]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return k.\u0275fac=function(m){return new(m||k)(C.LFG(C.FYo),C.LFG(Hi),C.LFG(C.R0b))},k.\u0275prov=C.Yz7({token:k,factory:k.\u0275fac}),k})();class to{constructor(g,m,A){this.namespaceId=g,this.delegate=m,this.engine=A,this.destroyNode=this.delegate.destroyNode?L=>m.destroyNode(L):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(g,m){return this.delegate.createElement(g,m)}createComment(g){return this.delegate.createComment(g)}createText(g){return this.delegate.createText(g)}appendChild(g,m){this.delegate.appendChild(g,m),this.engine.onInsert(this.namespaceId,m,g,!1)}insertBefore(g,m,A,L=!0){this.delegate.insertBefore(g,m,A),this.engine.onInsert(this.namespaceId,m,g,L)}removeChild(g,m,A){this.engine.onRemove(this.namespaceId,m,this.delegate,A)}selectRootElement(g,m){return this.delegate.selectRootElement(g,m)}parentNode(g){return this.delegate.parentNode(g)}nextSibling(g){return this.delegate.nextSibling(g)}setAttribute(g,m,A,L){this.delegate.setAttribute(g,m,A,L)}removeAttribute(g,m,A){this.delegate.removeAttribute(g,m,A)}addClass(g,m){this.delegate.addClass(g,m)}removeClass(g,m){this.delegate.removeClass(g,m)}setStyle(g,m,A,L){this.delegate.setStyle(g,m,A,L)}removeStyle(g,m,A){this.delegate.removeStyle(g,m,A)}setProperty(g,m,A){"@"==m.charAt(0)&&m==ht?this.disableAnimations(g,!!A):this.delegate.setProperty(g,m,A)}setValue(g,m){this.delegate.setValue(g,m)}listen(g,m,A){return this.delegate.listen(g,m,A)}disableAnimations(g,m){this.engine.disableAnimations(g,m)}}class Wn extends to{constructor(g,m,A,L){super(m,A,L),this.factory=g,this.namespaceId=m}setProperty(g,m,A){"@"==m.charAt(0)?"."==m.charAt(1)&&m==ht?this.disableAnimations(g,A=void 0===A||!!A):this.engine.process(this.namespaceId,g,m.substr(1),A):this.delegate.setProperty(g,m,A)}listen(g,m,A){if("@"==m.charAt(0)){const L=function(k){switch(k){case"body":return document.body;case"document":return document;case"window":return window;default:return k}}(g);let ne=m.substr(1),Ee="";return"@"!=ne.charAt(0)&&([ne,Ee]=function(k){const g=k.indexOf(".");return[k.substring(0,g),k.substr(g+1)]}(ne)),this.engine.listen(this.namespaceId,L,ne,Ee,Re=>{this.factory.scheduleListenerCallback(Re._data||-1,A,Re)})}return this.delegate.listen(g,m,A)}}let Wi=(()=>{class k extends Hi{constructor(m,A,L){super(m.body,A,L)}ngOnDestroy(){this.flush()}}return k.\u0275fac=function(m){return new(m||k)(C.LFG($.K0),C.LFG(Bn),C.LFG(xi))},k.\u0275prov=C.Yz7({token:k,factory:k.\u0275fac}),k})();const Ca=new C.OlP("AnimationModuleType"),ho=[{provide:me._j,useClass:Tn},{provide:xi,useFactory:function(){return new ss}},{provide:Hi,useClass:Wi},{provide:C.FYo,useFactory:function(k,g,m){return new Yn(k,g,m)},deps:[f.se,Hi,C.R0b]}],fo=[{provide:Bn,useFactory:function(){return"function"==typeof Ar()?new pt:new Zn}},{provide:Ca,useValue:"BrowserAnimations"},...ho],Fi=[{provide:Bn,useClass:Cn},{provide:Ca,useValue:"NoopAnimations"},...ho];let pi=(()=>{class k{static withConfig(m){return{ngModule:k,providers:m.disableAnimations?Fi:fo}}}return k.\u0275fac=function(m){return new(m||k)},k.\u0275mod=C.oAB({type:k}),k.\u0275inj=C.cJS({providers:fo,imports:[f.b2]}),k})();var $s=b(9783),Hs=b(5861);const po=[{searchText:"Could not reach Cloud Firestore backend",replaceText:"\u0427\u0442\u043e-\u0442\u043e \u043d\u0435 \u0442\u0430\u043a \u0441 \u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442\u043e\u043c, \u043f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435",replaceSeverity:"warn"},{searchText:"Failed to get document because the client is offline.",replaceText:"\u0427\u0442\u043e-\u0442\u043e \u043d\u0435 \u0442\u0430\u043a \u0441 \u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442\u043e\u043c, \u043f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435",replaceSeverity:"warn"},{searchText:"The popup has been closed by the user before finalizing the operation.",ignore:!0}];var ua=b(655),Ws=b(9646),la=b(515),jo=b(5363),go=b(3900),no=b(4004),za=b(4782),Ms=b(880),mo=b(7982),Ro=b(127),ca=b(9300),$o=b(8306),Ho=b(8421),ro=b(7579),yo=b(4482),Ga=b(5403);class ei extends Ga.Q{constructor(){super(...arguments),this.activeGroups=0,this.teardownAttempted=!1}unsubscribe(){this.teardownAttempted=!0,0===this.activeGroups&&super.unsubscribe()}}var zs=b(5577),zr=b(1884),Bu=b(8675),Yi=b(1520);b(3692),b(5867);const kr="firebase_screen_id",zi="outlet",Ji="screen_class",Wt="screen_name";let S=Math.floor(Math.random()*(Math.pow(2,32)-1))-Math.pow(2,31);const I={},v=k=>{const g=[k[Ji],k[zi]].join("#");if(I.hasOwnProperty(g))return I[g];{const m=S++;return I[g]=m,m}},hr=new C.OlP("angularfire2.analytics.analyticsCollectionEnabled"),No=new C.OlP("angularfire2.analytics.appVersion"),Pr=new C.OlP("angularfire2.analytics.appName"),Sn=new C.OlP("angularfire2.analytics.debugMode"),vs=new C.OlP("angularfire2.analytics.config"),gi="dataLayer";let qo=(()=>{class k{constructor(m,A,L,ne,Ee,Re,Je,at,Rt){if(this.analyticsInitialized=new Promise(()=>{}),(0,$.NF)(Je)){window[gi]=window[gi]||[];const Gt=(...mn)=>"config"===mn[0]&&"firebase"===mn[2].origin&&(this.measurementId=mn[1],!0),Qt=mn=>{window.gtag=(...cn)=>{mn&&mn(...cn),"event"===cn[0]&&cn[2].send_to===this.measurementId&&(ne&&(cn[2].app_name=ne),L&&(cn[2].app_version=L)),Ee&&"undefined"!=typeof console&&console.info(...cn),function(...fr){window[gi].push(arguments)}(...cn)}};window[gi].some(Gt)?(this.analyticsInitialized=Promise.resolve(),Qt()):this.analyticsInitialized=new Promise(mn=>{Qt((...cn)=>{Gt(...cn)&&mn()})}),Re&&this.updateConfig(Re),Ee&&this.updateConfig({debug_mode:1})}else this.analyticsInitialized=Promise.resolve();const Nt=(0,Ws.of)(void 0).pipe((0,jo.Q)(Rt.outsideAngular),(0,go.w)(mo.Gb),(0,go.w)(Gt=>Gt?at.runOutsideAngular(()=>b.e(643).then(b.bind(b,8643))):la.E),(0,no.U)(()=>(0,de.cc)("analytics","AngularFireAnalytics",m.name,()=>{const Gt=m.analytics();return!1===A&&Gt.setAnalyticsCollectionEnabled(!1),Gt},[m,A,Re,Ee])),(0,za.d)({bufferSize:1,refCount:!1}));return(0,de.pX)(this,Nt,at)}updateConfig(m){return(0,ua.mG)(this,void 0,void 0,function*(){yield this.analyticsInitialized,window.gtag("config",this.measurementId,Object.assign(Object.assign({},m),{update:!0}))})}}return k.\u0275fac=function(m){return new(m||k)(C.LFG(de.Ot),C.LFG(hr,8),C.LFG(No,8),C.LFG(Pr,8),C.LFG(Sn,8),C.LFG(vs,8),C.LFG(C.Lbi),C.LFG(C.R0b),C.LFG(Ms.HU))},k.\u0275prov=C.Yz7({token:k,factory:k.\u0275fac,providedIn:"any"}),k})(),Br=(()=>{class k{constructor(m,A,L,ne){if(this.disposables=[],Ro.Z.registerVersion("angularfire",Ms.q4.full,"compat-user-tracking"),(0,$.PM)(A))this.initialized=Promise.resolve();else{let Ee;this.initialized=ne.runOutsideAngular(()=>new Promise(Re=>Ee=Re)),this.disposables=[L.authState.subscribe(Re=>{m.setUserId(null==Re?void 0:Re.uid),Ee()}),L.credential.subscribe(Re=>{if(Re){const Je=Re.user.isAnonymous?"anonymous":Re.additionalUserInfo.providerId;Re.additionalUserInfo.isNewUser&&m.logEvent("sign_up",{method:Je}),m.logEvent("login",{method:Je})}})]}}ngOnDestroy(){this.disposables.forEach(m=>m.unsubscribe())}}return k.\u0275fac=function(m){return new(m||k)(C.LFG(qo),C.LFG(C.Lbi),C.LFG(x.zQ),C.LFG(C.R0b))},k.\u0275prov=C.Yz7({token:k,factory:k.\u0275fac}),k})(),Es=(()=>{class k{constructor(m,A,L,ne,Ee,Re){if(Ro.Z.registerVersion("angularfire",Ms.q4.full,"compat-screen-tracking"),!A||!m)return this;Ee.runOutsideAngular(()=>{this.disposable=((k,g,m)=>k.events.pipe((0,ca.h)(L=>L instanceof H.jw)).pipe((0,go.w)(L=>{var ne;const Re=(null===(ne=k.parseUrl(k.url.replace(/(?:\().+(?:\))/g,Qt=>Qt.replace("://",":///"))).root.children[L.snapshot.outlet])||void 0===ne?void 0:ne.toString())||"",Je=k.routerState.root.children.map(Qt=>Qt).find(Qt=>Qt.outlet===L.snapshot.outlet);if(!Je)return(0,Ws.of)(null);let at=Je;for(;at.firstChild;)at=at.firstChild;const Rt=at.pathFromRoot.map(Qt=>{var an;return null===(an=Qt.routeConfig)||void 0===an?void 0:an.path}).filter(Qt=>Qt).join("/")||"/",Nt={[Wt]:Rt,page_path:`/${Re}`,firebase_event_origin:"auto",firebase_screen:Rt,[zi]:L.snapshot.outlet};g&&(Nt.page_title=g.getTitle());let Gt=Je.component;if(Gt){if(Gt===H.fw){let Qt=L.snapshot;for(;Qt.firstChild;)Qt=Qt.firstChild;Gt=Qt.component}}else Gt=L.snapshot.component;if("string"==typeof Gt)return(0,Ws.of)(Object.assign(Object.assign({},Nt),{[Ji]:Gt}));if(Gt){const Qt=m.resolveComponentFactory(Gt);return(0,Ws.of)(Object.assign(Object.assign({},Nt),{[Ji]:Qt.selector}))}return(0,Ws.of)(null)}),(0,ca.h)(L=>!!L),(0,no.U)(L=>Object.assign({firebase_screen_class:L[Ji],[kr]:v(L)},L)),function(k,g,m,A){return(0,yo.e)((L,ne)=>{let Ee;g&&"function"!=typeof g?({duration:m,element:Ee,connector:A}=g):Ee=g;const Re=new Map,Je=Gt=>{Re.forEach(Gt),Gt(ne)},at=Gt=>Je(Qt=>Qt.error(Gt)),Rt=new ei(ne,Gt=>{try{const Qt=k(Gt);let an=Re.get(Qt);if(!an){Re.set(Qt,an=A?A():new ro.x);const mn=function(Gt,Qt){const an=new $o.y(mn=>{Rt.activeGroups++;const cn=Qt.subscribe(mn);return()=>{cn.unsubscribe(),0==--Rt.activeGroups&&Rt.teardownAttempted&&Rt.unsubscribe()}});return an.key=Gt,an}(Qt,an);if(ne.next(mn),m){const cn=new Ga.Q(an,()=>{an.complete(),null==cn||cn.unsubscribe()},void 0,void 0,()=>Re.delete(Qt));Rt.add((0,Ho.Xf)(m(mn)).subscribe(cn))}}an.next(Ee?Ee(Gt):Gt)}catch(Qt){at(Qt)}},()=>Je(Gt=>Gt.complete()),at,()=>Re.clear());L.subscribe(Rt)})}(L=>L[zi]),(0,zs.z)(L=>L.pipe((0,zr.x)((ne,Ee)=>JSON.stringify(ne)===JSON.stringify(Ee)),(0,Bu.O)(void 0),(0,Yi.G)(),(0,no.U)(([ne,Ee])=>ne?Object.assign({firebase_previous_class:ne[Ji],firebase_previous_screen:ne[Wt],firebase_previous_id:ne[kr]},Ee):Ee)))))(A,L,ne).pipe((0,go.w)(Je=>(0,ua.mG)(this,void 0,void 0,function*(){return Re&&(yield Re.initialized),yield m.logEvent("screen_view",Je)}))).subscribe()})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}}return k.\u0275fac=function(m){return new(m||k)(C.LFG(qo),C.LFG(H.F0,8),C.LFG(f.Dx,8),C.LFG(C._Vd),C.LFG(C.R0b),C.LFG(Br,8))},k.\u0275prov=C.Yz7({token:k,factory:k.\u0275fac}),k})(),mi=(()=>{class k{constructor(m,A,L){Ro.Z.registerVersion("angularfire",Ms.q4.full,"analytics-compat"),m.app.then(()=>{})}}return k.\u0275fac=function(m){return new(m||k)(C.LFG(qo),C.LFG(Es,8),C.LFG(Br,8))},k.\u0275mod=C.oAB({type:k}),k.\u0275inj=C.cJS({providers:[qo]}),k})(),ao=(()=>{class k{constructor(m,A){this.messageService=m,this.analytics=A}handleError(m){var A;console.error("GLOBAL ERROR HANDLING",m),this.logError(m);let L="error",ne=m;for(const Ee of po)if((null===(A=m.message)||void 0===A?void 0:A.indexOf(Ee.searchText))>=0){if(Ee.ignore)return;ne=Ee.replaceText,L=Ee.replaceSeverity}this.messageService.add({severity:L,summary:ne,detail:window.location.pathname,life:1e4})}logError(m){var A=this;return(0,Hs.Z)(function*(){const L={error:m,message:m.message,url:window.location.pathname};yield A.analytics.logEvent("handled_error",L),console.log("error sent to analytics")})()}}return k.\u0275fac=function(m){return new(m||k)(C.LFG($s.ez),C.LFG(qo))},k.\u0275prov=C.Yz7({token:k,factory:k.\u0275fac}),k})();const Yo=[{path:"",component:Te},{path:"app",loadChildren:()=>b.e(869).then(b.bind(b,5869)).then(k=>k.AppModule)},{path:"**",redirectTo:""}];let Yl=(()=>{class k{}return k.\u0275fac=function(m){return new(m||k)},k.\u0275mod=C.oAB({type:k,bootstrap:[ue]}),k.\u0275inj=C.cJS({providers:[$s.ez,Es,Br,{provide:C.qLn,useClass:ao}],imports:[[$.ez,f.b2,pi,H.Bz.forRoot(Yo,{onSameUrlNavigation:"reload",useHash:!1,scrollPositionRestoration:"enabled",anchorScrolling:"enabled",scrollOffset:[0,64]}),de.hO.initializeApp(Ie.N.firebase),x.ww,mi,Ae.EV]]}),k})();Ie.N.production&&(0,C.G48)(),f.q6().bootstrapModule(Yl).catch(k=>console.error(k))},833:(gt,Ne,b)=>{"use strict";function f(C,$){if($.length<C)throw new TypeError(C+" argument"+(C>1?"s":"")+" required, but only "+$.length+" present")}b.d(Ne,{Z:()=>f})},7524:(gt,Ne,b)=>{"use strict";b.d(Ne,{Z:()=>$});var f=b(953),C=b(833);function $(ce,x){(0,C.Z)(2,arguments);var H=(0,f.Z)(ce),j=(0,f.Z)(x);return H.getTime()===j.getTime()}},5119:(gt,Ne,b)=>{"use strict";b.d(Ne,{Z:()=>$});var f=b(953),C=b(833);function $(ce){(0,C.Z)(1,arguments);var x=(0,f.Z)(ce);return x.setDate(1),x.setHours(0,0,0,0),x}},953:(gt,Ne,b)=>{"use strict";b.d(Ne,{Z:()=>C});var f=b(833);function C($){(0,f.Z)(1,arguments);var ce=Object.prototype.toString.call($);return $ instanceof Date||"object"==typeof $&&"[object Date]"===ce?new Date($.getTime()):"number"==typeof $||"[object Number]"===ce?new Date($):(("string"==typeof $||"[object String]"===ce)&&"undefined"!=typeof console&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn((new Error).stack)),new Date(NaN))}},7982:(gt,Ne,b)=>{"use strict";b.d(Ne,{Gb:()=>f.Gb});var f=b(579)},5867:(gt,Ne,b)=>{"use strict";b.d(Ne,{Mq:()=>f.getApp,C6:()=>f.getApps});var f=b(9681);(0,f.registerVersion)("firebase","9.6.5","app")},127:(gt,Ne,b)=>{"use strict";b.d(Ne,{Z:()=>f.Z});var f=b(3942);f.Z.registerVersion("firebase","9.6.5","app-compat")},8999:(gt,Ne,b)=>{"use strict";b.r(Ne);var f=b(5861),C=b(3942),$=b(2090),ce=b(9681),x=b(655),H=b(1877),j=b(4859);const Ye=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Ze=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ue=new $.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ie=new H.Yd("@firebase/auth");function me(y,...c){Ie.logLevel<=H.in.ERROR&&Ie.error(`Auth (${ce.SDK_VERSION}): ${y}`,...c)}function G(y,...c){throw we(y,...c)}function w(y,...c){return we(y,...c)}function ae(y,c,h){const E=Object.assign(Object.assign({},Ze()),{[c]:h});return new $.LL("auth","Firebase",E).create(c,{appName:y.name})}function re(y,c,h){if(!(c instanceof h))throw h.name!==c.constructor.name&&G(y,"argument-error"),ae(y,"argument-error",`Type of ${c.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function we(y,...c){if("string"!=typeof y){const h=c[0],E=[...c.slice(1)];return E[0]&&(E[0].appName=y.name),y._errorFactory.create(h,...E)}return ue.create(y,...c)}function Fe(y,c,...h){if(!y)throw we(c,...h)}function le(y){const c="INTERNAL ASSERTION FAILED: "+y;throw me(c),new Error(c)}function ge(y,c){y||le(c)}const ye=new Map;function _e(y){ge(y instanceof Function,"Expected a class definition");let c=ye.get(y);return c?(ge(c instanceof y,"Instance stored in cache mismatched with class"),c):(c=new y,ye.set(y,c),c)}function Et(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function It(){return"http:"===Ht()||"https:"===Ht()}function Ht(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class xt{constructor(c,h){this.shortDelay=c,this.longDelay=h,ge(h>c,"Short delay should be less than long delay!"),this.isMobile=(0,$.uI)()||(0,$.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(It()||(0,$.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function tn(y,c){ge(y.emulator,"Emulator should always be set here");const{url:h}=y.emulator;return c?`${h}${c.startsWith("/")?c.slice(1):c}`:h}class Hn{static initialize(c,h,E){this.fetchImpl=c,h&&(this.headersImpl=h),E&&(this.responseImpl=E)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void le("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void le("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void le("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Cn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Bn=new xt(3e4,6e4);function An(y,c){return y.tenantId&&!c.tenantId?Object.assign(Object.assign({},c),{tenantId:y.tenantId}):c}function qt(y,c,h,E){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,f.Z)(function*(y,c,h,E,U={}){return er(y,U,(0,f.Z)(function*(){let se={},qe={};E&&("GET"===c?qe=E:se={body:JSON.stringify(E)});const ot=(0,$.xO)(Object.assign({key:y.config.apiKey},qe)).slice(1),Ft=yield y._getAdditionalHeaders();return Ft["Content-Type"]="application/json",y.languageCode&&(Ft["X-Firebase-Locale"]=y.languageCode),Hn.fetch()(Pn(y,y.config.apiHost,h,ot),Object.assign({method:c,headers:Ft,referrerPolicy:"no-referrer"},se))}))})).apply(this,arguments)}function er(y,c,h){return tr.apply(this,arguments)}function tr(){return(tr=(0,f.Z)(function*(y,c,h){y._canInitEmulator=!1;const E=Object.assign(Object.assign({},Cn),c);try{const U=new bn(y),se=yield Promise.race([h(),U.promise]);U.clearNetworkTimeout();const qe=yield se.json();if("needConfirmation"in qe)throw Vn(y,"account-exists-with-different-credential",qe);if(se.ok&&!("errorMessage"in qe))return qe;{const ot=se.ok?qe.errorMessage:qe.error.message,[Ft,fn]=ot.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ft)throw Vn(y,"credential-already-in-use",qe);if("EMAIL_EXISTS"===Ft)throw Vn(y,"email-already-in-use",qe);const $n=E[Ft]||Ft.toLowerCase().replace(/[_\s]+/g,"-");if(fn)throw ae(y,$n,fn);G(y,$n)}}catch(U){if(U instanceof $.ZR)throw U;G(y,"network-request-failed")}})).apply(this,arguments)}function Gn(y,c,h,E){return cr.apply(this,arguments)}function cr(){return(cr=(0,f.Z)(function*(y,c,h,E,U={}){const se=yield qt(y,c,h,E,U);return"mfaPendingCredential"in se&&G(y,"multi-factor-auth-required",{_serverResponse:se}),se})).apply(this,arguments)}function Pn(y,c,h,E){const U=`${c}${h}?${E}`;return y.config.emulator?tn(y.config,U):`${y.config.apiScheme}://${U}`}class bn{constructor(c){this.auth=c,this.timer=null,this.promise=new Promise((h,E)=>{this.timer=setTimeout(()=>E(w(this.auth,"network-request-failed")),Bn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Vn(y,c,h){const E={appName:y.name};h.email&&(E.email=h.email),h.phoneNumber&&(E.phoneNumber=h.phoneNumber);const U=w(y,c,E);return U.customData._tokenResponse=h,U}function Xt(){return(Xt=(0,f.Z)(function*(y,c){return qt(y,"POST","/v1/accounts:delete",c)})).apply(this,arguments)}function kn(y,c){return rr.apply(this,arguments)}function rr(){return(rr=(0,f.Z)(function*(y,c){return qt(y,"POST","/v1/accounts:update",c)})).apply(this,arguments)}function ar(y,c){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,f.Z)(function*(y,c){return qt(y,"POST","/v1/accounts:lookup",c)})).apply(this,arguments)}function en(y){if(y)try{const c=new Date(Number(y));if(!isNaN(c.getTime()))return c.toUTCString()}catch(c){}}function jn(){return(jn=(0,f.Z)(function*(y,c=!1){const h=(0,$.m9)(y),E=yield h.getIdToken(c),U=Lt(E);Fe(U&&U.exp&&U.auth_time&&U.iat,h.auth,"internal-error");const se="object"==typeof U.firebase?U.firebase:void 0,qe=null==se?void 0:se.sign_in_provider;return{claims:U,token:E,authTime:en(yn(U.auth_time)),issuedAtTime:en(yn(U.iat)),expirationTime:en(yn(U.exp)),signInProvider:qe||null,signInSecondFactor:(null==se?void 0:se.sign_in_second_factor)||null}})).apply(this,arguments)}function yn(y){return 1e3*Number(y)}function Lt(y){const[c,h,E]=y.split(".");if(void 0===c||void 0===h||void 0===E)return me("JWT malformed, contained fewer than 3 sections"),null;try{const U=(0,$.tV)(h);return U?JSON.parse(U):(me("Failed to decode base64 JWT payload"),null)}catch(U){return me("Caught error parsing JWT payload as JSON",U),null}}function _n(y,c){return sr.apply(this,arguments)}function sr(){return(sr=(0,f.Z)(function*(y,c,h=!1){if(h)return c;try{return yield c}catch(E){throw E instanceof $.ZR&&Tr(E)&&y.auth.currentUser===y&&(yield y.auth.signOut()),E}})).apply(this,arguments)}function Tr({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class Fn{constructor(c){this.user=c,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(c){var h;if(c){const E=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),E}{this.errorBackoff=3e4;const U=(null!==(h=this.user.stsTokenManager.expirationTime)&&void 0!==h?h:0)-Date.now()-3e5;return Math.max(0,U)}}schedule(c=!1){var h=this;if(!this.isRunning)return;const E=this.getInterval(c);this.timerId=setTimeout((0,f.Z)(function*(){yield h.iteration()}),E)}iteration(){var c=this;return(0,f.Z)(function*(){try{yield c.user.getIdToken(!0)}catch(h){return void("auth/network-request-failed"===h.code&&c.schedule(!0))}c.schedule()})()}}class ur{constructor(c,h){this.createdAt=c,this.lastLoginAt=h,this._initializeTime()}_initializeTime(){this.lastSignInTime=en(this.lastLoginAt),this.creationTime=en(this.createdAt)}_copy(c){this.createdAt=c.createdAt,this.lastLoginAt=c.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Nr(y){return xe.apply(this,arguments)}function xe(){return(xe=(0,f.Z)(function*(y){var c;const h=y.auth,E=yield y.getIdToken(),U=yield _n(y,ar(h,{idToken:E}));Fe(null==U?void 0:U.users.length,h,"internal-error");const se=U.users[0];y._notifyReloadListener(se);const qe=(null===(c=se.providerUserInfo)||void 0===c?void 0:c.length)?K(se.providerUserInfo):[],ot=V(y.providerData,qe),$n=!!y.isAnonymous&&!(y.email&&se.passwordHash||(null==ot?void 0:ot.length)),On={uid:se.localId,displayName:se.displayName||null,photoURL:se.photoUrl||null,email:se.email||null,emailVerified:se.emailVerified||!1,phoneNumber:se.phoneNumber||null,tenantId:se.tenantId||null,providerData:ot,metadata:new ur(se.createdAt,se.lastLoginAt),isAnonymous:$n};Object.assign(y,On)})).apply(this,arguments)}function he(){return(he=(0,f.Z)(function*(y){const c=(0,$.m9)(y);yield Nr(c),yield c.auth._persistUserIfCurrent(c),c.auth._notifyListenersIfCurrent(c)})).apply(this,arguments)}function V(y,c){return[...y.filter(E=>!c.some(U=>U.providerId===E.providerId)),...c]}function K(y){return y.map(c=>{var{providerId:h}=c,E=(0,x._T)(c,["providerId"]);return{providerId:h,uid:E.rawId||"",displayName:E.displayName||null,email:E.email||null,phoneNumber:E.phoneNumber||null,photoURL:E.photoUrl||null}})}function Ce(){return(Ce=(0,f.Z)(function*(y,c){const h=yield er(y,{},(0,f.Z)(function*(){const E=(0,$.xO)({grant_type:"refresh_token",refresh_token:c}).slice(1),{tokenApiHost:U,apiKey:se}=y.config,qe=Pn(y,U,"/v1/token",`key=${se}`),ot=yield y._getAdditionalHeaders();return ot["Content-Type"]="application/x-www-form-urlencoded",Hn.fetch()(qe,{method:"POST",headers:ot,body:E})}));return{accessToken:h.access_token,expiresIn:h.expires_in,refreshToken:h.refresh_token}})).apply(this,arguments)}class We{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(c){Fe(c.idToken,"internal-error"),Fe(void 0!==c.idToken,"internal-error"),Fe(void 0!==c.refreshToken,"internal-error");const h="expiresIn"in c&&void 0!==c.expiresIn?Number(c.expiresIn):function(y){const c=Lt(y);return Fe(c,"internal-error"),Fe(void 0!==c.exp,"internal-error"),Fe(void 0!==c.iat,"internal-error"),Number(c.exp)-Number(c.iat)}(c.idToken);this.updateTokensAndExpiration(c.idToken,c.refreshToken,h)}getToken(c,h=!1){var E=this;return(0,f.Z)(function*(){return Fe(!E.accessToken||E.refreshToken,c,"user-token-expired"),h||!E.accessToken||E.isExpired?E.refreshToken?(yield E.refresh(c,E.refreshToken),E.accessToken):null:E.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(c,h){var E=this;return(0,f.Z)(function*(){const{accessToken:U,refreshToken:se,expiresIn:qe}=yield function(y,c){return Ce.apply(this,arguments)}(c,h);E.updateTokensAndExpiration(U,se,Number(qe))})()}updateTokensAndExpiration(c,h,E){this.refreshToken=h||null,this.accessToken=c||null,this.expirationTime=Date.now()+1e3*E}static fromJSON(c,h){const{refreshToken:E,accessToken:U,expirationTime:se}=h,qe=new We;return E&&(Fe("string"==typeof E,"internal-error",{appName:c}),qe.refreshToken=E),U&&(Fe("string"==typeof U,"internal-error",{appName:c}),qe.accessToken=U),se&&(Fe("number"==typeof se,"internal-error",{appName:c}),qe.expirationTime=se),qe}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(c){this.accessToken=c.accessToken,this.refreshToken=c.refreshToken,this.expirationTime=c.expirationTime}_clone(){return Object.assign(new We,this.toJSON())}_performRefresh(){return le("not implemented")}}function st(y,c){Fe("string"==typeof y||void 0===y,"internal-error",{appName:c})}class vt{constructor(c){var{uid:h,auth:E,stsTokenManager:U}=c,se=(0,x._T)(c,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new Fn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=h,this.auth=E,this.stsTokenManager=U,this.accessToken=U.accessToken,this.displayName=se.displayName||null,this.email=se.email||null,this.emailVerified=se.emailVerified||!1,this.phoneNumber=se.phoneNumber||null,this.photoURL=se.photoURL||null,this.isAnonymous=se.isAnonymous||!1,this.tenantId=se.tenantId||null,this.metadata=new ur(se.createdAt||void 0,se.lastLoginAt||void 0)}getIdToken(c){var h=this;return(0,f.Z)(function*(){const E=yield _n(h,h.stsTokenManager.getToken(h.auth,c));return Fe(E,h.auth,"internal-error"),h.accessToken!==E&&(h.accessToken=E,yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)),E})()}getIdTokenResult(c){return function(y){return jn.apply(this,arguments)}(this,c)}reload(){return function(y){return he.apply(this,arguments)}(this)}_assign(c){this!==c&&(Fe(this.uid===c.uid,this.auth,"internal-error"),this.displayName=c.displayName,this.photoURL=c.photoURL,this.email=c.email,this.emailVerified=c.emailVerified,this.phoneNumber=c.phoneNumber,this.isAnonymous=c.isAnonymous,this.tenantId=c.tenantId,this.providerData=c.providerData.map(h=>Object.assign({},h)),this.metadata._copy(c.metadata),this.stsTokenManager._assign(c.stsTokenManager))}_clone(c){return new vt(Object.assign(Object.assign({},this),{auth:c,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(c){Fe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=c,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(c){this.reloadListener?this.reloadListener(c):this.reloadUserInfo=c}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(c,h=!1){var E=this;return(0,f.Z)(function*(){let U=!1;c.idToken&&c.idToken!==E.stsTokenManager.accessToken&&(E.stsTokenManager.updateFromServerResponse(c),U=!0),h&&(yield Nr(E)),yield E.auth._persistUserIfCurrent(E),U&&E.auth._notifyListenersIfCurrent(E)})()}delete(){var c=this;return(0,f.Z)(function*(){const h=yield c.getIdToken();return yield _n(c,function(y,c){return Xt.apply(this,arguments)}(c.auth,{idToken:h})),c.stsTokenManager.clearRefreshToken(),c.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(c=>Object.assign({},c)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(c,h){var E,U,se,qe,ot,Ft,fn,$n;const On=null!==(E=h.displayName)&&void 0!==E?E:void 0,ri=null!==(U=h.email)&&void 0!==U?U:void 0,lo=null!==(se=h.phoneNumber)&&void 0!==se?se:void 0,ta=null!==(qe=h.photoURL)&&void 0!==qe?qe:void 0,va=null!==(ot=h.tenantId)&&void 0!==ot?ot:void 0,na=null!==(Ft=h._redirectEventId)&&void 0!==Ft?Ft:void 0,su=null!==(fn=h.createdAt)&&void 0!==fn?fn:void 0,_d=null!==($n=h.lastLoginAt)&&void 0!==$n?$n:void 0,{uid:ra,emailVerified:Ol,isAnonymous:Rl,providerData:Ml,stsTokenManager:Pl}=h;Fe(ra&&Pl,c,"internal-error");const vc=We.fromJSON(this.name,Pl);Fe("string"==typeof ra,c,"internal-error"),st(On,c.name),st(ri,c.name),Fe("boolean"==typeof Ol,c,"internal-error"),Fe("boolean"==typeof Rl,c,"internal-error"),st(lo,c.name),st(ta,c.name),st(va,c.name),st(na,c.name),st(su,c.name),st(_d,c.name);const Ec=new vt({uid:ra,auth:c,email:ri,emailVerified:Ol,displayName:On,isAnonymous:Rl,photoURL:ta,phoneNumber:lo,tenantId:va,stsTokenManager:vc,createdAt:su,lastLoginAt:_d});return Ml&&Array.isArray(Ml)&&(Ec.providerData=Ml.map(vd=>Object.assign({},vd))),na&&(Ec._redirectEventId=na),Ec}static _fromIdTokenResponse(c,h,E=!1){return(0,f.Z)(function*(){const U=new We;U.updateFromServerResponse(h);const se=new vt({uid:h.localId,auth:c,stsTokenManager:U,isAnonymous:E});return yield Nr(se),se})()}}const mt=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,f.Z)(function*(){return!0})()}_set(h,E){var U=this;return(0,f.Z)(function*(){U.storage[h]=E})()}_get(h){var E=this;return(0,f.Z)(function*(){const U=E.storage[h];return void 0===U?null:U})()}_remove(h){var E=this;return(0,f.Z)(function*(){delete E.storage[h]})()}_addListener(h,E){}_removeListener(h,E){}}return y.type="NONE",y})();function St(y,c,h){return`firebase:${y}:${c}:${h}`}class rn{constructor(c,h,E){this.persistence=c,this.auth=h,this.userKey=E;const{config:U,name:se}=this.auth;this.fullUserKey=St(this.userKey,U.apiKey,se),this.fullPersistenceKey=St("persistence",U.apiKey,se),this.boundEventHandler=h._onStorageEvent.bind(h),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(c){return this.persistence._set(this.fullUserKey,c.toJSON())}getCurrentUser(){var c=this;return(0,f.Z)(function*(){const h=yield c.persistence._get(c.fullUserKey);return h?vt._fromJSON(c.auth,h):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(c){var h=this;return(0,f.Z)(function*(){if(h.persistence===c)return;const E=yield h.getCurrentUser();return yield h.removeCurrentUser(),h.persistence=c,E?h.setCurrentUser(E):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(c,h,E="authUser"){return(0,f.Z)(function*(){if(!h.length)return new rn(_e(mt),c,E);const U=(yield Promise.all(h.map(function(){var fn=(0,f.Z)(function*($n){if(yield $n._isAvailable())return $n});return function($n){return fn.apply(this,arguments)}}()))).filter(fn=>fn);let se=U[0]||_e(mt);const qe=St(E,c.config.apiKey,c.name);let ot=null;for(const fn of h)try{const $n=yield fn._get(qe);if($n){const On=vt._fromJSON(c,$n);fn!==se&&(ot=On),se=fn;break}}catch($n){}const Ft=U.filter(fn=>fn._shouldAllowMigration);return se._shouldAllowMigration&&Ft.length?(se=Ft[0],ot&&(yield se._set(qe,ot.toJSON())),yield Promise.all(h.map(function(){var fn=(0,f.Z)(function*($n){if($n!==se)try{yield $n._remove(qe)}catch(On){}});return function($n){return fn.apply(this,arguments)}}())),new rn(se,c,E)):new rn(se,c,E)})()}}function vn(y){const c=y.toLowerCase();if(c.includes("opera/")||c.includes("opr/")||c.includes("opios/"))return"Opera";if(Ve(c))return"IEMobile";if(c.includes("msie")||c.includes("trident/"))return"IE";if(c.includes("edge/"))return"Edge";if(Ue(c))return"Firefox";if(c.includes("silk/"))return"Silk";if($t(c))return"Blackberry";if(sn(c))return"Webos";if(Oe(c))return"Safari";if((c.includes("chrome/")||pe(c))&&!c.includes("edge/"))return"Chrome";if(rt(c))return"Android";{const E=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==E?void 0:E.length))return E[1]}return"Other"}function Ue(y=(0,$.z$)()){return/firefox\//i.test(y)}function Oe(y=(0,$.z$)()){const c=y.toLowerCase();return c.includes("safari/")&&!c.includes("chrome/")&&!c.includes("crios/")&&!c.includes("android")}function pe(y=(0,$.z$)()){return/crios\//i.test(y)}function Ve(y=(0,$.z$)()){return/iemobile/i.test(y)}function rt(y=(0,$.z$)()){return/android/i.test(y)}function $t(y=(0,$.z$)()){return/blackberry/i.test(y)}function sn(y=(0,$.z$)()){return/webos/i.test(y)}function En(y=(0,$.z$)()){return/iphone|ipad|ipod/i.test(y)}function Si(y=(0,$.z$)()){return En(y)||rt(y)||sn(y)||$t(y)||/windows phone/i.test(y)||Ve(y)}function _r(y,c=[]){let h;switch(y){case"Browser":h=vn((0,$.z$)());break;case"Worker":h=`${vn((0,$.z$)())}-${y}`;break;default:h=y}const E=c.length?c.join(","):"FirebaseCore-web";return`${h}/JsCore/${ce.SDK_VERSION}/${E}`}class As{constructor(c,h){this.app=c,this.config=h,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new be(this),this.idTokenSubscription=new be(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ue,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=c.name,this.clientVersion=h.sdkClientVersion}_initializeWithPersistence(c,h){var E=this;return h&&(this._popupRedirectResolver=_e(h)),this._initializationPromise=this.queue((0,f.Z)(function*(){var U,se;if(!E._deleted&&(E.persistenceManager=yield rn.create(E,c),!E._deleted)){if(null===(U=E._popupRedirectResolver)||void 0===U?void 0:U._shouldInitProactively)try{yield E._popupRedirectResolver._initialize(E)}catch(qe){}yield E.initializeCurrentUser(h),E.lastNotifiedUid=(null===(se=E.currentUser)||void 0===se?void 0:se.uid)||null,!E._deleted&&(E._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var c=this;return(0,f.Z)(function*(){if(c._deleted)return;const h=yield c.assertedPersistence.getCurrentUser();if(c.currentUser||h){if(c.currentUser&&h&&c.currentUser.uid===h.uid)return c._currentUser._assign(h),void(yield c.currentUser.getIdToken());yield c._updateCurrentUser(h)}})()}initializeCurrentUser(c){var h=this;return(0,f.Z)(function*(){var E;let U=yield h.assertedPersistence.getCurrentUser();if(c&&h.config.authDomain){yield h.getOrInitRedirectPersistenceManager();const se=null===(E=h.redirectUser)||void 0===E?void 0:E._redirectEventId,qe=null==U?void 0:U._redirectEventId,ot=yield h.tryRedirectSignIn(c);(!se||se===qe)&&(null==ot?void 0:ot.user)&&(U=ot.user)}return U?U._redirectEventId?(Fe(h._popupRedirectResolver,h,"argument-error"),yield h.getOrInitRedirectPersistenceManager(),h.redirectUser&&h.redirectUser._redirectEventId===U._redirectEventId?h.directlySetCurrentUser(U):h.reloadAndSetCurrentUserOrClear(U)):h.reloadAndSetCurrentUserOrClear(U):h.directlySetCurrentUser(null)})()}tryRedirectSignIn(c){var h=this;return(0,f.Z)(function*(){let E=null;try{E=yield h._popupRedirectResolver._completeRedirectFn(h,c,!0)}catch(U){yield h._setRedirectUser(null)}return E})()}reloadAndSetCurrentUserOrClear(c){var h=this;return(0,f.Z)(function*(){try{yield Nr(c)}catch(E){if("auth/network-request-failed"!==E.code)return h.directlySetCurrentUser(null)}return h.directlySetCurrentUser(c)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var c=this;return(0,f.Z)(function*(){c._deleted=!0})()}updateCurrentUser(c){var h=this;return(0,f.Z)(function*(){const E=c?(0,$.m9)(c):null;return E&&Fe(E.auth.config.apiKey===h.config.apiKey,h,"invalid-user-token"),h._updateCurrentUser(E&&E._clone(h))})()}_updateCurrentUser(c){var h=this;return(0,f.Z)(function*(){if(!h._deleted)return c&&Fe(h.tenantId===c.tenantId,h,"tenant-id-mismatch"),h.queue((0,f.Z)(function*(){yield h.directlySetCurrentUser(c),h.notifyAuthListeners()}))})()}signOut(){var c=this;return(0,f.Z)(function*(){return(c.redirectPersistenceManager||c._popupRedirectResolver)&&(yield c._setRedirectUser(null)),c._updateCurrentUser(null)})()}setPersistence(c){var h=this;return this.queue((0,f.Z)(function*(){yield h.assertedPersistence.setPersistence(_e(c))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(c){this._errorFactory=new $.LL("auth","Firebase",c())}onAuthStateChanged(c,h,E){return this.registerStateListener(this.authStateSubscription,c,h,E)}onIdTokenChanged(c,h,E){return this.registerStateListener(this.idTokenSubscription,c,h,E)}toJSON(){var c;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(c=this._currentUser)||void 0===c?void 0:c.toJSON()}}_setRedirectUser(c,h){var E=this;return(0,f.Z)(function*(){const U=yield E.getOrInitRedirectPersistenceManager(h);return null===c?U.removeCurrentUser():U.setCurrentUser(c)})()}getOrInitRedirectPersistenceManager(c){var h=this;return(0,f.Z)(function*(){if(!h.redirectPersistenceManager){const E=c&&_e(c)||h._popupRedirectResolver;Fe(E,h,"argument-error"),h.redirectPersistenceManager=yield rn.create(h,[_e(E._redirectPersistence)],"redirectUser"),h.redirectUser=yield h.redirectPersistenceManager.getCurrentUser()}return h.redirectPersistenceManager})()}_redirectUserForId(c){var h=this;return(0,f.Z)(function*(){var E,U;return h._isInitialized&&(yield h.queue((0,f.Z)(function*(){}))),(null===(E=h._currentUser)||void 0===E?void 0:E._redirectEventId)===c?h._currentUser:(null===(U=h.redirectUser)||void 0===U?void 0:U._redirectEventId)===c?h.redirectUser:null})()}_persistUserIfCurrent(c){var h=this;return(0,f.Z)(function*(){if(c===h.currentUser)return h.queue((0,f.Z)(function*(){return h.directlySetCurrentUser(c)}))})()}_notifyListenersIfCurrent(c){c===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var c,h;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const E=null!==(h=null===(c=this.currentUser)||void 0===c?void 0:c.uid)&&void 0!==h?h:null;this.lastNotifiedUid!==E&&(this.lastNotifiedUid=E,this.authStateSubscription.next(this.currentUser))}registerStateListener(c,h,E,U){if(this._deleted)return()=>{};const se="function"==typeof h?h:h.next.bind(h),qe=this._isInitialized?Promise.resolve():this._initializationPromise;return Fe(qe,this,"internal-error"),qe.then(()=>se(this.currentUser)),"function"==typeof h?c.addObserver(h,E,U):c.addObserver(h)}directlySetCurrentUser(c){var h=this;return(0,f.Z)(function*(){h.currentUser&&h.currentUser!==c&&(h._currentUser._stopProactiveRefresh(),c&&h.isProactiveRefreshEnabled&&c._startProactiveRefresh()),h.currentUser=c,c?yield h.assertedPersistence.setCurrentUser(c):yield h.assertedPersistence.removeCurrentUser()})()}queue(c){return this.operations=this.operations.then(c,c),this.operations}get assertedPersistence(){return Fe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(c){!c||this.frameworks.includes(c)||(this.frameworks.push(c),this.frameworks.sort(),this.clientVersion=_r(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var c=this;return(0,f.Z)(function*(){const h={"X-Client-Version":c.clientVersion};return c.app.options.appId&&(h["X-Firebase-gmpid"]=c.app.options.appId),h})()}}function nr(y){return(0,$.m9)(y)}class be{constructor(c){this.auth=c,this.observer=null,this.addObserver=(0,$.ne)(h=>this.observer=h)}get next(){return Fe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function dt(y){const c=y.indexOf(":");return c<0?"":y.substr(0,c+1)}function Qn(y){if(!y)return null;const c=Number(y);return isNaN(c)?null:c}class Jn{constructor(c,h){this.providerId=c,this.signInMethod=h}toJSON(){return le("not implemented")}_getIdTokenResponse(c){return le("not implemented")}_linkToIdToken(c,h){return le("not implemented")}_getReauthenticationResolver(c){return le("not implemented")}}function Rn(y,c){return wi.apply(this,arguments)}function wi(){return(wi=(0,f.Z)(function*(y,c){return qt(y,"POST","/v1/accounts:resetPassword",An(y,c))})).apply(this,arguments)}function xi(y,c){return hn.apply(this,arguments)}function hn(){return(hn=(0,f.Z)(function*(y,c){return qt(y,"POST","/v1/accounts:update",c)})).apply(this,arguments)}function ss(y,c){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,f.Z)(function*(y,c){return qt(y,"POST","/v1/accounts:update",An(y,c))})).apply(this,arguments)}function Zr(){return(Zr=(0,f.Z)(function*(y,c){return Gn(y,"POST","/v1/accounts:signInWithPassword",An(y,c))})).apply(this,arguments)}function Rr(y,c){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,f.Z)(function*(y,c){return qt(y,"POST","/v1/accounts:sendOobCode",An(y,c))})).apply(this,arguments)}function Ke(y,c){return je.apply(this,arguments)}function je(){return(je=(0,f.Z)(function*(y,c){return Rr(y,c)})).apply(this,arguments)}function Qe(y,c){return ft.apply(this,arguments)}function ft(){return(ft=(0,f.Z)(function*(y,c){return Rr(y,c)})).apply(this,arguments)}function Ot(y,c){return zt.apply(this,arguments)}function zt(){return(zt=(0,f.Z)(function*(y,c){return Rr(y,c)})).apply(this,arguments)}function Kn(y,c){return gr.apply(this,arguments)}function gr(){return(gr=(0,f.Z)(function*(y,c){return Rr(y,c)})).apply(this,arguments)}function qr(){return(qr=(0,f.Z)(function*(y,c){return Gn(y,"POST","/v1/accounts:signInWithEmailLink",An(y,c))})).apply(this,arguments)}function Ii(){return(Ii=(0,f.Z)(function*(y,c){return Gn(y,"POST","/v1/accounts:signInWithEmailLink",An(y,c))})).apply(this,arguments)}class ms extends Jn{constructor(c,h,E,U=null){super("password",E),this._email=c,this._password=h,this._tenantId=U}static _fromEmailAndPassword(c,h){return new ms(c,h,"password")}static _fromEmailAndCode(c,h,E=null){return new ms(c,h,"emailLink",E)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(c){const h="string"==typeof c?JSON.parse(c):c;if((null==h?void 0:h.email)&&(null==h?void 0:h.password)){if("password"===h.signInMethod)return this._fromEmailAndPassword(h.email,h.password);if("emailLink"===h.signInMethod)return this._fromEmailAndCode(h.email,h.password,h.tenantId)}return null}_getIdTokenResponse(c){var h=this;return(0,f.Z)(function*(){switch(h.signInMethod){case"password":return function(y,c){return Zr.apply(this,arguments)}(c,{returnSecureToken:!0,email:h._email,password:h._password});case"emailLink":return function(y,c){return qr.apply(this,arguments)}(c,{email:h._email,oobCode:h._password});default:G(c,"internal-error")}})()}_linkToIdToken(c,h){var E=this;return(0,f.Z)(function*(){switch(E.signInMethod){case"password":return xi(c,{idToken:h,returnSecureToken:!0,email:E._email,password:E._password});case"emailLink":return function(y,c){return Ii.apply(this,arguments)}(c,{idToken:h,email:E._email,oobCode:E._password});default:G(c,"internal-error")}})()}_getReauthenticationResolver(c){return this._getIdTokenResponse(c)}}function xr(y,c){return bo.apply(this,arguments)}function bo(){return(bo=(0,f.Z)(function*(y,c){return Gn(y,"POST","/v1/accounts:signInWithIdp",An(y,c))})).apply(this,arguments)}class Li extends Jn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(c){const h=new Li(c.providerId,c.signInMethod);return c.idToken||c.accessToken?(c.idToken&&(h.idToken=c.idToken),c.accessToken&&(h.accessToken=c.accessToken),c.nonce&&!c.pendingToken&&(h.nonce=c.nonce),c.pendingToken&&(h.pendingToken=c.pendingToken)):c.oauthToken&&c.oauthTokenSecret?(h.accessToken=c.oauthToken,h.secret=c.oauthTokenSecret):G("argument-error"),h}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(c){const h="string"==typeof c?JSON.parse(c):c,{providerId:E,signInMethod:U}=h,se=(0,x._T)(h,["providerId","signInMethod"]);if(!E||!U)return null;const qe=new Li(E,U);return qe.idToken=se.idToken||void 0,qe.accessToken=se.accessToken||void 0,qe.secret=se.secret,qe.nonce=se.nonce,qe.pendingToken=se.pendingToken||null,qe}_getIdTokenResponse(c){return xr(c,this.buildRequest())}_linkToIdToken(c,h){const E=this.buildRequest();return E.idToken=h,xr(c,E)}_getReauthenticationResolver(c){const h=this.buildRequest();return h.autoCreate=!1,xr(c,h)}buildRequest(){const c={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)c.pendingToken=this.pendingToken;else{const h={};this.idToken&&(h.id_token=this.idToken),this.accessToken&&(h.access_token=this.accessToken),this.secret&&(h.oauth_token_secret=this.secret),h.providerId=this.providerId,this.nonce&&!this.pendingToken&&(h.nonce=this.nonce),c.postBody=(0,$.xO)(h)}return c}}function hi(y,c){return $i.apply(this,arguments)}function $i(){return($i=(0,f.Z)(function*(y,c){return qt(y,"POST","/v1/accounts:sendVerificationCode",An(y,c))})).apply(this,arguments)}function os(){return(os=(0,f.Z)(function*(y,c){return Gn(y,"POST","/v1/accounts:signInWithPhoneNumber",An(y,c))})).apply(this,arguments)}function Us(){return(Us=(0,f.Z)(function*(y,c){const h=yield Gn(y,"POST","/v1/accounts:signInWithPhoneNumber",An(y,c));if(h.temporaryProof)throw Vn(y,"account-exists-with-different-credential",h);return h})).apply(this,arguments)}const So={USER_NOT_FOUND:"user-not-found"};function Qs(){return(Qs=(0,f.Z)(function*(y,c){return Gn(y,"POST","/v1/accounts:signInWithPhoneNumber",An(y,Object.assign(Object.assign({},c),{operation:"REAUTH"})),So)})).apply(this,arguments)}class fi extends Jn{constructor(c){super("phone","phone"),this.params=c}static _fromVerification(c,h){return new fi({verificationId:c,verificationCode:h})}static _fromTokenResponse(c,h){return new fi({phoneNumber:c,temporaryProof:h})}_getIdTokenResponse(c){return function(y,c){return os.apply(this,arguments)}(c,this._makeVerificationRequest())}_linkToIdToken(c,h){return function(y,c){return Us.apply(this,arguments)}(c,Object.assign({idToken:h},this._makeVerificationRequest()))}_getReauthenticationResolver(c){return function(y,c){return Qs.apply(this,arguments)}(c,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:c,phoneNumber:h,verificationId:E,verificationCode:U}=this.params;return c&&h?{temporaryProof:c,phoneNumber:h}:{sessionInfo:E,code:U}}toJSON(){const c={providerId:this.providerId};return this.params.phoneNumber&&(c.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(c.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(c.verificationCode=this.params.verificationCode),this.params.verificationId&&(c.verificationId=this.params.verificationId),c}static fromJSON(c){"string"==typeof c&&(c=JSON.parse(c));const{verificationId:h,verificationCode:E,phoneNumber:U,temporaryProof:se}=c;return E||h||U||se?new fi({verificationId:h,verificationCode:E,phoneNumber:U,temporaryProof:se}):null}}class as{constructor(c){var h,E,U,se,qe,ot;const Ft=(0,$.zd)((0,$.pd)(c)),fn=null!==(h=Ft.apiKey)&&void 0!==h?h:null,$n=null!==(E=Ft.oobCode)&&void 0!==E?E:null,On=function(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(U=Ft.mode)&&void 0!==U?U:null);Fe(fn&&$n&&On,"argument-error"),this.apiKey=fn,this.operation=On,this.code=$n,this.continueUrl=null!==(se=Ft.continueUrl)&&void 0!==se?se:null,this.languageCode=null!==(qe=Ft.languageCode)&&void 0!==qe?qe:null,this.tenantId=null!==(ot=Ft.tenantId)&&void 0!==ot?ot:null}static parseLink(c){const h=function(y){const c=(0,$.zd)((0,$.pd)(y)).link,h=c?(0,$.zd)((0,$.pd)(c)).deep_link_id:null,E=(0,$.zd)((0,$.pd)(y)).deep_link_id;return(E?(0,$.zd)((0,$.pd)(E)).link:null)||E||h||c||y}(c);try{return new as(h)}catch(E){return null}}}let oi=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(h,E){return ms._fromEmailAndPassword(h,E)}static credentialWithLink(h,E){const U=as.parseLink(E);return Fe(U,"argument-error"),ms._fromEmailAndCode(h,U.code,U.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class Hr{constructor(c){this.providerId=c,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(c){this.defaultLanguageCode=c}setCustomParameters(c){return this.customParameters=c,this}getCustomParameters(){return this.customParameters}}class Js extends Hr{constructor(){super(...arguments),this.scopes=[]}addScope(c){return this.scopes.includes(c)||this.scopes.push(c),this}getScopes(){return[...this.scopes]}}class Ri extends Js{static credentialFromJSON(c){const h="string"==typeof c?JSON.parse(c):c;return Fe("providerId"in h&&"signInMethod"in h,"argument-error"),Li._fromParams(h)}credential(c){return this._credential(Object.assign(Object.assign({},c),{nonce:c.rawNonce}))}_credential(c){return Fe(c.idToken||c.accessToken,"argument-error"),Li._fromParams(Object.assign(Object.assign({},c),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(c){return Ri.oauthCredentialFromTaggedObject(c)}static credentialFromError(c){return Ri.oauthCredentialFromTaggedObject(c.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:c}){if(!c)return null;const{oauthIdToken:h,oauthAccessToken:E,oauthTokenSecret:U,pendingToken:se,nonce:qe,providerId:ot}=c;if(!E&&!U&&!h&&!se||!ot)return null;try{return new Ri(ot)._credential({idToken:h,accessToken:E,nonce:qe,pendingToken:se})}catch(Ft){return null}}}let ai=(()=>{class y extends Js{constructor(){super("facebook.com")}static credential(h){return Li._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:h})}static credentialFromResult(h){return y.credentialFromTaggedObject(h)}static credentialFromError(h){return y.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h||!("oauthAccessToken"in h)||!h.oauthAccessToken)return null;try{return y.credential(h.oauthAccessToken)}catch(E){return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),Yr=(()=>{class y extends Js{constructor(){super("google.com"),this.addScope("profile")}static credential(h,E){return Li._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:h,accessToken:E})}static credentialFromResult(h){return y.credentialFromTaggedObject(h)}static credentialFromError(h){return y.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthIdToken:E,oauthAccessToken:U}=h;if(!E&&!U)return null;try{return y.credential(E,U)}catch(se){return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),qi=(()=>{class y extends Js{constructor(){super("github.com")}static credential(h){return Li._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:h})}static credentialFromResult(h){return y.credentialFromTaggedObject(h)}static credentialFromError(h){return y.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h||!("oauthAccessToken"in h)||!h.oauthAccessToken)return null;try{return y.credential(h.oauthAccessToken)}catch(E){return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class ki extends Jn{constructor(c,h){super(c,c),this.pendingToken=h}_getIdTokenResponse(c){return xr(c,this.buildRequest())}_linkToIdToken(c,h){const E=this.buildRequest();return E.idToken=h,xr(c,E)}_getReauthenticationResolver(c){const h=this.buildRequest();return h.autoCreate=!1,xr(c,h)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(c){const h="string"==typeof c?JSON.parse(c):c,{providerId:E,signInMethod:U,pendingToken:se}=h;return E&&U&&se&&E===U?new ki(E,se):null}static _create(c,h){return new ki(c,h)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class or extends Hr{constructor(c){Fe(c.startsWith("saml."),"argument-error"),super(c)}static credentialFromResult(c){return or.samlCredentialFromTaggedObject(c)}static credentialFromError(c){return or.samlCredentialFromTaggedObject(c.customData||{})}static credentialFromJSON(c){const h=ki.fromJSON(c);return Fe(h,"argument-error"),h}static samlCredentialFromTaggedObject({_tokenResponse:c}){if(!c)return null;const{pendingToken:h,providerId:E}=c;if(!h||!E)return null;try{return ki._create(E,h)}catch(U){return null}}}let Ss=(()=>{class y extends Js{constructor(){super("twitter.com")}static credential(h,E){return Li._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:h,oauthTokenSecret:E})}static credentialFromResult(h){return y.credentialFromTaggedObject(h)}static credentialFromError(h){return y.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthAccessToken:E,oauthTokenSecret:U}=h;if(!E||!U)return null;try{return y.credential(E,U)}catch(se){return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function Vs(y,c){return eo.apply(this,arguments)}function eo(){return(eo=(0,f.Z)(function*(y,c){return Gn(y,"POST","/v1/accounts:signUp",An(y,c))})).apply(this,arguments)}class dr{constructor(c){this.user=c.user,this.providerId=c.providerId,this._tokenResponse=c._tokenResponse,this.operationType=c.operationType}static _fromIdTokenResponse(c,h,E,U=!1){return(0,f.Z)(function*(){const se=yield vt._fromIdTokenResponse(c,E,U),qe=Wr(E);return new dr({user:se,providerId:qe,_tokenResponse:E,operationType:h})})()}static _forOperation(c,h,E){return(0,f.Z)(function*(){yield c._updateTokensIfNecessary(E,!0);const U=Wr(E);return new dr({user:c,providerId:U,_tokenResponse:E,operationType:h})})()}}function Wr(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function js(){return(js=(0,f.Z)(function*(y){var c;const h=nr(y);if(yield h._initializationPromise,null===(c=h.currentUser)||void 0===c?void 0:c.isAnonymous)return new dr({user:h.currentUser,providerId:null,operationType:"signIn"});const E=yield Vs(h,{returnSecureToken:!0}),U=yield dr._fromIdTokenResponse(h,"signIn",E,!0);return yield h._updateCurrentUser(U.user),U})).apply(this,arguments)}class Os extends $.ZR{constructor(c,h,E,U){var se;super(h.code,h.message),this.operationType=E,this.user=U,Object.setPrototypeOf(this,Os.prototype),this.customData={appName:c.name,tenantId:null!==(se=c.tenantId)&&void 0!==se?se:void 0,_serverResponse:h.customData._serverResponse,operationType:E}}static _fromErrorAndOperation(c,h,E,U){return new Os(c,h,E,U)}}function Rs(y,c,h,E){return("reauthenticate"===c?h._getReauthenticationResolver(y):h._getIdTokenResponse(y)).catch(se=>{throw"auth/multi-factor-auth-required"===se.code?Os._fromErrorAndOperation(y,se,c,E):se})}function Oo(y){return new Set(y.map(({providerId:c})=>c).filter(c=>!!c))}function us(){return(us=(0,f.Z)(function*(y,c){const h=(0,$.m9)(y);yield J(!0,h,c);const{providerUserInfo:E}=yield kn(h.auth,{idToken:yield h.getIdToken(),deleteProvider:[c]}),U=Oo(E||[]);return h.providerData=h.providerData.filter(se=>U.has(se.providerId)),U.has("phone")||(h.phoneNumber=null),yield h.auth._persistUserIfCurrent(h),h})).apply(this,arguments)}function Mi(y,c){return R.apply(this,arguments)}function R(){return(R=(0,f.Z)(function*(y,c,h=!1){const E=yield _n(y,c._linkToIdToken(y.auth,yield y.getIdToken()),h);return dr._forOperation(y,"link",E)})).apply(this,arguments)}function J(y,c,h){return N.apply(this,arguments)}function N(){return(N=(0,f.Z)(function*(y,c,h){yield Nr(c);const U=!1===y?"provider-already-linked":"no-such-provider";Fe(Oo(c.providerData).has(h)===y,c.auth,U)})).apply(this,arguments)}function ee(y,c){return ke.apply(this,arguments)}function ke(){return(ke=(0,f.Z)(function*(y,c,h=!1){const{auth:E}=y,U="reauthenticate";try{const se=yield _n(y,Rs(E,U,c,y),h);Fe(se.idToken,E,"internal-error");const qe=Lt(se.idToken);Fe(qe,E,"internal-error");const{sub:ot}=qe;return Fe(y.uid===ot,E,"user-mismatch"),dr._forOperation(y,U,se)}catch(se){throw"auth/user-not-found"===(null==se?void 0:se.code)&&G(E,"user-mismatch"),se}})).apply(this,arguments)}function ut(y,c){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,f.Z)(function*(y,c,h=!1){const E="signIn",U=yield Rs(y,E,c),se=yield dr._fromIdTokenResponse(y,E,U);return h||(yield y._updateCurrentUser(se.user)),se})).apply(this,arguments)}function Yt(y,c){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,f.Z)(function*(y,c){return ut(nr(y),c)})).apply(this,arguments)}function wr(y,c){return oe.apply(this,arguments)}function oe(){return(oe=(0,f.Z)(function*(y,c){const h=(0,$.m9)(y);return yield J(!1,h,c.providerId),Mi(h,c)})).apply(this,arguments)}function ie(y,c){return Le.apply(this,arguments)}function Le(){return(Le=(0,f.Z)(function*(y,c){return ee((0,$.m9)(y),c)})).apply(this,arguments)}function et(y,c){return yt.apply(this,arguments)}function yt(){return(yt=(0,f.Z)(function*(y,c){return Gn(y,"POST","/v1/accounts:signInWithCustomToken",An(y,c))})).apply(this,arguments)}function In(){return(In=(0,f.Z)(function*(y,c){const h=nr(y),E=yield et(h,{token:c,returnSecureToken:!0}),U=yield dr._fromIdTokenResponse(h,"signIn",E);return yield h._updateCurrentUser(U.user),U})).apply(this,arguments)}class Ar{constructor(c,h){this.factorId=c,this.uid=h.mfaEnrollmentId,this.enrollmentTime=new Date(h.enrolledAt).toUTCString(),this.displayName=h.displayName}static _fromServerResponse(c,h){return"phoneInfo"in h?Tn._fromServerResponse(c,h):G(c,"internal-error")}}class Tn extends Ar{constructor(c){super("phone",c),this.phoneNumber=c.phoneInfo}static _fromServerResponse(c,h){return new Tn(h)}}function Dr(y,c,h){var E;Fe((null===(E=h.url)||void 0===E?void 0:E.length)>0,y,"invalid-continue-uri"),Fe(void 0===h.dynamicLinkDomain||h.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),c.continueUrl=h.url,c.dynamicLinkDomain=h.dynamicLinkDomain,c.canHandleCodeInApp=h.handleCodeInApp,h.iOS&&(Fe(h.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),c.iOSBundleId=h.iOS.bundleId),h.android&&(Fe(h.android.packageName.length>0,y,"missing-android-pkg-name"),c.androidInstallApp=h.android.installApp,c.androidMinimumVersionCode=h.android.minimumVersion,c.androidPackageName=h.android.packageName)}function Ci(){return(Ci=(0,f.Z)(function*(y,c,h){const E=(0,$.m9)(y),U={requestType:"PASSWORD_RESET",email:c};h&&Dr(E,U,h),yield Qe(E,U)})).apply(this,arguments)}function ht(){return(ht=(0,f.Z)(function*(y,c,h){yield Rn((0,$.m9)(y),{oobCode:c,newPassword:h})})).apply(this,arguments)}function to(){return(to=(0,f.Z)(function*(y,c){yield ss((0,$.m9)(y),{oobCode:c})})).apply(this,arguments)}function Wn(y,c){return cs.apply(this,arguments)}function cs(){return(cs=(0,f.Z)(function*(y,c){const h=(0,$.m9)(y),E=yield Rn(h,{oobCode:c}),U=E.requestType;switch(Fe(U,h,"internal-error"),U){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Fe(E.newEmail,h,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Fe(E.mfaInfo,h,"internal-error");default:Fe(E.email,h,"internal-error")}let se=null;return E.mfaInfo&&(se=Ar._fromServerResponse(nr(h),E.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.newEmail:E.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.email:E.newEmail)||null,multiFactorInfo:se},operation:U}})).apply(this,arguments)}function Wi(){return(Wi=(0,f.Z)(function*(y,c){const{data:h}=yield Wn((0,$.m9)(y),c);return h.email})).apply(this,arguments)}function aa(){return(aa=(0,f.Z)(function*(y,c,h){const E=nr(y),U=yield Vs(E,{returnSecureToken:!0,email:c,password:h}),se=yield dr._fromIdTokenResponse(E,"signIn",U);return yield E._updateCurrentUser(se.user),se})).apply(this,arguments)}function ho(){return(ho=(0,f.Z)(function*(y,c,h){const E=(0,$.m9)(y),U={requestType:"EMAIL_SIGNIN",email:c};Fe(h.handleCodeInApp,E,"argument-error"),h&&Dr(E,U,h),yield Ot(E,U)})).apply(this,arguments)}function pi(){return(pi=(0,f.Z)(function*(y,c,h){const E=(0,$.m9)(y),U=oi.credentialWithLink(c,h||Et());return Fe(U._tenantId===(E.tenantId||null),E,"tenant-id-mismatch"),Yt(E,U)})).apply(this,arguments)}function gu(y,c){return $s.apply(this,arguments)}function $s(){return($s=(0,f.Z)(function*(y,c){return qt(y,"POST","/v1/accounts:createAuthUri",An(y,c))})).apply(this,arguments)}function po(){return(po=(0,f.Z)(function*(y,c){const E={identifier:c,continueUri:It()?Et():"http://localhost"},{signinMethods:U}=yield gu((0,$.m9)(y),E);return U||[]})).apply(this,arguments)}function Ws(){return(Ws=(0,f.Z)(function*(y,c){const h=(0,$.m9)(y),U={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};c&&Dr(h.auth,U,c);const{email:se}=yield Ke(h.auth,U);se!==y.email&&(yield y.reload())})).apply(this,arguments)}function jo(){return(jo=(0,f.Z)(function*(y,c,h){const E=(0,$.m9)(y),se={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:c};h&&Dr(E.auth,se,h);const{email:qe}=yield Kn(E.auth,se);qe!==y.email&&(yield y.reload())})).apply(this,arguments)}function go(y,c){return no.apply(this,arguments)}function no(){return(no=(0,f.Z)(function*(y,c){return qt(y,"POST","/v1/accounts:update",c)})).apply(this,arguments)}function Ms(){return(Ms=(0,f.Z)(function*(y,{displayName:c,photoURL:h}){if(void 0===c&&void 0===h)return;const E=(0,$.m9)(y),se={idToken:yield E.getIdToken(),displayName:c,photoUrl:h,returnSecureToken:!0},qe=yield _n(E,go(E.auth,se));E.displayName=qe.displayName||null,E.photoURL=qe.photoUrl||null;const ot=E.providerData.find(({providerId:Ft})=>"password"===Ft);ot&&(ot.displayName=E.displayName,ot.photoURL=E.photoURL),yield E._updateTokensIfNecessary(qe)})).apply(this,arguments)}function ca(y,c,h){return $o.apply(this,arguments)}function $o(){return($o=(0,f.Z)(function*(y,c,h){const{auth:E}=y,se={idToken:yield y.getIdToken(),returnSecureToken:!0};c&&(se.email=c),h&&(se.password=h);const qe=yield _n(y,xi(E,se));yield y._updateTokensIfNecessary(qe,!0)})).apply(this,arguments)}class ro{constructor(c,h,E={}){this.isNewUser=c,this.providerId=h,this.profile=E}}class yo extends ro{constructor(c,h,E,U){super(c,h,E),this.username=U}}class Ga extends ro{constructor(c,h){super(c,"facebook.com",h)}}class mu extends yo{constructor(c,h){super(c,"github.com",h,"string"==typeof(null==h?void 0:h.login)?null==h?void 0:h.login:null)}}class ei extends ro{constructor(c,h){super(c,"google.com",h)}}class zs extends yo{constructor(c,h,E){super(c,"twitter.com",h,E)}}function zr(y){const{user:c,_tokenResponse:h}=y;return c.isAnonymous&&!h?{providerId:null,isNewUser:!1,profile:null}:function(y){var c,h;if(!y)return null;const{providerId:E}=y,U=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},se=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!E&&(null==y?void 0:y.idToken)){const qe=null===(h=null===(c=Lt(y.idToken))||void 0===c?void 0:c.firebase)||void 0===h?void 0:h.sign_in_provider;if(qe)return new ro(se,"anonymous"!==qe&&"custom"!==qe?qe:null)}if(!E)return null;switch(E){case"facebook.com":return new Ga(se,U);case"github.com":return new mu(se,U);case"google.com":return new ei(se,U);case"twitter.com":return new zs(se,U,y.screenName||null);case"custom":case"anonymous":return new ro(se,null);default:return new ro(se,E,U)}}(h)}class io{constructor(c,h){this.type=c,this.credential=h}static _fromIdtoken(c){return new io("enroll",c)}static _fromMfaPendingCredential(c){return new io("signin",c)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(c){var h,E;if(null==c?void 0:c.multiFactorSession){if(null===(h=c.multiFactorSession)||void 0===h?void 0:h.pendingCredential)return io._fromMfaPendingCredential(c.multiFactorSession.pendingCredential);if(null===(E=c.multiFactorSession)||void 0===E?void 0:E.idToken)return io._fromIdtoken(c.multiFactorSession.idToken)}return null}}class Mo{constructor(c,h,E){this.session=c,this.hints=h,this.signInResolver=E}static _fromError(c,h){const E=nr(c),U=h.customData._serverResponse,se=(U.mfaInfo||[]).map(ot=>Ar._fromServerResponse(E,ot));Fe(U.mfaPendingCredential,E,"internal-error");const qe=io._fromMfaPendingCredential(U.mfaPendingCredential);return new Mo(qe,se,function(){var ot=(0,f.Z)(function*(Ft){const fn=yield Ft._process(E,qe);delete U.mfaInfo,delete U.mfaPendingCredential;const $n=Object.assign(Object.assign({},U),{idToken:fn.idToken,refreshToken:fn.refreshToken});switch(h.operationType){case"signIn":const On=yield dr._fromIdTokenResponse(E,h.operationType,$n);return yield E._updateCurrentUser(On.user),On;case"reauthenticate":return Fe(h.user,E,"internal-error"),dr._forOperation(h.user,h.operationType,$n);default:G(E,"internal-error")}});return function(Ft){return ot.apply(this,arguments)}}())}resolveSignIn(c){var h=this;return(0,f.Z)(function*(){return h.signInResolver(c)})()}}function ju(y,c){return qt(y,"POST","/v2/accounts/mfaEnrollment:start",An(y,c))}class ba{constructor(c){this.user=c,this.enrolledFactors=[],c._onReload(h=>{h.mfaInfo&&(this.enrolledFactors=h.mfaInfo.map(E=>Ar._fromServerResponse(c.auth,E)))})}static _fromUser(c){return new ba(c)}getSession(){var c=this;return(0,f.Z)(function*(){return io._fromIdtoken(yield c.user.getIdToken())})()}enroll(c,h){var E=this;return(0,f.Z)(function*(){const U=c,se=yield E.getSession(),qe=yield _n(E.user,U._process(E.user.auth,se,h));return yield E.user._updateTokensIfNecessary(qe),E.user.reload()})()}unenroll(c){var h=this;return(0,f.Z)(function*(){const E="string"==typeof c?c:c.uid,U=yield h.user.getIdToken(),se=yield _n(h.user,function(y,c){return qt(y,"POST","/v2/accounts/mfaEnrollment:withdraw",An(y,c))}(h.user.auth,{idToken:U,mfaEnrollmentId:E}));h.enrolledFactors=h.enrolledFactors.filter(({uid:qe})=>qe!==E),yield h.user._updateTokensIfNecessary(se);try{yield h.user.reload()}catch(qe){if("auth/user-token-expired"!==qe.code)throw qe}})()}}const _o=new WeakMap,ti="__sak";class Po{constructor(c,h){this.storageRetriever=c,this.type=h}_isAvailable(){try{return this.storage?(this.storage.setItem(ti,"1"),this.storage.removeItem(ti),Promise.resolve(!0)):Promise.resolve(!1)}catch(c){return Promise.resolve(!1)}}_set(c,h){return this.storage.setItem(c,JSON.stringify(h)),Promise.resolve()}_get(c){const h=this.storage.getItem(c);return Promise.resolve(h?JSON.parse(h):null)}_remove(c){return this.storage.removeItem(c),Promise.resolve()}get storage(){return this.storageRetriever()}}const kr=(()=>{class y extends Po{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(h,E)=>this.onStorageEvent(h,E),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const y=(0,$.z$)();return Oe(y)||En(y)}()&&function(){try{return!(!window||window===window.top)}catch(y){return!1}}(),this.fallbackToPolling=Si(),this._shouldAllowMigration=!0}forAllChangedKeys(h){for(const E of Object.keys(this.listeners)){const U=this.storage.getItem(E),se=this.localCache[E];U!==se&&h(E,se,U)}}onStorageEvent(h,E=!1){if(!h.key)return void this.forAllChangedKeys((ot,Ft,fn)=>{this.notifyListeners(ot,fn)});const U=h.key;if(E?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ot=this.storage.getItem(U);if(h.newValue!==ot)null!==h.newValue?this.storage.setItem(U,h.newValue):this.storage.removeItem(U);else if(this.localCache[U]===h.newValue&&!E)return}const se=()=>{const ot=this.storage.getItem(U);!E&&this.localCache[U]===ot||this.notifyListeners(U,ot)},qe=this.storage.getItem(U);(0,$.w1)()&&10===document.documentMode&&qe!==h.newValue&&h.newValue!==h.oldValue?setTimeout(se,10):se()}notifyListeners(h,E){this.localCache[h]=E;const U=this.listeners[h];if(U)for(const se of Array.from(U))se(E&&JSON.parse(E))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((h,E,U)=>{this.onStorageEvent(new StorageEvent("storage",{key:h,oldValue:E,newValue:U}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(h,E){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[h]||(this.listeners[h]=new Set,this.localCache[h]=this.storage.getItem(h)),this.listeners[h].add(E)}_removeListener(h,E){this.listeners[h]&&(this.listeners[h].delete(E),0===this.listeners[h].size&&delete this.listeners[h]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(h,E){var U=()=>super._set,se=this;return(0,f.Z)(function*(){yield U().call(se,h,E),se.localCache[h]=JSON.stringify(E)})()}_get(h){var E=()=>super._get,U=this;return(0,f.Z)(function*(){const se=yield E().call(U,h);return U.localCache[h]=JSON.stringify(se),se})()}_remove(h){var E=()=>super._remove,U=this;return(0,f.Z)(function*(){yield E().call(U,h),delete U.localCache[h]})()}}return y.type="LOCAL",y})(),zi=(()=>{class y extends Po{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(h,E){}_removeListener(h,E){}}return y.type="SESSION",y})();let Nn=(()=>{class y{constructor(h){this.eventTarget=h,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(h){const E=this.receivers.find(se=>se.isListeningto(h));if(E)return E;const U=new y(h);return this.receivers.push(U),U}isListeningto(h){return this.eventTarget===h}handleEvent(h){var E=this;return(0,f.Z)(function*(){const U=h,{eventId:se,eventType:qe,data:ot}=U.data,Ft=E.handlersMap[qe];if(!(null==Ft?void 0:Ft.size))return;U.ports[0].postMessage({status:"ack",eventId:se,eventType:qe});const fn=Array.from(Ft).map(function(){var On=(0,f.Z)(function*(ri){return ri(U.origin,ot)});return function(ri){return On.apply(this,arguments)}}()),$n=yield function(y){return Promise.all(y.map(function(){var c=(0,f.Z)(function*(h){try{return{fulfilled:!0,value:yield h}}catch(E){return{fulfilled:!1,reason:E}}});return function(h){return c.apply(this,arguments)}}()))}(fn);U.ports[0].postMessage({status:"done",eventId:se,eventType:qe,response:$n})})()}_subscribe(h,E){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[h]||(this.handlersMap[h]=new Set),this.handlersMap[h].add(E)}_unsubscribe(h,E){this.handlersMap[h]&&E&&this.handlersMap[h].delete(E),(!E||0===this.handlersMap[h].size)&&delete this.handlersMap[h],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function Ji(y="",c=10){let h="";for(let E=0;E<c;E++)h+=Math.floor(10*Math.random());return y+h}class Wt{constructor(c){this.target=c,this.handlers=new Set}removeMessageHandler(c){c.messageChannel&&(c.messageChannel.port1.removeEventListener("message",c.onMessage),c.messageChannel.port1.close()),this.handlers.delete(c)}_send(c,h,E=50){var U=this;return(0,f.Z)(function*(){const se="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!se)throw new Error("connection_unavailable");let qe,ot;return new Promise((Ft,fn)=>{const $n=Ji("",20);se.port1.start();const On=setTimeout(()=>{fn(new Error("unsupported_event"))},E);ot={messageChannel:se,onMessage(ri){const lo=ri;if(lo.data.eventId===$n)switch(lo.data.status){case"ack":clearTimeout(On),qe=setTimeout(()=>{fn(new Error("timeout"))},3e3);break;case"done":clearTimeout(qe),Ft(lo.data.response);break;default:clearTimeout(On),clearTimeout(qe),fn(new Error("invalid_response"))}}},U.handlers.add(ot),se.port1.addEventListener("message",ot.onMessage),U.target.postMessage({eventType:c,eventId:$n,data:h},[se.port2])}).finally(()=>{ot&&U.removeMessageHandler(ot)})})()}}function nt(){return window}function Qr(){return void 0!==nt().WorkerGlobalScope&&"function"==typeof nt().importScripts}function I(){return(I=(0,f.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(y){return null}})).apply(this,arguments)}const F="firebaseLocalStorageDb",Se="firebaseLocalStorage",Be="fbase_key";class ct{constructor(c){this.request=c}toPromise(){return new Promise((c,h)=>{this.request.addEventListener("success",()=>{c(this.request.result)}),this.request.addEventListener("error",()=>{h(this.request.error)})})}}function Bt(y,c){return y.transaction([Se],c?"readwrite":"readonly").objectStore(Se)}function Dn(){const y=indexedDB.open(F,1);return new Promise((c,h)=>{y.addEventListener("error",()=>{h(y.error)}),y.addEventListener("upgradeneeded",()=>{const E=y.result;try{E.createObjectStore(Se,{keyPath:Be})}catch(U){h(U)}}),y.addEventListener("success",(0,f.Z)(function*(){const E=y.result;E.objectStoreNames.contains(Se)?c(E):(E.close(),yield function(){const y=indexedDB.deleteDatabase(F);return new ct(y).toPromise()}(),c(yield Dn()))}))})}function on(y,c,h){return hr.apply(this,arguments)}function hr(){return(hr=(0,f.Z)(function*(y,c,h){const E=Bt(y,!0).put({[Be]:c,value:h});return new ct(E).toPromise()})).apply(this,arguments)}function Pr(){return(Pr=(0,f.Z)(function*(y,c){const h=Bt(y,!1).get(c),E=yield new ct(h).toPromise();return void 0===E?null:E.value})).apply(this,arguments)}function Sn(y,c){const h=Bt(y,!0).delete(c);return new ct(h).toPromise()}const Ui=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var h=this;return(0,f.Z)(function*(){return h.db||(h.db=yield Dn()),h.db})()}_withRetries(h){var E=this;return(0,f.Z)(function*(){let U=0;for(;;)try{const se=yield E._openDb();return yield h(se)}catch(se){if(U++>3)throw se;E.db&&(E.db.close(),E.db=void 0)}})()}initializeServiceWorkerMessaging(){var h=this;return(0,f.Z)(function*(){return Qr()?h.initializeReceiver():h.initializeSender()})()}initializeReceiver(){var h=this;return(0,f.Z)(function*(){h.receiver=Nn._getInstance(Qr()?self:null),h.receiver._subscribe("keyChanged",function(){var E=(0,f.Z)(function*(U,se){return{keyProcessed:(yield h._poll()).includes(se.key)}});return function(U,se){return E.apply(this,arguments)}}()),h.receiver._subscribe("ping",function(){var E=(0,f.Z)(function*(U,se){return["keyChanged"]});return function(U,se){return E.apply(this,arguments)}}())})()}initializeSender(){var h=this;return(0,f.Z)(function*(){var E,U;if(h.activeServiceWorker=yield function(){return I.apply(this,arguments)}(),!h.activeServiceWorker)return;h.sender=new Wt(h.activeServiceWorker);const se=yield h.sender._send("ping",{},800);!se||(null===(E=se[0])||void 0===E?void 0:E.fulfilled)&&(null===(U=se[0])||void 0===U?void 0:U.value.includes("keyChanged"))&&(h.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(h){var E=this;return(0,f.Z)(function*(){if(E.sender&&E.activeServiceWorker&&function(){var y;return(null===(y=null==navigator?void 0:navigator.serviceWorker)||void 0===y?void 0:y.controller)||null}()===E.activeServiceWorker)try{yield E.sender._send("keyChanged",{key:h},E.serviceWorkerReceiverAvailable?800:50)}catch(U){}})()}_isAvailable(){return(0,f.Z)(function*(){try{if(!indexedDB)return!1;const h=yield Dn();return yield on(h,ti,"1"),yield Sn(h,ti),!0}catch(h){}return!1})()}_withPendingWrite(h){var E=this;return(0,f.Z)(function*(){E.pendingWrites++;try{yield h()}finally{E.pendingWrites--}})()}_set(h,E){var U=this;return(0,f.Z)(function*(){return U._withPendingWrite((0,f.Z)(function*(){return yield U._withRetries(se=>on(se,h,E)),U.localCache[h]=E,U.notifyServiceWorker(h)}))})()}_get(h){var E=this;return(0,f.Z)(function*(){const U=yield E._withRetries(se=>function(y,c){return Pr.apply(this,arguments)}(se,h));return E.localCache[h]=U,U})()}_remove(h){var E=this;return(0,f.Z)(function*(){return E._withPendingWrite((0,f.Z)(function*(){return yield E._withRetries(U=>Sn(U,h)),delete E.localCache[h],E.notifyServiceWorker(h)}))})()}_poll(){var h=this;return(0,f.Z)(function*(){const E=yield h._withRetries(qe=>{const ot=Bt(qe,!1).getAll();return new ct(ot).toPromise()});if(!E)return[];if(0!==h.pendingWrites)return[];const U=[],se=new Set;for(const{fbase_key:qe,value:ot}of E)se.add(qe),JSON.stringify(h.localCache[qe])!==JSON.stringify(ot)&&(h.notifyListeners(qe,ot),U.push(qe));for(const qe of Object.keys(h.localCache))h.localCache[qe]&&!se.has(qe)&&(h.notifyListeners(qe,null),U.push(qe));return U})()}notifyListeners(h,E){this.localCache[h]=E;const U=this.listeners[h];if(U)for(const se of Array.from(U))se(E)}startPolling(){var h=this;this.stopPolling(),this.pollTimer=setInterval((0,f.Z)(function*(){return h._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(h,E){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[h]||(this.listeners[h]=new Set,this._get(h)),this.listeners[h].add(E)}_removeListener(h,E){this.listeners[h]&&(this.listeners[h].delete(E),0===this.listeners[h].size&&delete this.listeners[h]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function Er(y,c){return qt(y,"POST","/v2/accounts/mfaSignIn:start",An(y,c))}function Eo(){return(Eo=(0,f.Z)(function*(y){return(yield qt(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Br(y){return new Promise((c,h)=>{const E=document.createElement("script");E.setAttribute("src",y),E.onload=c,E.onerror=U=>{const se=w("internal-error");se.customData=U,h(se)},E.type="text/javascript",E.charset="UTF-8",function(){var y,c;return null!==(c=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==c?c:document}().appendChild(E)})}function fa(y){return`__${y}${Math.floor(1e6*Math.random())}`}const ao=1e12;class Yo{constructor(c){this.auth=c,this.counter=ao,this._widgets=new Map}render(c,h){const E=this.counter;return this._widgets.set(E,new Yl(c,this.auth.name,h||{})),this.counter++,E}reset(c){var h;const E=c||ao;null===(h=this._widgets.get(E))||void 0===h||h.delete(),this._widgets.delete(E)}getResponse(c){var h;return(null===(h=this._widgets.get(c||ao))||void 0===h?void 0:h.getResponse())||""}execute(c){var h=this;return(0,f.Z)(function*(){var E;return null===(E=h._widgets.get(c||ao))||void 0===E||E.execute(),""})()}}class Yl{constructor(c,h,E){this.params=E,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const U="string"==typeof c?document.getElementById(c):c;Fe(U,"argument-error",{appName:h}),this.container=U,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(y){const c=[],h="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let E=0;E<50;E++)c.push(h.charAt(Math.floor(Math.random()*h.length)));return c.join("")}();const{callback:c,"expired-callback":h}=this.params;if(c)try{c(this.responseToken)}catch(E){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,h)try{h()}catch(E){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const g=fa("rcb"),m=new xt(3e4,6e4);class L{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!nt().grecaptcha}load(c,h=""){return Fe((y=h).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y),c,"argument-error"),this.shouldResolveImmediately(h)?Promise.resolve(nt().grecaptcha):new Promise((E,U)=>{const se=nt().setTimeout(()=>{U(w(c,"network-request-failed"))},m.get());nt()[g]=()=>{nt().clearTimeout(se),delete nt()[g];const ot=nt().grecaptcha;if(!ot)return void U(w(c,"internal-error"));const Ft=ot.render;ot.render=(fn,$n)=>{const On=Ft(fn,$n);return this.counter++,On},this.hostLanguage=h,E(ot)},Br(`https://www.google.com/recaptcha/api.js??${(0,$.xO)({onload:g,render:"explicit",hl:h})}`).catch(()=>{clearTimeout(se),U(w(c,"internal-error"))})});var y}clearedOneInstance(){this.counter--}shouldResolveImmediately(c){return!!nt().grecaptcha&&(c===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Ee{load(c){return(0,f.Z)(function*(){return new Yo(c)})()}clearedOneInstance(){}}const Re="recaptcha",Je={theme:"light",type:"image"};class at{constructor(c,h=Object.assign({},Je),E){this.parameters=h,this.type=Re,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=nr(E),this.isInvisible="invisible"===this.parameters.size,Fe("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const U="string"==typeof c?document.getElementById(c):c;Fe(U,this.auth,"argument-error"),this.container=U,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ee:new L,this.validateStartingState()}verify(){var c=this;return(0,f.Z)(function*(){c.assertNotDestroyed();const h=yield c.render(),E=c.getAssertedRecaptcha();return E.getResponse(h)||new Promise(se=>{const qe=ot=>{!ot||(c.tokenChangeListeners.delete(qe),se(ot))};c.tokenChangeListeners.add(qe),c.isInvisible&&E.execute(h)})})()}render(){try{this.assertNotDestroyed()}catch(c){return Promise.reject(c)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(c=>{throw this.renderPromise=null,c})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(c=>{this.container.removeChild(c)})}validateStartingState(){Fe(!this.parameters.sitekey,this.auth,"argument-error"),Fe(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Fe("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(c){return h=>{if(this.tokenChangeListeners.forEach(E=>E(h)),"function"==typeof c)c(h);else if("string"==typeof c){const E=nt()[c];"function"==typeof E&&E(h)}}}assertNotDestroyed(){Fe(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var c=this;return(0,f.Z)(function*(){if(yield c.init(),!c.widgetId){let h=c.container;if(!c.isInvisible){const E=document.createElement("div");h.appendChild(E),h=E}c.widgetId=c.getAssertedRecaptcha().render(h,c.parameters)}return c.widgetId})()}init(){var c=this;return(0,f.Z)(function*(){Fe(It()&&!Qr(),c.auth,"internal-error"),yield function(){let y=null;return new Promise(c=>{"complete"!==document.readyState?(y=()=>c(),window.addEventListener("load",y)):c()}).catch(c=>{throw y&&window.removeEventListener("load",y),c})}(),c.recaptcha=yield c._recaptchaLoader.load(c.auth,c.auth.languageCode||void 0);const h=yield function(y){return Eo.apply(this,arguments)}(c.auth);Fe(h,c.auth,"internal-error"),c.parameters.sitekey=h})()}getAssertedRecaptcha(){return Fe(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Nt{constructor(c,h){this.verificationId=c,this.onConfirmation=h}confirm(c){const h=fi._fromVerification(this.verificationId,c);return this.onConfirmation(h)}}function Qt(){return(Qt=(0,f.Z)(function*(y,c,h){const E=nr(y),U=yield Lr(E,c,(0,$.m9)(h));return new Nt(U,se=>Yt(E,se))})).apply(this,arguments)}function mn(){return(mn=(0,f.Z)(function*(y,c,h){const E=(0,$.m9)(y);yield J(!1,E,"phone");const U=yield Lr(E.auth,c,(0,$.m9)(h));return new Nt(U,se=>wr(E,se))})).apply(this,arguments)}function fr(){return(fr=(0,f.Z)(function*(y,c,h){const E=(0,$.m9)(y),U=yield Lr(E.auth,c,(0,$.m9)(h));return new Nt(U,se=>ie(E,se))})).apply(this,arguments)}function Lr(y,c,h){return yr.apply(this,arguments)}function yr(){return(yr=(0,f.Z)(function*(y,c,h){var E;const U=yield h.verify();try{let se;if(Fe("string"==typeof U,y,"argument-error"),Fe(h.type===Re,y,"argument-error"),se="string"==typeof c?{phoneNumber:c}:c,"session"in se){const qe=se.session;if("phoneNumber"in se)return Fe("enroll"===qe.type,y,"internal-error"),(yield ju(y,{idToken:qe.credential,phoneEnrollmentInfo:{phoneNumber:se.phoneNumber,recaptchaToken:U}})).phoneSessionInfo.sessionInfo;{Fe("signin"===qe.type,y,"internal-error");const ot=(null===(E=se.multiFactorHint)||void 0===E?void 0:E.uid)||se.multiFactorUid;return Fe(ot,y,"missing-multi-factor-info"),(yield Er(y,{mfaPendingCredential:qe.credential,mfaEnrollmentId:ot,phoneSignInInfo:{recaptchaToken:U}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:qe}=yield hi(y,{phoneNumber:se.phoneNumber,recaptchaToken:U});return qe}}finally{h._reset()}})).apply(this,arguments)}function Cr(){return(Cr=(0,f.Z)(function*(y,c){yield Mi((0,$.m9)(y),c)})).apply(this,arguments)}let Ts=(()=>{class y{constructor(h){this.providerId=y.PROVIDER_ID,this.auth=nr(h)}verifyPhoneNumber(h,E){return Lr(this.auth,h,(0,$.m9)(E))}static credential(h,E){return fi._fromVerification(h,E)}static credentialFromResult(h){return y.credentialFromTaggedObject(h)}static credentialFromError(h){return y.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{phoneNumber:E,temporaryProof:U}=h;return E&&U?fi._fromTokenResponse(E,U):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function li(y,c){return c?_e(c):(Fe(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class ws extends Jn{constructor(c){super("custom","custom"),this.params=c}_getIdTokenResponse(c){return xr(c,this._buildIdpRequest())}_linkToIdToken(c,h){return xr(c,this._buildIdpRequest(h))}_getReauthenticationResolver(c){return xr(c,this._buildIdpRequest())}_buildIdpRequest(c){const h={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return c&&(h.idToken=c),h}}function Qo(y){return ut(y.auth,new ws(y),y.bypassAuthState)}function Ps(y){const{auth:c,user:h}=y;return Fe(h,c,"internal-error"),ee(h,new ws(y),y.bypassAuthState)}function Gi(y){return ni.apply(this,arguments)}function ni(){return(ni=(0,f.Z)(function*(y){const{auth:c,user:h}=y;return Fe(h,c,"internal-error"),Mi(h,new ws(y),y.bypassAuthState)})).apply(this,arguments)}class Ns{constructor(c,h,E,U,se=!1){this.auth=c,this.resolver=E,this.user=U,this.bypassAuthState=se,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(h)?h:[h]}execute(){var c=this;return new Promise(function(){var h=(0,f.Z)(function*(E,U){c.pendingPromise={resolve:E,reject:U};try{c.eventManager=yield c.resolver._initialize(c.auth),yield c.onExecution(),c.eventManager.registerConsumer(c)}catch(se){c.reject(se)}});return function(E,U){return h.apply(this,arguments)}}())}onAuthEvent(c){var h=this;return(0,f.Z)(function*(){const{urlResponse:E,sessionId:U,postBody:se,tenantId:qe,error:ot,type:Ft}=c;if(ot)return void h.reject(ot);const fn={auth:h.auth,requestUri:E,sessionId:U,tenantId:qe||void 0,postBody:se||void 0,user:h.user,bypassAuthState:h.bypassAuthState};try{h.resolve(yield h.getIdpTask(Ft)(fn))}catch($n){h.reject($n)}})()}onError(c){this.reject(c)}getIdpTask(c){switch(c){case"signInViaPopup":case"signInViaRedirect":return Qo;case"linkViaPopup":case"linkViaRedirect":return Gi;case"reauthViaPopup":case"reauthViaRedirect":return Ps;default:G(this.auth,"internal-error")}}resolve(c){ge(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(c),this.unregisterAndCleanUp()}reject(c){ge(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(c),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ql=new xt(2e3,1e4);function ln(){return(ln=(0,f.Z)(function*(y,c,h){const E=nr(y);re(y,c,Hr);const U=li(E,h);return new xs(E,"signInViaPopup",c,U).executeNotNull()})).apply(this,arguments)}function zn(){return(zn=(0,f.Z)(function*(y,c,h){const E=(0,$.m9)(y);re(E.auth,c,Hr);const U=li(E.auth,h);return new xs(E.auth,"reauthViaPopup",c,U,E).executeNotNull()})).apply(this,arguments)}function bi(){return(bi=(0,f.Z)(function*(y,c,h){const E=(0,$.m9)(y);re(E.auth,c,Hr);const U=li(E.auth,h);return new xs(E.auth,"linkViaPopup",c,U,E).executeNotNull()})).apply(this,arguments)}let xs=(()=>{class y extends Ns{constructor(h,E,U,se,qe){super(h,E,se,qe),this.provider=U,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var h=this;return(0,f.Z)(function*(){const E=yield h.execute();return Fe(E,h.auth,"internal-error"),E})()}onExecution(){var h=this;return(0,f.Z)(function*(){ge(1===h.filter.length,"Popup operations only handle one event");const E=Ji();h.authWindow=yield h.resolver._openPopup(h.auth,h.provider,h.filter[0],E),h.authWindow.associatedEvent=E,h.resolver._originValidation(h.auth).catch(U=>{h.reject(U)}),h.resolver._isIframeWebStorageSupported(h.auth,U=>{U||h.reject(w(h.auth,"web-storage-unsupported"))}),h.pollUserCancellation()})()}get eventId(){var h;return(null===(h=this.authWindow)||void 0===h?void 0:h.associatedEvent)||null}cancel(){this.reject(w(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const h=()=>{var E,U;this.pollId=(null===(U=null===(E=this.authWindow)||void 0===E?void 0:E.window)||void 0===U?void 0:U.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(w(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(h,Ql.get())};h()}}return y.currentPopupAction=null,y})();const Ki=new Map;class Vr extends Ns{constructor(c,h,E=!1){super(c,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],h,void 0,E),this.eventId=null}execute(){var c=()=>super.execute,h=this;return(0,f.Z)(function*(){let E=Ki.get(h.auth._key());if(!E){try{const se=(yield function(y,c){return Sa.apply(this,arguments)}(h.resolver,h.auth))?yield c().call(h):null;E=()=>Promise.resolve(se)}catch(U){E=()=>Promise.reject(U)}Ki.set(h.auth._key(),E)}return h.bypassAuthState||Ki.set(h.auth._key(),()=>Promise.resolve(null)),E()})()}onAuthEvent(c){var h=()=>super.onAuthEvent,E=this;return(0,f.Z)(function*(){if("signInViaRedirect"===c.type)return h().call(E,c);if("unknown"!==c.type){if(c.eventId){const U=yield E.auth._redirectUserForId(c.eventId);if(U)return E.user=U,h().call(E,c);E.resolve(null)}}else E.resolve(null)})()}onExecution(){return(0,f.Z)(function*(){})()}cleanUp(){}}function Sa(){return(Sa=(0,f.Z)(function*(y,c){const h=Jo(c),E=Ls(y);if(!(yield E._isAvailable()))return!1;const U="true"===(yield E._get(h));return yield E._remove(h),U})).apply(this,arguments)}function Bi(y,c){return hs.apply(this,arguments)}function hs(){return(hs=(0,f.Z)(function*(y,c){return Ls(y)._set(Jo(c),"true")})).apply(this,arguments)}function Ls(y){return _e(y._redirectPersistence)}function Jo(y){return St("pendingRedirect",y.config.apiKey,y.name)}function _u(){return(_u=(0,f.Z)(function*(y,c,h){const E=nr(y);re(y,c,Hr);const U=li(E,h);return yield Bi(U,E),U._openRedirect(E,c,"signInViaRedirect")})).apply(this,arguments)}function ks(){return(ks=(0,f.Z)(function*(y,c,h){const E=(0,$.m9)(y);re(E.auth,c,Hr);const U=li(E.auth,h);yield Bi(U,E.auth);const se=yield pa(E);return U._openRedirect(E.auth,c,"reauthViaRedirect",se)})).apply(this,arguments)}function Oa(){return(Oa=(0,f.Z)(function*(y,c,h){const E=(0,$.m9)(y);re(E.auth,c,Hr);const U=li(E.auth,h);yield J(!1,E,c.providerId),yield Bi(U,E.auth);const se=yield pa(E);return U._openRedirect(E.auth,c,"linkViaRedirect",se)})).apply(this,arguments)}function Qa(){return(Qa=(0,f.Z)(function*(y,c){return yield nr(y)._initializationPromise,Hu(y,c,!1)})).apply(this,arguments)}function Hu(y,c){return Ja.apply(this,arguments)}function Ja(){return(Ja=(0,f.Z)(function*(y,c,h=!1){const E=nr(y),U=li(E,c),qe=yield new Vr(E,U,h).execute();return qe&&!h&&(delete qe.user._redirectEventId,yield E._persistUserIfCurrent(qe.user),yield E._setRedirectUser(null,c)),qe})).apply(this,arguments)}function pa(y){return Wu.apply(this,arguments)}function Wu(){return(Wu=(0,f.Z)(function*(y){const c=Ji(`${y.uid}:::`);return y._redirectEventId=c,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),c})).apply(this,arguments)}class zu{constructor(c){this.auth=c,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(c){this.consumers.add(c),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,c)&&(this.sendToConsumer(this.queuedRedirectEvent,c),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(c){this.consumers.delete(c)}onEvent(c){if(this.hasEventBeenHandled(c))return!1;let h=!1;return this.consumers.forEach(E=>{this.isEventForConsumer(c,E)&&(h=!0,this.sendToConsumer(c,E),this.saveEventToCache(c))}),this.hasHandledPotentialRedirect||!function(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return vl(y);default:return!1}}(c)||(this.hasHandledPotentialRedirect=!0,h||(this.queuedRedirectEvent=c,h=!0)),h}sendToConsumer(c,h){var E;if(c.error&&!vl(c)){const U=(null===(E=c.error.code)||void 0===E?void 0:E.split("auth/")[1])||"internal-error";h.onError(w(this.auth,U))}else h.onAuthEvent(c)}isEventForConsumer(c,h){const E=null===h.eventId||!!c.eventId&&c.eventId===h.eventId;return h.filter.includes(c.type)&&E}hasEventBeenHandled(c){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ec(c))}saveEventToCache(c){this.cachedEventUids.add(ec(c)),this.lastProcessedEventTime=Date.now()}}function ec(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(c=>c).join("-")}function vl({type:y,error:c}){return"unknown"===y&&"auth/no-auth-event"===(null==c?void 0:c.code)}function Ra(y){return ga.apply(this,arguments)}function ga(){return(ga=(0,f.Z)(function*(y,c={}){return qt(y,"GET","/v1/projects",c)})).apply(this,arguments)}const id=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,To=/^https?/;function Ma(){return(Ma=(0,f.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:c}=yield Ra(y);for(const h of c)try{if(yh(h))return}catch(E){}G(y,"unauthorized-domain")})).apply(this,arguments)}function yh(y){const c=Et(),{protocol:h,hostname:E}=new URL(c);if(y.startsWith("chrome-extension://")){const qe=new URL(y);return""===qe.hostname&&""===E?"chrome-extension:"===h&&y.replace("chrome-extension://","")===c.replace("chrome-extension://",""):"chrome-extension:"===h&&qe.hostname===E}if(!To.test(h))return!1;if(id.test(y))return E===y;const U=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+U+"|"+U+")$","i").test(E)}const tc=new xt(3e4,6e4);function Eu(){const y=nt().___jsl;if(null==y?void 0:y.H)for(const c of Object.keys(y.H))if(y.H[c].r=y.H[c].r||[],y.H[c].L=y.H[c].L||[],y.H[c].r=[...y.H[c].L],y.CP)for(let h=0;h<y.CP.length;h++)y.CP[h]=null}let El=null;function Vi(y){return El=El||function(y){return new Promise((c,h)=>{var E,U,se;function qe(){Eu(),gapi.load("gapi.iframes",{callback:()=>{c(gapi.iframes.getContext())},ontimeout:()=>{Eu(),h(w(y,"network-request-failed"))},timeout:tc.get()})}if(null===(U=null===(E=nt().gapi)||void 0===E?void 0:E.iframes)||void 0===U?void 0:U.Iframe)c(gapi.iframes.getContext());else{if(!(null===(se=nt().gapi)||void 0===se?void 0:se.load)){const ot=fa("iframefcb");return nt()[ot]=()=>{gapi.load?qe():h(w(y,"network-request-failed"))},Br(`https://apis.google.com/js/api.js?onload=${ot}`).catch(Ft=>h(Ft))}qe()}}).catch(c=>{throw El=null,c})}(y),El}const Tl=new xt(5e3,15e3),Pa={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},_h=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function sd(y){const c=y.config;Fe(c.authDomain,y,"auth-domain-config-required");const h=c.emulator?tn(c,"emulator/auth/iframe"):`https://${y.config.authDomain}/__/auth/iframe`,E={apiKey:c.apiKey,appName:y.name,v:ce.SDK_VERSION},U=_h.get(y.config.apiHost);U&&(E.eid=U);const se=y._getFrameworks();return se.length&&(E.fw=se.join(",")),`${h}?${(0,$.xO)(E).slice(1)}`}function Xo(){return Xo=(0,f.Z)(function*(y){const c=yield Vi(y),h=nt().gapi;return Fe(h,y,"internal-error"),c.open({where:document.body,url:sd(y),messageHandlersFilter:h.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Pa,dontclear:!0},E=>new Promise(function(){var U=(0,f.Z)(function*(se,qe){yield E.restyle({setHideOnLeave:!1});const ot=w(y,"network-request-failed"),Ft=nt().setTimeout(()=>{qe(ot)},Tl.get());function fn(){nt().clearTimeout(Ft),se(E)}E.ping(fn).then(fn,()=>{qe(ot)})});return function(se,qe){return U.apply(this,arguments)}}()))}),Xo.apply(this,arguments)}const ea={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class wl{constructor(c){this.window=c,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(c){}}}function wo(y,c,h,E,U,se){Fe(y.config.authDomain,y,"auth-domain-config-required"),Fe(y.config.apiKey,y,"invalid-api-key");const qe={apiKey:y.config.apiKey,appName:y.name,authType:h,redirectUrl:E,v:ce.SDK_VERSION,eventId:U};if(c instanceof Hr){c.setDefaultLanguage(y.languageCode),qe.providerId=c.providerId||"",(0,$.xb)(c.getCustomParameters())||(qe.customParameters=JSON.stringify(c.getCustomParameters()));for(const[Ft,fn]of Object.entries(se||{}))qe[Ft]=fn}if(c instanceof Js){const Ft=c.getScopes().filter(fn=>""!==fn);Ft.length>0&&(qe.scopes=Ft.join(","))}y.tenantId&&(qe.tid=y.tenantId);const ot=qe;for(const Ft of Object.keys(ot))void 0===ot[Ft]&&delete ot[Ft];return`${function({config:y}){return y.emulator?tn(y,"emulator/auth/handler"):`https://${y.authDomain}/__/auth/handler`}(y)}?${(0,$.xO)(ot).slice(1)}`}const tu="webStorageSupport";class oc extends class{constructor(c){this.factorId=c}_process(c,h,E){switch(h.type){case"enroll":return this._finalizeEnroll(c,h.credential,E);case"signin":return this._finalizeSignIn(c,h.credential);default:return le("unexpected MultiFactorSessionType")}}}{constructor(c){super("phone"),this.credential=c}static _fromCredential(c){return new oc(c)}_finalizeEnroll(c,h,E){return function(y,c){return qt(y,"POST","/v2/accounts/mfaEnrollment:finalize",An(y,c))}(c,{idToken:h,displayName:E,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(c,h){return function(y,c){return qt(y,"POST","/v2/accounts/mfaSignIn:finalize",An(y,c))}(c,{mfaPendingCredential:h,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Io=(()=>{class y{constructor(){}static assertion(h){return oc._fromCredential(h)}}return y.FACTOR_ID="phone",y})();var y,ac="@firebase/auth";class Th{constructor(c){this.auth=c,this.internalListeners=new Map}getUid(){var c;return this.assertAuthConfigured(),(null===(c=this.auth.currentUser)||void 0===c?void 0:c.uid)||null}getToken(c){var h=this;return(0,f.Z)(function*(){return h.assertAuthConfigured(),yield h.auth._initializationPromise,h.auth.currentUser?{accessToken:yield h.auth.currentUser.getIdToken(c)}:null})()}addAuthTokenListener(c){if(this.assertAuthConfigured(),this.internalListeners.has(c))return;const h=this.auth.onIdTokenChanged(E=>{var U;c((null===(U=E)||void 0===U?void 0:U.stsTokenManager.accessToken)||null)});this.internalListeners.set(c,h),this.updateProactiveRefresh()}removeAuthTokenListener(c){this.assertAuthConfigured();const h=this.internalListeners.get(c);!h||(this.internalListeners.delete(c),h(),this.updateProactiveRefresh())}assertAuthConfigured(){Fe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function nu(){return window}function Is(){return Is=(0,f.Z)(function*(y,c,h){var E;const{BuildInfo:U}=nu();ge(c.sessionId,"AuthEvent did not contain a session ID");const se=yield Dh(c.sessionId),qe={};return En()?qe.ibi=U.packageName:rt()?qe.apn=U.packageName:G(y,"operation-not-supported-in-this-environment"),U.displayName&&(qe.appDisplayName=U.displayName),qe.sessionId=se,wo(y,h,c.type,void 0,null!==(E=c.eventId)&&void 0!==E?E:void 0,qe)}),Is.apply(this,arguments)}function Ku(){return Ku=(0,f.Z)(function*(y){const{BuildInfo:c}=nu(),h={};En()?h.iosBundleId=c.packageName:rt()?h.androidPackageName=c.packageName:G(y,"operation-not-supported-in-this-environment"),yield Ra(y,h)}),Ku.apply(this,arguments)}function ld(){return ld=(0,f.Z)(function*(y,c,h){const{cordova:E}=nu();let U=()=>{};try{yield new Promise((se,qe)=>{let ot=null;function Ft(){var On;se();const ri=null===(On=E.plugins.browsertab)||void 0===On?void 0:On.close;"function"==typeof ri&&ri(),"function"==typeof(null==h?void 0:h.close)&&h.close()}function fn(){ot||(ot=window.setTimeout(()=>{qe(w(y,"redirect-cancelled-by-user"))},2e3))}function $n(){"visible"===(null==document?void 0:document.visibilityState)&&fn()}c.addPassiveListener(Ft),document.addEventListener("resume",fn,!1),rt()&&document.addEventListener("visibilitychange",$n,!1),U=()=>{c.removePassiveListener(Ft),document.removeEventListener("resume",fn,!1),document.removeEventListener("visibilitychange",$n,!1),ot&&window.clearTimeout(ot)}})}finally{U()}}),ld.apply(this,arguments)}function Dh(y){return Zu.apply(this,arguments)}function Zu(){return Zu=(0,f.Z)(function*(y){const c=cc(y),h=yield crypto.subtle.digest("SHA-256",c);return Array.from(new Uint8Array(h)).map(U=>U.toString(16).padStart(2,"0")).join("")}),Zu.apply(this,arguments)}function cc(y){if(ge(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(y);const c=new ArrayBuffer(y.length),h=new Uint8Array(c);for(let E=0;E<y.length;E++)h[E]=y.charCodeAt(E);return h}y="Browser",(0,ce._registerComponent)(new j.wA("auth",(c,{options:h})=>{const E=c.getProvider("app").getImmediate(),{apiKey:U,authDomain:se}=E.options;return(qe=>{Fe(U&&!U.includes(":"),"invalid-api-key",{appName:qe.name}),Fe(!(null==se?void 0:se.includes(":")),"argument-error",{appName:qe.name});const ot={apiKey:U,authDomain:se,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_r(y)},Ft=new As(qe,ot);return function(y,c){const h=(null==c?void 0:c.persistence)||[],E=(Array.isArray(h)?h:[h]).map(_e);(null==c?void 0:c.errorMap)&&y._updateErrorMap(c.errorMap),y._initializeWithPersistence(E,null==c?void 0:c.popupRedirectResolver)}(Ft,h),Ft})(E)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((c,h,E)=>{c.getProvider("auth-internal").initialize()})),(0,ce._registerComponent)(new j.wA("auth-internal",c=>{const h=nr(c.getProvider("auth").getImmediate());return new Th(h)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ce.registerVersion)(ac,"0.19.7",void 0),(0,ce.registerVersion)(ac,"0.19.7","esm2017");class Dl extends zu{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(c=>{this.resolveInialized=c})}addPassiveListener(c){this.passiveListeners.add(c)}removePassiveListener(c){this.passiveListeners.delete(c)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(c){return this.resolveInialized(),this.passiveListeners.forEach(h=>h(c)),super.onEvent(c)}initialized(){var c=this;return(0,f.Z)(function*(){yield c.initPromise})()}}function Zi(y){return qu.apply(this,arguments)}function qu(){return qu=(0,f.Z)(function*(y){const c=yield uo()._get(La(y));return c&&(yield uo()._remove(La(y))),c}),qu.apply(this,arguments)}function Yu(){const y=[],c="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let h=0;h<20;h++){const E=Math.floor(Math.random()*c.length);y.push(c.charAt(E))}return y.join("")}function uo(){return _e(kr)}function La(y){return St("authEvent",y.config.apiKey,y.name)}function Qu(y){if(!(null==y?void 0:y.includes("?")))return{};const[c,...h]=y.split("?");return(0,$.zd)(h.join("?"))}function Cl(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:w("no-auth-event")}}function Xu(){var y;return(null===(y=null==self?void 0:self.location)||void 0===y?void 0:y.protocol)||null}function Sh(y=(0,$.z$)()){return!("file:"!==Xu()&&"ionic:"!==Xu()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function gc(){try{const y=self.localStorage,c=Ji();if(y)return y.setItem(c,"1"),y.removeItem(c),!function(y=(0,$.z$)()){return(0,$.w1)()&&11===(null==document?void 0:document.documentMode)||function(y=(0,$.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,$.hl)()}catch(y){return ma()&&(0,$.hl)()}return!1}function ma(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function vi(){return("http:"===Xu()||"https:"===Xu()||(0,$.ru)()||Sh())&&!((0,$.b$)()||(0,$.UG)())&&gc()&&!ma()}function Iu(){return Sh()&&"undefined"!=typeof document}function yc(){return yc=(0,f.Z)(function*(){return!!Iu()&&new Promise(y=>{const c=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(c),y(!0)})})}),yc.apply(this,arguments)}const di={LOCAL:"local",NONE:"none",SESSION:"session"},el=Fe,bl="persistence";function Al(y){return Fs.apply(this,arguments)}function Fs(){return Fs=(0,f.Z)(function*(y){yield y._initializationPromise;const c=Jr(),h=St(bl,y.config.apiKey,y.name);c&&c.setItem(h,y._getPersistence())}),Fs.apply(this,arguments)}function Jr(){var y;try{return(null===(y="undefined"!=typeof window?window:null)||void 0===y?void 0:y.sessionStorage)||null}catch(c){return null}}const es=Fe;class Fa{constructor(){this.browserResolver=_e(class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=zi,this._completeRedirectFn=Hu}_openPopup(c,h,E,U){var se=this;return(0,f.Z)(function*(){var qe;ge(null===(qe=se.eventManagers[c._key()])||void 0===qe?void 0:qe.manager,"_initialize() not called before _openPopup()");const ot=wo(c,h,E,Et(),U);return function(y,c,h,E=500,U=600){const se=Math.max((window.screen.availHeight-U)/2,0).toString(),qe=Math.max((window.screen.availWidth-E)/2,0).toString();let ot="";const Ft=Object.assign(Object.assign({},ea),{width:E.toString(),height:U.toString(),top:se,left:qe}),fn=(0,$.z$)().toLowerCase();h&&(ot=pe(fn)?"_blank":h),Ue(fn)&&(c=c||"http://localhost",Ft.scrollbars="yes");const $n=Object.entries(Ft).reduce((ri,[lo,ta])=>`${ri}${lo}=${ta},`,"");if(function(y=(0,$.z$)()){var c;return En(y)&&!!(null===(c=window.navigator)||void 0===c?void 0:c.standalone)}(fn)&&"_self"!==ot)return function(y,c){const h=document.createElement("a");h.href=y,h.target=c;const E=document.createEvent("MouseEvent");E.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),h.dispatchEvent(E)}(c||"",ot),new wl(null);const On=window.open(c||"",ot,$n);Fe(On,y,"popup-blocked");try{On.focus()}catch(ri){}return new wl(On)}(c,ot,Ji())})()}_openRedirect(c,h,E,U){var se=this;return(0,f.Z)(function*(){return yield se._originValidation(c),y=wo(c,h,E,Et(),U),nt().location.href=y,new Promise(()=>{});var y})()}_initialize(c){const h=c._key();if(this.eventManagers[h]){const{manager:U,promise:se}=this.eventManagers[h];return U?Promise.resolve(U):(ge(se,"If manager is not set, promise should be"),se)}const E=this.initAndGetManager(c);return this.eventManagers[h]={promise:E},E.catch(()=>{delete this.eventManagers[h]}),E}initAndGetManager(c){var h=this;return(0,f.Z)(function*(){const E=yield function(y){return Xo.apply(this,arguments)}(c),U=new zu(c);return E.register("authEvent",se=>(Fe(null==se?void 0:se.authEvent,c,"invalid-auth-event"),{status:U.onEvent(se.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),h.eventManagers[c._key()]={manager:U},h.iframes[c._key()]=E,U})()}_isIframeWebStorageSupported(c,h){this.iframes[c._key()].send(tu,{type:tu},U=>{var se;const qe=null===(se=null==U?void 0:U[0])||void 0===se?void 0:se[tu];void 0!==qe&&h(!!qe),G(c,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(c){const h=c._key();return this.originValidationPromises[h]||(this.originValidationPromises[h]=function(y){return Ma.apply(this,arguments)}(c)),this.originValidationPromises[h]}get _shouldInitProactively(){return Si()||Oe()||En()}}),this.cordovaResolver=_e(class{constructor(){this._redirectPersistence=zi,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Hu}_initialize(c){var h=this;return(0,f.Z)(function*(){const E=c._key();let U=h.eventManagers.get(E);return U||(U=new Dl(c),h.eventManagers.set(E,U),h.attachCallbackListeners(c,U)),U})()}_openPopup(c){G(c,"operation-not-supported-in-this-environment")}_openRedirect(c,h,E,U){var se=this;return(0,f.Z)(function*(){!function(y){var c,h,E,U,se,qe,ot,Ft,fn,$n;const On=nu();Fe("function"==typeof(null===(c=null==On?void 0:On.universalLinks)||void 0===c?void 0:c.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Fe(void 0!==(null===(h=null==On?void 0:On.BuildInfo)||void 0===h?void 0:h.packageName),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Fe("function"==typeof(null===(se=null===(U=null===(E=null==On?void 0:On.cordova)||void 0===E?void 0:E.plugins)||void 0===U?void 0:U.browsertab)||void 0===se?void 0:se.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Fe("function"==typeof(null===(Ft=null===(ot=null===(qe=null==On?void 0:On.cordova)||void 0===qe?void 0:qe.plugins)||void 0===ot?void 0:ot.browsertab)||void 0===Ft?void 0:Ft.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Fe("function"==typeof(null===($n=null===(fn=null==On?void 0:On.cordova)||void 0===fn?void 0:fn.InAppBrowser)||void 0===$n?void 0:$n.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(c);const qe=yield se._initialize(c);yield qe.initialized(),qe.resetRedirect(),Ki.clear(),yield se._originValidation(c);const ot=function(y,c,h=null){return{type:c,eventId:h,urlResponse:null,sessionId:Yu(),postBody:null,tenantId:y.tenantId,error:w(y,"no-auth-event")}}(c,E,U);yield function(y,c){return uo()._set(La(y),c)}(c,ot);const Ft=yield function(y,c,h){return Is.apply(this,arguments)}(c,ot,h),fn=yield function(y){const{cordova:c}=nu();return new Promise(h=>{c.plugins.browsertab.isAvailable(E=>{let U=null;E?c.plugins.browsertab.openUrl(y):U=c.InAppBrowser.open(y,function(y=(0,$.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),h(U)})})}(Ft);return function(y,c,h){return ld.apply(this,arguments)}(c,qe,fn)})()}_isIframeWebStorageSupported(c,h){throw new Error("Method not implemented.")}_originValidation(c){const h=c._key();return this.originValidationPromises[h]||(this.originValidationPromises[h]=function(y){return Ku.apply(this,arguments)}(c)),this.originValidationPromises[h]}attachCallbackListeners(c,h){const{universalLinks:E,handleOpenURL:U,BuildInfo:se}=nu(),qe=setTimeout((0,f.Z)(function*(){yield Zi(c),h.onEvent(Cl())}),500),ot=function(){var $n=(0,f.Z)(function*(On){clearTimeout(qe);const ri=yield Zi(c);let lo=null;ri&&(null==On?void 0:On.url)&&(lo=function(y,c){var h,E;const U=function(y){const c=Qu(y),h=c.link?decodeURIComponent(c.link):void 0,E=Qu(h).link,U=c.deep_link_id?decodeURIComponent(c.deep_link_id):void 0;return Qu(U).link||U||E||h||y}(c);if(U.includes("/__/auth/callback")){const se=Qu(U),qe=se.firebaseError?function(y){try{return JSON.parse(y)}catch(c){return null}}(decodeURIComponent(se.firebaseError)):null,ot=null===(E=null===(h=null==qe?void 0:qe.code)||void 0===h?void 0:h.split("auth/"))||void 0===E?void 0:E[1],Ft=ot?w(ot):null;return Ft?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:Ft,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:U,postBody:null}}return null}(ri,On.url)),h.onEvent(lo||Cl())});return function(ri){return $n.apply(this,arguments)}}();void 0!==E&&"function"==typeof E.subscribe&&E.subscribe(null,ot);const Ft=U,fn=`${se.packageName.toLowerCase()}://`;nu().handleOpenURL=function(){var $n=(0,f.Z)(function*(On){if(On.toLowerCase().startsWith(fn)&&ot({url:On}),"function"==typeof Ft)try{Ft(On)}catch(ri){console.error(ri)}});return function(On){return $n.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=zi,this._completeRedirectFn=Hu}_initialize(c){var h=this;return(0,f.Z)(function*(){return yield h.selectUnderlyingResolver(),h.assertedUnderlyingResolver._initialize(c)})()}_openPopup(c,h,E,U){var se=this;return(0,f.Z)(function*(){return yield se.selectUnderlyingResolver(),se.assertedUnderlyingResolver._openPopup(c,h,E,U)})()}_openRedirect(c,h,E,U){var se=this;return(0,f.Z)(function*(){return yield se.selectUnderlyingResolver(),se.assertedUnderlyingResolver._openRedirect(c,h,E,U)})()}_isIframeWebStorageSupported(c,h){this.assertedUnderlyingResolver._isIframeWebStorageSupported(c,h)}_originValidation(c){return this.assertedUnderlyingResolver._originValidation(c)}get _shouldInitProactively(){return Iu()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return es(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var c=this;return(0,f.Z)(function*(){if(c.underlyingResolver)return;const h=yield function(){return yc.apply(this,arguments)}();c.underlyingResolver=h?c.cordovaResolver:c.browserResolver})()}}function md(y){return y.unwrap()}function Do(y){return ts(y)}function ts(y){const{_tokenResponse:c}=y instanceof $.ZR?y.customData:y;if(!c)return null;if(!(y instanceof $.ZR)&&"temporaryProof"in c&&"phoneNumber"in c)return Ts.credentialFromResult(y);const h=c.providerId;if(!h||"password"===h)return null;let E;switch(h){case"google.com":E=Yr;break;case"facebook.com":E=ai;break;case"github.com":E=qi;break;case"twitter.com":E=Ss;break;default:const{oauthIdToken:U,oauthAccessToken:se,oauthTokenSecret:qe,pendingToken:ot,nonce:Ft}=c;return se||qe||U||ot?ot?h.startsWith("saml.")?ki._create(h,ot):Li._fromParams({providerId:h,signInMethod:h,pendingToken:ot,idToken:U,accessToken:se}):new Ri(h).credential({idToken:U,accessToken:se,rawNonce:Ft}):null}return y instanceof $.ZR?E.credentialFromError(y):E.credentialFromResult(y)}function Fr(y,c){return c.catch(h=>{throw h instanceof $.ZR&&function(y,c){var h;const E=null===(h=c.customData)||void 0===h?void 0:h._tokenResponse;if("auth/multi-factor-auth-required"===c.code)c.resolver=new Du(y,function(y,c){var h;const E=(0,$.m9)(y),U=c;return Fe(c.customData.operationType,E,"argument-error"),Fe(null===(h=U.customData._serverResponse)||void 0===h?void 0:h.mfaPendingCredential,E,"argument-error"),Mo._fromError(E,U)}(y,c));else if(E){const U=ts(c),se=c;U&&(se.credential=U,se.tenantId=E.tenantId||void 0,se.email=E.email||void 0,se.phoneNumber=E.phoneNumber||void 0)}}(y,h),h}).then(h=>{const U=h.user;return{operationType:h.operationType,credential:Do(h),additionalUserInfo:zr(h),user:Ks.getOrCreate(U)}})}function _a(y,c){return Lo.apply(this,arguments)}function Lo(){return Lo=(0,f.Z)(function*(y,c){const h=yield c;return{verificationId:h.verificationId,confirm:E=>Fr(y,h.confirm(E))}}),Lo.apply(this,arguments)}class Du{constructor(c,h){this.resolver=h,this.auth=function(y){return y.wrapped()}(c)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(c){return Fr(md(this.auth),this.resolver.resolveSignIn(c))}}class Ks{constructor(c){this._delegate=c,this.multiFactor=function(y){const c=(0,$.m9)(y);return _o.has(c)||_o.set(c,ba._fromUser(c)),_o.get(c)}(c)}static getOrCreate(c){return Ks.USER_MAP.has(c)||Ks.USER_MAP.set(c,new Ks(c)),Ks.USER_MAP.get(c)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(c){return this._delegate.getIdTokenResult(c)}getIdToken(c){return this._delegate.getIdToken(c)}linkAndRetrieveDataWithCredential(c){return this.linkWithCredential(c)}linkWithCredential(c){var h=this;return(0,f.Z)(function*(){return Fr(h.auth,wr(h._delegate,c))})()}linkWithPhoneNumber(c,h){var E=this;return(0,f.Z)(function*(){return _a(E.auth,function(y,c,h){return mn.apply(this,arguments)}(E._delegate,c,h))})()}linkWithPopup(c){var h=this;return(0,f.Z)(function*(){return Fr(h.auth,function(y,c,h){return bi.apply(this,arguments)}(h._delegate,c,Fa))})()}linkWithRedirect(c){var h=this;return(0,f.Z)(function*(){return yield Al(nr(h.auth)),function(y,c,h){return function(y,c,h){return Oa.apply(this,arguments)}(y,c,h)}(h._delegate,c,Fa)})()}reauthenticateAndRetrieveDataWithCredential(c){return this.reauthenticateWithCredential(c)}reauthenticateWithCredential(c){var h=this;return(0,f.Z)(function*(){return Fr(h.auth,ie(h._delegate,c))})()}reauthenticateWithPhoneNumber(c,h){return _a(this.auth,function(y,c,h){return fr.apply(this,arguments)}(this._delegate,c,h))}reauthenticateWithPopup(c){return Fr(this.auth,function(y,c,h){return zn.apply(this,arguments)}(this._delegate,c,Fa))}reauthenticateWithRedirect(c){var h=this;return(0,f.Z)(function*(){return yield Al(nr(h.auth)),function(y,c,h){return function(y,c,h){return ks.apply(this,arguments)}(y,c,h)}(h._delegate,c,Fa)})()}sendEmailVerification(c){return function(y,c){return Ws.apply(this,arguments)}(this._delegate,c)}unlink(c){var h=this;return(0,f.Z)(function*(){return yield function(y,c){return us.apply(this,arguments)}(h._delegate,c),h})()}updateEmail(c){return function(y,c){return ca((0,$.m9)(y),c,null)}(this._delegate,c)}updatePassword(c){return function(y,c){return ca((0,$.m9)(y),null,c)}(this._delegate,c)}updatePhoneNumber(c){return function(y,c){return Cr.apply(this,arguments)}(this._delegate,c)}updateProfile(c){return function(y,c){return Ms.apply(this,arguments)}(this._delegate,c)}verifyBeforeUpdateEmail(c,h){return function(y,c,h){return jo.apply(this,arguments)}(this._delegate,c,h)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ks.USER_MAP=new WeakMap;const tl=Fe;let Sl=(()=>{class y{constructor(h,E){if(this.app=h,E.isInitialized())return this._delegate=E.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:U}=h.options;tl(U,"invalid-api-key",{appName:h.name}),tl(U,"invalid-api-key",{appName:h.name});const se="undefined"!=typeof window?Fa:void 0;this._delegate=E.initialize({options:{persistence:bt(U,h.name),popupRedirectResolver:se}}),this._delegate._updateErrorMap(Ye),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ks.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(h){this._delegate.languageCode=h}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(h){this._delegate.tenantId=h}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(h,E){!function(y,c,h){const E=nr(y);Fe(E._canInitEmulator,E,"emulator-config-failed"),Fe(/^https?:\/\//.test(c),E,"invalid-emulator-scheme");const U=!!(null==h?void 0:h.disableWarnings),se=dt(c),{host:qe,port:ot}=function(y){const c=dt(y),h=/(\/\/)?([^?#/]+)/.exec(y.substr(c.length));if(!h)return{host:"",port:null};const E=h[2].split("@").pop()||"",U=/^(\[[^\]]+\])(:|$)/.exec(E);if(U){const se=U[1];return{host:se,port:Qn(E.substr(se.length+1))}}{const[se,qe]=E.split(":");return{host:se,port:Qn(qe)}}}(c);E.config.emulator={url:`${se}//${qe}${null===ot?"":`:${ot}`}/`},E.settings.appVerificationDisabledForTesting=!0,E.emulatorConfig=Object.freeze({host:qe,port:ot,protocol:se.replace(":",""),options:Object.freeze({disableWarnings:U})}),U||function(){function y(){const c=document.createElement("p"),h=c.style;c.innerText="Running in emulator mode. Do not use with production credentials.",h.position="fixed",h.width="100%",h.backgroundColor="#ffffff",h.border=".1em solid #000000",h.color="#b50000",h.bottom="0px",h.left="0px",h.margin="0px",h.zIndex="10000",h.textAlign="center",c.classList.add("firebase-emulator-warning"),document.body.appendChild(c)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,h,E)}applyActionCode(h){return function(y,c){return to.apply(this,arguments)}(this._delegate,h)}checkActionCode(h){return Wn(this._delegate,h)}confirmPasswordReset(h,E){return function(y,c,h){return ht.apply(this,arguments)}(this._delegate,h,E)}createUserWithEmailAndPassword(h,E){var U=this;return(0,f.Z)(function*(){return Fr(U._delegate,function(y,c,h){return aa.apply(this,arguments)}(U._delegate,h,E))})()}fetchProvidersForEmail(h){return this.fetchSignInMethodsForEmail(h)}fetchSignInMethodsForEmail(h){return function(y,c){return po.apply(this,arguments)}(this._delegate,h)}isSignInWithEmailLink(h){return function(y,c){const h=as.parseLink(c);return"EMAIL_SIGNIN"===(null==h?void 0:h.operation)}(0,h)}getRedirectResult(){var h=this;return(0,f.Z)(function*(){tl(vi(),h._delegate,"operation-not-supported-in-this-environment");const E=yield function(y,c){return Qa.apply(this,arguments)}(h._delegate,Fa);return E?Fr(h._delegate,Promise.resolve(E)):{credential:null,user:null}})()}addFrameworkForLogging(h){!function(y,c){nr(y)._logFramework(c)}(this._delegate,h)}onAuthStateChanged(h,E,U){const{next:se,error:qe,complete:ot}=_c(h,E,U);return this._delegate.onAuthStateChanged(se,qe,ot)}onIdTokenChanged(h,E,U){const{next:se,error:qe,complete:ot}=_c(h,E,U);return this._delegate.onIdTokenChanged(se,qe,ot)}sendSignInLinkToEmail(h,E){return function(y,c,h){return ho.apply(this,arguments)}(this._delegate,h,E)}sendPasswordResetEmail(h,E){return function(y,c,h){return Ci.apply(this,arguments)}(this._delegate,h,E||void 0)}setPersistence(h){var E=this;return(0,f.Z)(function*(){let U;switch(function(y,c){el(Object.values(di).includes(c),y,"invalid-persistence-type"),(0,$.b$)()?el(c!==di.SESSION,y,"unsupported-persistence-type"):(0,$.UG)()?el(c===di.NONE,y,"unsupported-persistence-type"):ma()?el(c===di.NONE||c===di.LOCAL&&(0,$.hl)(),y,"unsupported-persistence-type"):el(c===di.NONE||gc(),y,"unsupported-persistence-type")}(E._delegate,h),h){case di.SESSION:U=zi;break;case di.LOCAL:U=(yield _e(Ui)._isAvailable())?Ui:kr;break;case di.NONE:U=mt;break;default:return G("argument-error",{appName:E._delegate.name})}return E._delegate.setPersistence(U)})()}signInAndRetrieveDataWithCredential(h){return this.signInWithCredential(h)}signInAnonymously(){return Fr(this._delegate,function(y){return js.apply(this,arguments)}(this._delegate))}signInWithCredential(h){return Fr(this._delegate,Yt(this._delegate,h))}signInWithCustomToken(h){return Fr(this._delegate,function(y,c){return In.apply(this,arguments)}(this._delegate,h))}signInWithEmailAndPassword(h,E){return Fr(this._delegate,function(y,c,h){return Yt((0,$.m9)(y),oi.credential(c,h))}(this._delegate,h,E))}signInWithEmailLink(h,E){return Fr(this._delegate,function(y,c,h){return pi.apply(this,arguments)}(this._delegate,h,E))}signInWithPhoneNumber(h,E){return _a(this._delegate,function(y,c,h){return Qt.apply(this,arguments)}(this._delegate,h,E))}signInWithPopup(h){var E=this;return(0,f.Z)(function*(){return tl(vi(),E._delegate,"operation-not-supported-in-this-environment"),Fr(E._delegate,function(y,c,h){return ln.apply(this,arguments)}(E._delegate,h,Fa))})()}signInWithRedirect(h){var E=this;return(0,f.Z)(function*(){return tl(vi(),E._delegate,"operation-not-supported-in-this-environment"),yield Al(E._delegate),function(y,c,h){return function(y,c,h){return _u.apply(this,arguments)}(y,c,h)}(E._delegate,h,Fa)})()}updateCurrentUser(h){return this._delegate.updateCurrentUser(h)}verifyPasswordResetCode(h){return function(y,c){return Wi.apply(this,arguments)}(this._delegate,h)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=di,y})();function _c(y,c,h){let E=y;"function"!=typeof y&&({next:E,error:c,complete:h}=y);const U=E;return{next:qe=>U(qe&&Ks.getOrCreate(qe)),error:c,complete:h}}function bt(y,c){const h=function(y,c){const h=Jr();if(!h)return[];const E=St(bl,y,c);switch(h.getItem(E)){case di.NONE:return[mt];case di.LOCAL:return[Ui,zi];case di.SESSION:return[zi];default:return[]}}(y,c);if("undefined"!=typeof self&&!h.includes(Ui)&&h.push(Ui),"undefined"!=typeof window)for(const E of[kr,zi])h.includes(E)||h.push(E);return h.includes(mt)||h.push(mt),h}class Cu{constructor(){this.providerId="phone",this._delegate=new Ts(md(C.Z.auth()))}static credential(c,h){return Ts.credential(c,h)}verifyPhoneNumber(c,h){return this._delegate.verifyPhoneNumber(c,h)}unwrap(){return this._delegate}}Cu.PHONE_SIGN_IN_METHOD=Ts.PHONE_SIGN_IN_METHOD,Cu.PROVIDER_ID=Ts.PROVIDER_ID;const ko=Fe;class yd{constructor(c,h,E=C.Z.app()){var U;ko(null===(U=E.options)||void 0===U?void 0:U.apiKey,"invalid-api-key",{appName:E.name}),this._delegate=new at(c,h,E.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function(y){y.INTERNAL.registerComponent(new j.wA("auth-compat",c=>{const h=c.getProvider("app-compat").getImmediate(),E=c.getProvider("auth");return new Sl(h,E)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:oi,FacebookAuthProvider:ai,GithubAuthProvider:qi,GoogleAuthProvider:Yr,OAuthProvider:Ri,SAMLAuthProvider:or,PhoneAuthProvider:Cu,PhoneMultiFactorGenerator:Io,RecaptchaVerifier:yd,TwitterAuthProvider:Ss,Auth:Sl,AuthCredential:Jn,Error:$.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.2.7")}(C.Z)},6033:function(gt,Ne){!function(b){"use strict";function f(ue){return Array.prototype.slice.call(ue)}function C(ue){return new Promise(function(de,Ie){ue.onsuccess=function(){de(ue.result)},ue.onerror=function(){Ie(ue.error)}})}function $(ue,de,Ie){var me,G=new Promise(function(w,ae){C(me=ue[de].apply(ue,Ie)).then(w,ae)});return G.request=me,G}function ce(ue,de,Ie){var me=$(ue,de,Ie);return me.then(function(G){if(G)return new z(G,me.request)})}function x(ue,de,Ie){Ie.forEach(function(me){Object.defineProperty(ue.prototype,me,{get:function(){return this[de][me]},set:function(G){this[de][me]=G}})})}function H(ue,de,Ie,me){me.forEach(function(G){G in Ie.prototype&&(ue.prototype[G]=function(){return $(this[de],G,arguments)})})}function j(ue,de,Ie,me){me.forEach(function(G){G in Ie.prototype&&(ue.prototype[G]=function(){return this[de][G].apply(this[de],arguments)})})}function W(ue,de,Ie,me){me.forEach(function(G){G in Ie.prototype&&(ue.prototype[G]=function(){return ce(this[de],G,arguments)})})}function Z(ue){this._index=ue}function z(ue,de){this._cursor=ue,this._request=de}function q(ue){this._store=ue}function te(ue){this._tx=ue,this.complete=new Promise(function(de,Ie){ue.oncomplete=function(){de()},ue.onerror=function(){Ie(ue.error)},ue.onabort=function(){Ie(ue.error)}})}function Te(ue,de,Ie){this._db=ue,this.oldVersion=de,this.transaction=new te(Ie)}function Ae(ue){this._db=ue}x(Z,"_index",["name","keyPath","multiEntry","unique"]),H(Z,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),W(Z,"_index",IDBIndex,["openCursor","openKeyCursor"]),x(z,"_cursor",["direction","key","primaryKey","value"]),H(z,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(ue){ue in IDBCursor.prototype&&(z.prototype[ue]=function(){var de=this,Ie=arguments;return Promise.resolve().then(function(){return de._cursor[ue].apply(de._cursor,Ie),C(de._request).then(function(me){if(me)return new z(me,de._request)})})})}),q.prototype.createIndex=function(){return new Z(this._store.createIndex.apply(this._store,arguments))},q.prototype.index=function(){return new Z(this._store.index.apply(this._store,arguments))},x(q,"_store",["name","keyPath","indexNames","autoIncrement"]),H(q,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),W(q,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),j(q,"_store",IDBObjectStore,["deleteIndex"]),te.prototype.objectStore=function(){return new q(this._tx.objectStore.apply(this._tx,arguments))},x(te,"_tx",["objectStoreNames","mode"]),j(te,"_tx",IDBTransaction,["abort"]),Te.prototype.createObjectStore=function(){return new q(this._db.createObjectStore.apply(this._db,arguments))},x(Te,"_db",["name","version","objectStoreNames"]),j(Te,"_db",IDBDatabase,["deleteObjectStore","close"]),Ae.prototype.transaction=function(){return new te(this._db.transaction.apply(this._db,arguments))},x(Ae,"_db",["name","version","objectStoreNames"]),j(Ae,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(ue){[q,Z].forEach(function(de){ue in de.prototype&&(de.prototype[ue.replace("open","iterate")]=function(){var Ie=f(arguments),me=Ie[Ie.length-1],G=this._store||this._index,w=G[ue].apply(G,Ie.slice(0,-1));w.onsuccess=function(){me(w.result)}})})}),[Z,q].forEach(function(ue){ue.prototype.getAll||(ue.prototype.getAll=function(de,Ie){var me=this,G=[];return new Promise(function(w){me.iterateCursor(de,function(ae){ae?(G.push(ae.value),void 0===Ie||G.length!=Ie?ae.continue():w(G)):w(G)})})})}),b.openDb=function(ue,de,Ie){var me=$(indexedDB,"open",[ue,de]),G=me.request;return G&&(G.onupgradeneeded=function(w){Ie&&Ie(new Te(G.result,w.oldVersion,G.transaction))}),me.then(function(w){return new Ae(w)})},b.deleteDb=function(ue){return $(indexedDB,"deleteDatabase",[ue])},Object.defineProperty(b,"__esModule",{value:!0})}(Ne)},1135:(gt,Ne,b)=>{"use strict";b.d(Ne,{X:()=>C});var f=b(7579);class C extends f.x{constructor(ce){super(),this._value=ce}get value(){return this.getValue()}_subscribe(ce){const x=super._subscribe(ce);return!x.closed&&ce.next(this._value),x}getValue(){const{hasError:ce,thrownError:x,_value:H}=this;if(ce)throw x;return this._throwIfClosed(),H}next(ce){super.next(this._value=ce)}}},8306:(gt,Ne,b)=>{"use strict";b.d(Ne,{y:()=>z});var f=b(930),C=b(727),$=b(8822),ce=b(4671);var j=b(2416),W=b(576),Z=b(2806);let z=(()=>{class Ae{constructor(Ze){Ze&&(this._subscribe=Ze)}lift(Ze){const ue=new Ae;return ue.source=this,ue.operator=Ze,ue}subscribe(Ze,ue,de){const Ie=function(Ae){return Ae&&Ae instanceof f.Lv||function(Ae){return Ae&&(0,W.m)(Ae.next)&&(0,W.m)(Ae.error)&&(0,W.m)(Ae.complete)}(Ae)&&(0,C.Nn)(Ae)}(Ze)?Ze:new f.Hp(Ze,ue,de);return(0,Z.x)(()=>{const{operator:me,source:G}=this;Ie.add(me?me.call(Ie,G):G?this._subscribe(Ie):this._trySubscribe(Ie))}),Ie}_trySubscribe(Ze){try{return this._subscribe(Ze)}catch(ue){Ze.error(ue)}}forEach(Ze,ue){return new(ue=q(ue))((de,Ie)=>{let me;me=this.subscribe(G=>{try{Ze(G)}catch(w){Ie(w),null==me||me.unsubscribe()}},Ie,de)})}_subscribe(Ze){var ue;return null===(ue=this.source)||void 0===ue?void 0:ue.subscribe(Ze)}[$.L](){return this}pipe(...Ze){return function(Ae){return 0===Ae.length?ce.y:1===Ae.length?Ae[0]:function(Ze){return Ae.reduce((ue,de)=>de(ue),Ze)}}(Ze)(this)}toPromise(Ze){return new(Ze=q(Ze))((ue,de)=>{let Ie;this.subscribe(me=>Ie=me,me=>de(me),()=>ue(Ie))})}}return Ae.create=Ye=>new Ae(Ye),Ae})();function q(Ae){var Ye;return null!==(Ye=null!=Ae?Ae:j.v.Promise)&&void 0!==Ye?Ye:Promise}},4707:(gt,Ne,b)=>{"use strict";b.d(Ne,{t:()=>$});var f=b(7579),C=b(6063);class $ extends f.x{constructor(x=1/0,H=1/0,j=C.l){super(),this._bufferSize=x,this._windowTime=H,this._timestampProvider=j,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=H===1/0,this._bufferSize=Math.max(1,x),this._windowTime=Math.max(1,H)}next(x){const{isStopped:H,_buffer:j,_infiniteTimeWindow:W,_timestampProvider:Z,_windowTime:z}=this;H||(j.push(x),!W&&j.push(Z.now()+z)),this._trimBuffer(),super.next(x)}_subscribe(x){this._throwIfClosed(),this._trimBuffer();const H=this._innerSubscribe(x),{_infiniteTimeWindow:j,_buffer:W}=this,Z=W.slice();for(let z=0;z<Z.length&&!x.closed;z+=j?1:2)x.next(Z[z]);return this._checkFinalizedStatuses(x),H}_trimBuffer(){const{_bufferSize:x,_timestampProvider:H,_buffer:j,_infiniteTimeWindow:W}=this,Z=(W?1:2)*x;if(x<1/0&&Z<j.length&&j.splice(0,j.length-Z),!W){const z=H.now();let q=0;for(let te=1;te<j.length&&j[te]<=z;te+=2)q=te;q&&j.splice(0,q+1)}}}},7579:(gt,Ne,b)=>{"use strict";b.d(Ne,{x:()=>j});var f=b(8306),C=b(727);const ce=(0,b(3888).d)(Z=>function(){Z(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var x=b(8737),H=b(2806);let j=(()=>{class Z extends f.y{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(q){const te=new W(this,this);return te.operator=q,te}_throwIfClosed(){if(this.closed)throw new ce}next(q){(0,H.x)(()=>{if(this._throwIfClosed(),!this.isStopped){const te=this.observers.slice();for(const Te of te)Te.next(q)}})}error(q){(0,H.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=q;const{observers:te}=this;for(;te.length;)te.shift().error(q)}})}complete(){(0,H.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:q}=this;for(;q.length;)q.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var q;return(null===(q=this.observers)||void 0===q?void 0:q.length)>0}_trySubscribe(q){return this._throwIfClosed(),super._trySubscribe(q)}_subscribe(q){return this._throwIfClosed(),this._checkFinalizedStatuses(q),this._innerSubscribe(q)}_innerSubscribe(q){const{hasError:te,isStopped:Te,observers:Ae}=this;return te||Te?C.Lc:(Ae.push(q),new C.w0(()=>(0,x.P)(Ae,q)))}_checkFinalizedStatuses(q){const{hasError:te,thrownError:Te,isStopped:Ae}=this;te?q.error(Te):Ae&&q.complete()}asObservable(){const q=new f.y;return q.source=this,q}}return Z.create=(z,q)=>new W(z,q),Z})();class W extends j{constructor(z,q){super(),this.destination=z,this.source=q}next(z){var q,te;null===(te=null===(q=this.destination)||void 0===q?void 0:q.next)||void 0===te||te.call(q,z)}error(z){var q,te;null===(te=null===(q=this.destination)||void 0===q?void 0:q.error)||void 0===te||te.call(q,z)}complete(){var z,q;null===(q=null===(z=this.destination)||void 0===z?void 0:z.complete)||void 0===q||q.call(z)}_subscribe(z){var q,te;return null!==(te=null===(q=this.source)||void 0===q?void 0:q.subscribe(z))&&void 0!==te?te:C.Lc}}},930:(gt,Ne,b)=>{"use strict";b.d(Ne,{Hp:()=>Te,Lv:()=>te});var f=b(576),C=b(727),$=b(2416),ce=b(7849),x=b(5032);const H=Z("C",void 0,void 0);function Z(de,Ie,me){return{kind:de,value:Ie,error:me}}var z=b(3410),q=b(2806);class te extends C.w0{constructor(Ie){super(),this.isStopped=!1,Ie?(this.destination=Ie,(0,C.Nn)(Ie)&&Ie.add(this)):this.destination=ue}static create(Ie,me,G){return new Te(Ie,me,G)}next(Ie){this.isStopped?Ze(Z("N",Ie,void 0),this):this._next(Ie)}error(Ie){this.isStopped?Ze(Z("E",void 0,Ie),this):(this.isStopped=!0,this._error(Ie))}complete(){this.isStopped?Ze(H,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ie){this.destination.next(Ie)}_error(Ie){try{this.destination.error(Ie)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class Te extends te{constructor(Ie,me,G){let w;if(super(),(0,f.m)(Ie))w=Ie;else if(Ie){let ae;({next:w,error:me,complete:G}=Ie),this&&$.v.useDeprecatedNextContext?(ae=Object.create(Ie),ae.unsubscribe=()=>this.unsubscribe()):ae=Ie,w=null==w?void 0:w.bind(ae),me=null==me?void 0:me.bind(ae),G=null==G?void 0:G.bind(ae)}this.destination={next:w?Ae(w):x.Z,error:Ae(null!=me?me:Ye),complete:G?Ae(G):x.Z}}}function Ae(de,Ie){return(...me)=>{try{de(...me)}catch(G){$.v.useDeprecatedSynchronousErrorHandling?(0,q.O)(G):(0,ce.h)(G)}}}function Ye(de){throw de}function Ze(de,Ie){const{onStoppedNotification:me}=$.v;me&&z.z.setTimeout(()=>me(de,Ie))}const ue={closed:!0,next:x.Z,error:Ye,complete:x.Z}},727:(gt,Ne,b)=>{"use strict";b.d(Ne,{Lc:()=>H,w0:()=>x,Nn:()=>j});var f=b(576);const $=(0,b(3888).d)(Z=>function(q){Z(this),this.message=q?`${q.length} errors occurred during unsubscription:\n${q.map((te,Te)=>`${Te+1}) ${te.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=q});var ce=b(8737);class x{constructor(z){this.initialTeardown=z,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let z;if(!this.closed){this.closed=!0;const{_parentage:q}=this;if(q)if(this._parentage=null,Array.isArray(q))for(const Ae of q)Ae.remove(this);else q.remove(this);const{initialTeardown:te}=this;if((0,f.m)(te))try{te()}catch(Ae){z=Ae instanceof $?Ae.errors:[Ae]}const{_teardowns:Te}=this;if(Te){this._teardowns=null;for(const Ae of Te)try{W(Ae)}catch(Ye){z=null!=z?z:[],Ye instanceof $?z=[...z,...Ye.errors]:z.push(Ye)}}if(z)throw new $(z)}}add(z){var q;if(z&&z!==this)if(this.closed)W(z);else{if(z instanceof x){if(z.closed||z._hasParent(this))return;z._addParent(this)}(this._teardowns=null!==(q=this._teardowns)&&void 0!==q?q:[]).push(z)}}_hasParent(z){const{_parentage:q}=this;return q===z||Array.isArray(q)&&q.includes(z)}_addParent(z){const{_parentage:q}=this;this._parentage=Array.isArray(q)?(q.push(z),q):q?[q,z]:z}_removeParent(z){const{_parentage:q}=this;q===z?this._parentage=null:Array.isArray(q)&&(0,ce.P)(q,z)}remove(z){const{_teardowns:q}=this;q&&(0,ce.P)(q,z),z instanceof x&&z._removeParent(this)}}x.EMPTY=(()=>{const Z=new x;return Z.closed=!0,Z})();const H=x.EMPTY;function j(Z){return Z instanceof x||Z&&"closed"in Z&&(0,f.m)(Z.remove)&&(0,f.m)(Z.add)&&(0,f.m)(Z.unsubscribe)}function W(Z){(0,f.m)(Z)?Z():Z.unsubscribe()}},2416:(gt,Ne,b)=>{"use strict";b.d(Ne,{v:()=>f});const f={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},3905:(gt,Ne,b)=>{"use strict";b.d(Ne,{z:()=>$});var f=b(6805),C=b(930);function $(ce,x){const H="object"==typeof x;return new Promise((j,W)=>{const Z=new C.Hp({next:z=>{j(z),Z.unsubscribe()},error:W,complete:()=>{H?j(x.defaultValue):W(new f.K)}});ce.subscribe(Z)})}},9841:(gt,Ne,b)=>{"use strict";b.d(Ne,{a:()=>z});var f=b(8306),C=b(4742),$=b(8996),ce=b(4671),x=b(3268),H=b(3269),j=b(1810),W=b(5403),Z=b(9672);function z(...Te){const Ae=(0,H.yG)(Te),Ye=(0,H.jO)(Te),{args:Ze,keys:ue}=(0,C.D)(Te);if(0===Ze.length)return(0,$.D)([],Ae);const de=new f.y(function(Te,Ae,Ye=ce.y){return Ze=>{te(Ae,()=>{const{length:ue}=Te,de=new Array(ue);let Ie=ue,me=ue;for(let G=0;G<ue;G++)te(Ae,()=>{const w=(0,$.D)(Te[G],Ae);let ae=!1;w.subscribe(new W.Q(Ze,re=>{de[G]=re,ae||(ae=!0,me--),me||Ze.next(Ye(de.slice()))},()=>{--Ie||Ze.complete()}))},Ze)},Ze)}}(Ze,Ae,ue?Ie=>(0,j.n)(ue,Ie):ce.y));return Ye?de.pipe((0,x.Z)(Ye)):de}function te(Te,Ae,Ye){Te?(0,Z.f)(Ye,Te,Ae):Ae()}},7272:(gt,Ne,b)=>{"use strict";b.d(Ne,{z:()=>x});var f=b(8189),$=b(3269),ce=b(8996);function x(...H){return(0,f.J)(1)((0,ce.D)(H,(0,$.yG)(H)))}},9770:(gt,Ne,b)=>{"use strict";b.d(Ne,{P:()=>$});var f=b(8306),C=b(8421);function $(ce){return new f.y(x=>{(0,C.Xf)(ce()).subscribe(x)})}},515:(gt,Ne,b)=>{"use strict";b.d(Ne,{E:()=>C});const C=new(b(8306).y)(x=>x.complete())},8996:(gt,Ne,b)=>{"use strict";b.d(Ne,{D:()=>w});var f=b(8421),C=b(5363),$=b(9468),H=b(8306),W=b(2202),Z=b(576),z=b(9672);function te(ae,re){if(!ae)throw new Error("Iterable cannot be null");return new H.y(we=>{(0,z.f)(we,re,()=>{const Fe=ae[Symbol.asyncIterator]();(0,z.f)(we,re,()=>{Fe.next().then(le=>{le.done?we.complete():we.next(le.value)})},0,!0)})})}var Te=b(3670),Ae=b(8239),Ye=b(1144),Ze=b(6495),ue=b(2206),de=b(4532),Ie=b(3260);function w(ae,re){return re?function(ae,re){if(null!=ae){if((0,Te.c)(ae))return function(ae,re){return(0,f.Xf)(ae).pipe((0,$.R)(re),(0,C.Q)(re))}(ae,re);if((0,Ye.z)(ae))return function(ae,re){return new H.y(we=>{let Fe=0;return re.schedule(function(){Fe===ae.length?we.complete():(we.next(ae[Fe++]),we.closed||this.schedule())})})}(ae,re);if((0,Ae.t)(ae))return function(ae,re){return(0,f.Xf)(ae).pipe((0,$.R)(re),(0,C.Q)(re))}(ae,re);if((0,ue.D)(ae))return te(ae,re);if((0,Ze.T)(ae))return function(ae,re){return new H.y(we=>{let Fe;return(0,z.f)(we,re,()=>{Fe=ae[W.h](),(0,z.f)(we,re,()=>{let le,ge;try{({value:le,done:ge}=Fe.next())}catch(ye){return void we.error(ye)}ge?we.complete():we.next(le)},0,!0)}),()=>(0,Z.m)(null==Fe?void 0:Fe.return)&&Fe.return()})}(ae,re);if((0,Ie.L)(ae))return function(ae,re){return te((0,Ie.Q)(ae),re)}(ae,re)}throw(0,de.z)(ae)}(ae,re):(0,f.Xf)(ae)}},8421:(gt,Ne,b)=>{"use strict";b.d(Ne,{Xf:()=>Te});var f=b(5987),C=b(1144),$=b(8239),ce=b(8306),x=b(3670),H=b(2206),j=b(4532),W=b(6495),Z=b(3260),z=b(576),q=b(7849),te=b(8822);function Te(G){if(G instanceof ce.y)return G;if(null!=G){if((0,x.c)(G))return function(G){return new ce.y(w=>{const ae=G[te.L]();if((0,z.m)(ae.subscribe))return ae.subscribe(w);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(G);if((0,C.z)(G))return function(G){return new ce.y(w=>{for(let ae=0;ae<G.length&&!w.closed;ae++)w.next(G[ae]);w.complete()})}(G);if((0,$.t)(G))return function(G){return new ce.y(w=>{G.then(ae=>{w.closed||(w.next(ae),w.complete())},ae=>w.error(ae)).then(null,q.h)})}(G);if((0,H.D)(G))return de(G);if((0,W.T)(G))return function(G){return new ce.y(w=>{for(const ae of G)if(w.next(ae),w.closed)return;w.complete()})}(G);if((0,Z.L)(G))return function(G){return de((0,Z.Q)(G))}(G)}throw(0,j.z)(G)}function de(G){return new ce.y(w=>{(function(G,w){var ae,re,we,Fe;return(0,f.mG)(this,void 0,void 0,function*(){try{for(ae=(0,f.KL)(G);!(re=yield ae.next()).done;)if(w.next(re.value),w.closed)return}catch(le){we={error:le}}finally{try{re&&!re.done&&(Fe=ae.return)&&(yield Fe.call(ae))}finally{if(we)throw we.error}}w.complete()})})(G,w).catch(ae=>w.error(ae))})}},6451:(gt,Ne,b)=>{"use strict";b.d(Ne,{T:()=>H});var f=b(8189),C=b(8421),$=b(515),ce=b(3269),x=b(8996);function H(...j){const W=(0,ce.yG)(j),Z=(0,ce._6)(j,1/0),z=j;return z.length?1===z.length?(0,C.Xf)(z[0]):(0,f.J)(Z)((0,x.D)(z,W)):$.E}},1848:(gt,Ne,b)=>{"use strict";b.d(Ne,{C:()=>$});var f=b(8306),C=b(5032);const $=new f.y(C.Z)},9646:(gt,Ne,b)=>{"use strict";b.d(Ne,{of:()=>$});var f=b(3269),C=b(8996);function $(...ce){const x=(0,f.yG)(ce);return(0,C.D)(ce,x)}},5403:(gt,Ne,b)=>{"use strict";b.d(Ne,{Q:()=>C});var f=b(930);class C extends f.Lv{constructor(ce,x,H,j,W){super(ce),this.onFinalize=W,this._next=x?function(Z){try{x(Z)}catch(z){ce.error(z)}}:super._next,this._error=j?function(Z){try{j(Z)}catch(z){ce.error(z)}finally{this.unsubscribe()}}:super._error,this._complete=H?function(){try{H()}catch(Z){ce.error(Z)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ce;const{closed:x}=this;super.unsubscribe(),!x&&(null===(ce=this.onFinalize)||void 0===ce||ce.call(this))}}},262:(gt,Ne,b)=>{"use strict";b.d(Ne,{K:()=>ce});var f=b(8421),C=b(5403),$=b(4482);function ce(x){return(0,$.e)((H,j)=>{let z,W=null,Z=!1;W=H.subscribe(new C.Q(j,void 0,void 0,q=>{z=(0,f.Xf)(x(q,ce(x)(H))),W?(W.unsubscribe(),W=null,z.subscribe(j)):Z=!0})),Z&&(W.unsubscribe(),W=null,z.subscribe(j))})}},4351:(gt,Ne,b)=>{"use strict";b.d(Ne,{b:()=>$});var f=b(5577),C=b(576);function $(ce,x){return(0,C.m)(x)?(0,f.z)(ce,x,1):(0,f.z)(ce,1)}},6590:(gt,Ne,b)=>{"use strict";b.d(Ne,{d:()=>$});var f=b(4482),C=b(5403);function $(ce){return(0,f.e)((x,H)=>{let j=!1;x.subscribe(new C.Q(H,W=>{j=!0,H.next(W)},()=>{j||H.next(ce),H.complete()}))})}},1884:(gt,Ne,b)=>{"use strict";b.d(Ne,{x:()=>ce});var f=b(4671),C=b(4482),$=b(5403);function ce(H,j=f.y){return H=null!=H?H:x,(0,C.e)((W,Z)=>{let z,q=!0;W.subscribe(new $.Q(Z,te=>{const Te=j(te);(q||!H(z,Te))&&(q=!1,z=Te,Z.next(te))}))})}function x(H,j){return H===j}},9300:(gt,Ne,b)=>{"use strict";b.d(Ne,{h:()=>$});var f=b(4482),C=b(5403);function $(ce,x){return(0,f.e)((H,j)=>{let W=0;H.subscribe(new C.Q(j,Z=>ce.call(x,Z,W++)&&j.next(Z)))})}},8746:(gt,Ne,b)=>{"use strict";b.d(Ne,{x:()=>C});var f=b(4482);function C($){return(0,f.e)((ce,x)=>{try{ce.subscribe(x)}finally{x.add($)}})}},590:(gt,Ne,b)=>{"use strict";b.d(Ne,{P:()=>j});var f=b(6805),C=b(9300),$=b(5698),ce=b(6590),x=b(8068),H=b(4671);function j(W,Z){const z=arguments.length>=2;return q=>q.pipe(W?(0,C.h)((te,Te)=>W(te,Te,q)):H.y,(0,$.q)(1),z?(0,ce.d)(Z):(0,x.T)(()=>new f.K))}},4004:(gt,Ne,b)=>{"use strict";b.d(Ne,{U:()=>$});var f=b(4482),C=b(5403);function $(ce,x){return(0,f.e)((H,j)=>{let W=0;H.subscribe(new C.Q(j,Z=>{j.next(ce.call(x,Z,W++))}))})}},8189:(gt,Ne,b)=>{"use strict";b.d(Ne,{J:()=>$});var f=b(5577),C=b(4671);function $(ce=1/0){return(0,f.z)(C.y,ce)}},5577:(gt,Ne,b)=>{"use strict";b.d(Ne,{z:()=>W});var f=b(4004),C=b(8421),$=b(4482),x=(b(9672),b(5403)),j=b(576);function W(Z,z,q=1/0){return(0,j.m)(z)?W((te,Te)=>(0,f.U)((Ae,Ye)=>z(te,Ae,Te,Ye))((0,C.Xf)(Z(te,Te))),q):("number"==typeof z&&(q=z),(0,$.e)((te,Te)=>function(Z,z,q,te,Te,Ae,Ye,Ze){const ue=[];let de=0,Ie=0,me=!1;const G=()=>{me&&!ue.length&&!de&&z.complete()},w=re=>de<te?ae(re):ue.push(re),ae=re=>{de++;let we=!1;(0,C.Xf)(q(re,Ie++)).subscribe(new x.Q(z,Fe=>{z.next(Fe)},()=>{we=!0},void 0,()=>{if(we)try{for(de--;ue.length&&de<te;){const Fe=ue.shift();ae(Fe)}G()}catch(Fe){z.error(Fe)}}))};return Z.subscribe(new x.Q(z,w,()=>{me=!0,G()})),()=>{}}(te,Te,Z,q)))}},5363:(gt,Ne,b)=>{"use strict";b.d(Ne,{Q:()=>ce});var f=b(9672),C=b(4482),$=b(5403);function ce(x,H=0){return(0,C.e)((j,W)=>{j.subscribe(new $.Q(W,Z=>(0,f.f)(W,x,()=>W.next(Z),H),()=>(0,f.f)(W,x,()=>W.complete(),H),Z=>(0,f.f)(W,x,()=>W.error(Z),H)))})}},1520:(gt,Ne,b)=>{"use strict";b.d(Ne,{G:()=>$});var f=b(4482),C=b(5403);function $(){return(0,f.e)((ce,x)=>{let H,j=!1;ce.subscribe(new C.Q(x,W=>{const Z=H;H=W,j&&x.next([Z,W]),j=!0}))})}},2940:(gt,Ne,b)=>{"use strict";b.d(Ne,{R:()=>$});var f=b(4482),C=b(7359);function $(ce,x){return(0,f.e)((0,C.U)(ce,x,arguments.length>=2,!0))}},7359:(gt,Ne,b)=>{"use strict";b.d(Ne,{U:()=>C});var f=b(5403);function C($,ce,x,H,j){return(W,Z)=>{let z=x,q=ce,te=0;W.subscribe(new f.Q(Z,Te=>{const Ae=te++;q=z?$(q,Te,Ae):(z=!0,Te),H&&Z.next(q)},j&&(()=>{z&&Z.next(q),Z.complete()})))}}},3099:(gt,Ne,b)=>{"use strict";b.d(Ne,{B:()=>H});var f=b(8996),C=b(5698),$=b(7579),ce=b(930),x=b(4482);function H(W={}){const{connector:Z=(()=>new $.x),resetOnError:z=!0,resetOnComplete:q=!0,resetOnRefCountZero:te=!0}=W;return Te=>{let Ae=null,Ye=null,Ze=null,ue=0,de=!1,Ie=!1;const me=()=>{null==Ye||Ye.unsubscribe(),Ye=null},G=()=>{me(),Ae=Ze=null,de=Ie=!1},w=()=>{const ae=Ae;G(),null==ae||ae.unsubscribe()};return(0,x.e)((ae,re)=>{ue++,!Ie&&!de&&me();const we=Ze=null!=Ze?Ze:Z();re.add(()=>{ue--,0===ue&&!Ie&&!de&&(Ye=j(w,te))}),we.subscribe(re),Ae||(Ae=new ce.Hp({next:Fe=>we.next(Fe),error:Fe=>{Ie=!0,me(),Ye=j(G,z,Fe),we.error(Fe)},complete:()=>{de=!0,me(),Ye=j(G,q),we.complete()}}),(0,f.D)(ae).subscribe(Ae))})(Te)}}function j(W,Z,...z){return!0===Z?(W(),null):!1===Z?null:Z(...z).pipe((0,C.q)(1)).subscribe(()=>W())}},4782:(gt,Ne,b)=>{"use strict";b.d(Ne,{d:()=>$});var f=b(4707),C=b(3099);function $(ce,x,H){var j,W;let Z,z=!1;return ce&&"object"==typeof ce?(Z=null!==(j=ce.bufferSize)&&void 0!==j?j:1/0,x=null!==(W=ce.windowTime)&&void 0!==W?W:1/0,z=!!ce.refCount,H=ce.scheduler):Z=null!=ce?ce:1/0,(0,C.B)({connector:()=>new f.t(Z,x,H),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:z})}},8675:(gt,Ne,b)=>{"use strict";b.d(Ne,{O:()=>ce});var f=b(7272),C=b(3269),$=b(4482);function ce(...x){const H=(0,C.yG)(x);return(0,$.e)((j,W)=>{(H?(0,f.z)(x,j,H):(0,f.z)(x,j)).subscribe(W)})}},9468:(gt,Ne,b)=>{"use strict";b.d(Ne,{R:()=>C});var f=b(4482);function C($,ce=0){return(0,f.e)((x,H)=>{H.add($.schedule(()=>x.subscribe(H),ce))})}},3900:(gt,Ne,b)=>{"use strict";b.d(Ne,{w:()=>ce});var f=b(8421),C=b(4482),$=b(5403);function ce(x,H){return(0,C.e)((j,W)=>{let Z=null,z=0,q=!1;const te=()=>q&&!Z&&W.complete();j.subscribe(new $.Q(W,Te=>{null==Z||Z.unsubscribe();let Ae=0;const Ye=z++;(0,f.Xf)(x(Te,Ye)).subscribe(Z=new $.Q(W,Ze=>W.next(H?H(Te,Ze,Ye,Ae++):Ze),()=>{Z=null,te()}))},()=>{q=!0,te()}))})}},6304:(gt,Ne,b)=>{"use strict";b.d(Ne,{c:()=>$});var f=b(3900),C=b(576);function $(ce,x){return(0,C.m)(x)?(0,f.w)(()=>ce,x):(0,f.w)(()=>ce)}},5698:(gt,Ne,b)=>{"use strict";b.d(Ne,{q:()=>ce});var f=b(515),C=b(4482),$=b(5403);function ce(x){return x<=0?()=>f.E:(0,C.e)((H,j)=>{let W=0;H.subscribe(new $.Q(j,Z=>{++W<=x&&(j.next(Z),x<=W&&j.complete())}))})}},2035:(gt,Ne,b)=>{"use strict";b.d(Ne,{h:()=>ce});var f=b(515),C=b(4482),$=b(5403);function ce(x){return x<=0?()=>f.E:(0,C.e)((H,j)=>{let W=[];H.subscribe(new $.Q(j,Z=>{W.push(Z),x<W.length&&W.shift()},()=>{for(const Z of W)j.next(Z);j.complete()},void 0,()=>{W=null}))})}},8505:(gt,Ne,b)=>{"use strict";b.d(Ne,{b:()=>x});var f=b(576),C=b(4482),$=b(5403),ce=b(4671);function x(H,j,W){const Z=(0,f.m)(H)||j||W?{next:H,error:j,complete:W}:H;return Z?(0,C.e)((z,q)=>{var te;null===(te=Z.subscribe)||void 0===te||te.call(Z);let Te=!0;z.subscribe(new $.Q(q,Ae=>{var Ye;null===(Ye=Z.next)||void 0===Ye||Ye.call(Z,Ae),q.next(Ae)},()=>{var Ae;Te=!1,null===(Ae=Z.complete)||void 0===Ae||Ae.call(Z),q.complete()},Ae=>{var Ye;Te=!1,null===(Ye=Z.error)||void 0===Ye||Ye.call(Z,Ae),q.error(Ae)},()=>{var Ae,Ye;Te&&(null===(Ae=Z.unsubscribe)||void 0===Ae||Ae.call(Z)),null===(Ye=Z.finalize)||void 0===Ye||Ye.call(Z)}))}):ce.y}},8068:(gt,Ne,b)=>{"use strict";b.d(Ne,{T:()=>ce});var f=b(6805),C=b(4482),$=b(5403);function ce(H=x){return(0,C.e)((j,W)=>{let Z=!1;j.subscribe(new $.Q(W,z=>{Z=!0,W.next(z)},()=>Z?W.complete():W.error(H())))})}function x(){return new f.K}},4408:(gt,Ne,b)=>{"use strict";b.d(Ne,{o:()=>x});var f=b(727);class C extends f.w0{constructor(j,W){super()}schedule(j,W=0){return this}}const $={setInterval(...H){const{delegate:j}=$;return((null==j?void 0:j.setInterval)||setInterval)(...H)},clearInterval(H){const{delegate:j}=$;return((null==j?void 0:j.clearInterval)||clearInterval)(H)},delegate:void 0};var ce=b(8737);class x extends C{constructor(j,W){super(j,W),this.scheduler=j,this.work=W,this.pending=!1}schedule(j,W=0){if(this.closed)return this;this.state=j;const Z=this.id,z=this.scheduler;return null!=Z&&(this.id=this.recycleAsyncId(z,Z,W)),this.pending=!0,this.delay=W,this.id=this.id||this.requestAsyncId(z,this.id,W),this}requestAsyncId(j,W,Z=0){return $.setInterval(j.flush.bind(j,this),Z)}recycleAsyncId(j,W,Z=0){if(null!=Z&&this.delay===Z&&!1===this.pending)return W;$.clearInterval(W)}execute(j,W){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Z=this._execute(j,W);if(Z)return Z;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(j,W){let z,Z=!1;try{this.work(j)}catch(q){Z=!0,z=q||new Error("Scheduled action threw falsy error")}if(Z)return this.unsubscribe(),z}unsubscribe(){if(!this.closed){const{id:j,scheduler:W}=this,{actions:Z}=W;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ce.P)(Z,this),null!=j&&(this.id=this.recycleAsyncId(W,j,null)),this.delay=null,super.unsubscribe()}}}},7565:(gt,Ne,b)=>{"use strict";b.d(Ne,{v:()=>$});var f=b(6063);class C{constructor(x,H=C.now){this.schedulerActionCtor=x,this.now=H}schedule(x,H=0,j){return new this.schedulerActionCtor(this,x).schedule(j,H)}}C.now=f.l.now;class $ extends C{constructor(x,H=C.now){super(x,H),this.actions=[],this._active=!1,this._scheduled=void 0}flush(x){const{actions:H}=this;if(this._active)return void H.push(x);let j;this._active=!0;do{if(j=x.execute(x.state,x.delay))break}while(x=H.shift());if(this._active=!1,j){for(;x=H.shift();)x.unsubscribe();throw j}}}},4986:(gt,Ne,b)=>{"use strict";b.d(Ne,{z:()=>$,P:()=>ce});var f=b(4408);const $=new(b(7565).v)(f.o),ce=$},6063:(gt,Ne,b)=>{"use strict";b.d(Ne,{l:()=>f});const f={now:()=>(f.delegate||Date).now(),delegate:void 0}},3410:(gt,Ne,b)=>{"use strict";b.d(Ne,{z:()=>f});const f={setTimeout(...C){const{delegate:$}=f;return((null==$?void 0:$.setTimeout)||setTimeout)(...C)},clearTimeout(C){const{delegate:$}=f;return((null==$?void 0:$.clearTimeout)||clearTimeout)(C)},delegate:void 0}},2202:(gt,Ne,b)=>{"use strict";b.d(Ne,{h:()=>C});const C="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},8822:(gt,Ne,b)=>{"use strict";b.d(Ne,{L:()=>f});const f="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(gt,Ne,b)=>{"use strict";b.d(Ne,{K:()=>C});const C=(0,b(3888).d)($=>function(){$(this),this.name="EmptyError",this.message="no elements in sequence"})},3269:(gt,Ne,b)=>{"use strict";b.d(Ne,{jO:()=>ce,yG:()=>x,_6:()=>H});var f=b(576),C=b(3532);function $(j){return j[j.length-1]}function ce(j){return(0,f.m)($(j))?j.pop():void 0}function x(j){return(0,C.K)($(j))?j.pop():void 0}function H(j,W){return"number"==typeof $(j)?j.pop():W}},4742:(gt,Ne,b)=>{"use strict";b.d(Ne,{D:()=>x});const{isArray:f}=Array,{getPrototypeOf:C,prototype:$,keys:ce}=Object;function x(j){if(1===j.length){const W=j[0];if(f(W))return{args:W,keys:null};if(function(j){return j&&"object"==typeof j&&C(j)===$}(W)){const Z=ce(W);return{args:Z.map(z=>W[z]),keys:Z}}}return{args:j,keys:null}}},8737:(gt,Ne,b)=>{"use strict";function f(C,$){if(C){const ce=C.indexOf($);0<=ce&&C.splice(ce,1)}}b.d(Ne,{P:()=>f})},3888:(gt,Ne,b)=>{"use strict";function f(C){const ce=C(x=>{Error.call(x),x.stack=(new Error).stack});return ce.prototype=Object.create(Error.prototype),ce.prototype.constructor=ce,ce}b.d(Ne,{d:()=>f})},1810:(gt,Ne,b)=>{"use strict";function f(C,$){return C.reduce((ce,x,H)=>(ce[x]=$[H],ce),{})}b.d(Ne,{n:()=>f})},2806:(gt,Ne,b)=>{"use strict";b.d(Ne,{x:()=>$,O:()=>ce});var f=b(2416);let C=null;function $(x){if(f.v.useDeprecatedSynchronousErrorHandling){const H=!C;if(H&&(C={errorThrown:!1,error:null}),x(),H){const{errorThrown:j,error:W}=C;if(C=null,j)throw W}}else x()}function ce(x){f.v.useDeprecatedSynchronousErrorHandling&&C&&(C.errorThrown=!0,C.error=x)}},9672:(gt,Ne,b)=>{"use strict";function f(C,$,ce,x=0,H=!1){const j=$.schedule(function(){ce(),H?C.add(this.schedule(null,x)):this.unsubscribe()},x);if(C.add(j),!H)return j}b.d(Ne,{f:()=>f})},4671:(gt,Ne,b)=>{"use strict";function f(C){return C}b.d(Ne,{y:()=>f})},1144:(gt,Ne,b)=>{"use strict";b.d(Ne,{z:()=>f});const f=C=>C&&"number"==typeof C.length&&"function"!=typeof C},2206:(gt,Ne,b)=>{"use strict";b.d(Ne,{D:()=>C});var f=b(576);function C($){return Symbol.asyncIterator&&(0,f.m)(null==$?void 0:$[Symbol.asyncIterator])}},576:(gt,Ne,b)=>{"use strict";function f(C){return"function"==typeof C}b.d(Ne,{m:()=>f})},3670:(gt,Ne,b)=>{"use strict";b.d(Ne,{c:()=>$});var f=b(8822),C=b(576);function $(ce){return(0,C.m)(ce[f.L])}},6495:(gt,Ne,b)=>{"use strict";b.d(Ne,{T:()=>$});var f=b(2202),C=b(576);function $(ce){return(0,C.m)(null==ce?void 0:ce[f.h])}},8239:(gt,Ne,b)=>{"use strict";b.d(Ne,{t:()=>C});var f=b(576);function C($){return(0,f.m)(null==$?void 0:$.then)}},3260:(gt,Ne,b)=>{"use strict";b.d(Ne,{Q:()=>$,L:()=>ce});var f=b(5987),C=b(576);function $(x){return(0,f.FC)(this,arguments,function*(){const j=x.getReader();try{for(;;){const{value:W,done:Z}=yield(0,f.qq)(j.read());if(Z)return yield(0,f.qq)(void 0);yield yield(0,f.qq)(W)}}finally{j.releaseLock()}})}function ce(x){return(0,C.m)(null==x?void 0:x.getReader)}},3532:(gt,Ne,b)=>{"use strict";b.d(Ne,{K:()=>C});var f=b(576);function C($){return $&&(0,f.m)($.schedule)}},4482:(gt,Ne,b)=>{"use strict";b.d(Ne,{A:()=>C,e:()=>$});var f=b(576);function C(ce){return(0,f.m)(null==ce?void 0:ce.lift)}function $(ce){return x=>{if(C(x))return x.lift(function(H){try{return ce(H,this)}catch(j){this.error(j)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(gt,Ne,b)=>{"use strict";b.d(Ne,{Z:()=>ce});var f=b(4004);const{isArray:C}=Array;function ce(x){return(0,f.U)(H=>function(x,H){return C(H)?x(...H):x(H)}(x,H))}},5032:(gt,Ne,b)=>{"use strict";function f(){}b.d(Ne,{Z:()=>f})},7849:(gt,Ne,b)=>{"use strict";b.d(Ne,{h:()=>$});var f=b(2416),C=b(3410);function $(ce){C.z.setTimeout(()=>{const{onUnhandledError:x}=f.v;if(!x)throw ce;x(ce)})}},4532:(gt,Ne,b)=>{"use strict";function f(C){return new TypeError(`You provided ${null!==C&&"object"==typeof C?"an invalid object":`'${C}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}b.d(Ne,{z:()=>f})},5987:(gt,Ne,b)=>{"use strict";function W(le,ge,ye,_e){return new(ye||(ye=Promise))(function(De,Et){function It(kt){try{it(_e.next(kt))}catch(xt){Et(xt)}}function Ht(kt){try{it(_e.throw(kt))}catch(xt){Et(xt)}}function it(kt){kt.done?De(kt.value):function(De){return De instanceof ye?De:new ye(function(Et){Et(De)})}(kt.value).then(It,Ht)}it((_e=_e.apply(le,ge||[])).next())})}function ue(le){return this instanceof ue?(this.v=le,this):new ue(le)}function de(le,ge,ye){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var He,_e=ye.apply(le,ge||[]),De=[];return He={},Et("next"),Et("throw"),Et("return"),He[Symbol.asyncIterator]=function(){return this},He;function Et(tn){_e[tn]&&(He[tn]=function(Hn){return new Promise(function(Cn,Bn){De.push([tn,Hn,Cn,Bn])>1||It(tn,Hn)})})}function It(tn,Hn){try{!function(tn){tn.value instanceof ue?Promise.resolve(tn.value.v).then(it,kt):xt(De[0][2],tn)}(_e[tn](Hn))}catch(Cn){xt(De[0][3],Cn)}}function it(tn){It("next",tn)}function kt(tn){It("throw",tn)}function xt(tn,Hn){tn(Hn),De.shift(),De.length&&It(De[0][0],De[0][1])}}function me(le){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ye,ge=le[Symbol.asyncIterator];return ge?ge.call(le):(le=function(le){var ge="function"==typeof Symbol&&Symbol.iterator,ye=ge&&le[ge],_e=0;if(ye)return ye.call(le);if(le&&"number"==typeof le.length)return{next:function(){return le&&_e>=le.length&&(le=void 0),{value:le&&le[_e++],done:!le}}};throw new TypeError(ge?"Object is not iterable.":"Symbol.iterator is not defined.")}(le),ye={},_e("next"),_e("throw"),_e("return"),ye[Symbol.asyncIterator]=function(){return this},ye);function _e(De){ye[De]=le[De]&&function(Et){return new Promise(function(It,Ht){!function(De,Et,It,Ht){Promise.resolve(Ht).then(function(it){De({value:it,done:It})},Et)}(It,Ht,(Et=le[De](Et)).done,Et.value)})}}}b.d(Ne,{mG:()=>W,qq:()=>ue,FC:()=>de,KL:()=>me})},655:(gt,Ne,b)=>{"use strict";b.d(Ne,{pi:()=>$,_T:()=>ce,mG:()=>W});var $=function(){return $=Object.assign||function(ge){for(var ye,_e=1,He=arguments.length;_e<He;_e++)for(var De in ye=arguments[_e])Object.prototype.hasOwnProperty.call(ye,De)&&(ge[De]=ye[De]);return ge},$.apply(this,arguments)};function ce(le,ge){var ye={};for(var _e in le)Object.prototype.hasOwnProperty.call(le,_e)&&ge.indexOf(_e)<0&&(ye[_e]=le[_e]);if(null!=le&&"function"==typeof Object.getOwnPropertySymbols){var He=0;for(_e=Object.getOwnPropertySymbols(le);He<_e.length;He++)ge.indexOf(_e[He])<0&&Object.prototype.propertyIsEnumerable.call(le,_e[He])&&(ye[_e[He]]=le[_e[He]])}return ye}function W(le,ge,ye,_e){return new(ye||(ye=Promise))(function(De,Et){function It(kt){try{it(_e.next(kt))}catch(xt){Et(xt)}}function Ht(kt){try{it(_e.throw(kt))}catch(xt){Et(xt)}}function it(kt){kt.done?De(kt.value):function(De){return De instanceof ye?De:new ye(function(Et){Et(De)})}(kt.value).then(It,Ht)}it((_e=_e.apply(le,ge||[])).next())})}},1777:(gt,Ne,b)=>{"use strict";b.d(Ne,{l3:()=>$,_j:()=>f,LC:()=>C,ZN:()=>de,jt:()=>x,pV:()=>Te,oQ:()=>te,IO:()=>Ye,vP:()=>j,SB:()=>Z,oB:()=>W,eR:()=>q,X$:()=>ce,_7:()=>Ae,ZE:()=>Ie,k1:()=>me});class f{}class C{}const $="*";function ce(G,w){return{type:7,name:G,definitions:w,options:{}}}function x(G,w=null){return{type:4,styles:w,timings:G}}function j(G,w=null){return{type:2,steps:G,options:w}}function W(G){return{type:6,styles:G,offset:null}}function Z(G,w,ae){return{type:0,name:G,styles:w,options:ae}}function q(G,w,ae=null){return{type:1,expr:G,animation:w,options:ae}}function te(G,w=null){return{type:8,animation:G,options:w}}function Te(G=null){return{type:9,options:G}}function Ae(G,w=null){return{type:10,animation:G,options:w}}function Ye(G,w,ae=null){return{type:11,selector:G,animation:w,options:ae}}function ue(G){Promise.resolve(null).then(G)}class de{constructor(w=0,ae=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=w+ae}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(w=>w()),this._onDoneFns=[])}onStart(w){this._onStartFns.push(w)}onDone(w){this._onDoneFns.push(w)}onDestroy(w){this._onDestroyFns.push(w)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){ue(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(w=>w()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(w=>w()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(w){this._position=this.totalTime?w*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(w){const ae="start"==w?this._onStartFns:this._onDoneFns;ae.forEach(re=>re()),ae.length=0}}class Ie{constructor(w){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=w;let ae=0,re=0,we=0;const Fe=this.players.length;0==Fe?ue(()=>this._onFinish()):this.players.forEach(le=>{le.onDone(()=>{++ae==Fe&&this._onFinish()}),le.onDestroy(()=>{++re==Fe&&this._onDestroy()}),le.onStart(()=>{++we==Fe&&this._onStart()})}),this.totalTime=this.players.reduce((le,ge)=>Math.max(le,ge.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(w=>w()),this._onDoneFns=[])}init(){this.players.forEach(w=>w.init())}onStart(w){this._onStartFns.push(w)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(w=>w()),this._onStartFns=[])}onDone(w){this._onDoneFns.push(w)}onDestroy(w){this._onDestroyFns.push(w)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(w=>w.play())}pause(){this.players.forEach(w=>w.pause())}restart(){this.players.forEach(w=>w.restart())}finish(){this._onFinish(),this.players.forEach(w=>w.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(w=>w.destroy()),this._onDestroyFns.forEach(w=>w()),this._onDestroyFns=[])}reset(){this.players.forEach(w=>w.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(w){const ae=w*this.totalTime;this.players.forEach(re=>{const we=re.totalTime?Math.min(1,ae/re.totalTime):1;re.setPosition(we)})}getPosition(){const w=this.players.reduce((ae,re)=>null===ae||re.totalTime>ae.totalTime?re:ae,null);return null!=w?w.getPosition():0}beforeDestroy(){this.players.forEach(w=>{w.beforeDestroy&&w.beforeDestroy()})}triggerCallback(w){const ae="start"==w?this._onStartFns:this._onDoneFns;ae.forEach(re=>re()),ae.length=0}}const me="!"},9808:(gt,Ne,b)=>{"use strict";b.d(Ne,{mr:()=>Ie,Ov:()=>$i,ez:()=>ki,H9:()=>Ri,K0:()=>j,uU:()=>Bs,Do:()=>G,Gx:()=>fi,V_:()=>z,Ye:()=>w,S$:()=>ue,mk:()=>ss,sg:()=>Zr,O5:()=>Ke,PC:()=>$r,tP:()=>Ii,b0:()=>me,lw:()=>W,OU:()=>qi,EM:()=>Os,JF:()=>Mi,p6:()=>_n,NF:()=>eo,PM:()=>dr,qS:()=>xi,w_:()=>H,bD:()=>Xs,q:()=>$,Mx:()=>hn,HT:()=>x});var f=b(5e3);let C=null;function $(){return C}function x(R){C||(C=R)}class H{}const j=new f.OlP("DocumentToken");let W=(()=>{class R{historyGo(N){throw new Error("Not implemented")}}return R.\u0275fac=function(N){return new(N||R)},R.\u0275prov=f.Yz7({token:R,factory:function(){return(0,f.LFG)(q)},providedIn:"platform"}),R})();const z=new f.OlP("Location Initialized");let q=(()=>{class R extends W{constructor(N){super(),this._doc=N,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return $().getBaseHref(this._doc)}onPopState(N){const ee=$().getGlobalEventTarget(this._doc,"window");return ee.addEventListener("popstate",N,!1),()=>ee.removeEventListener("popstate",N)}onHashChange(N){const ee=$().getGlobalEventTarget(this._doc,"window");return ee.addEventListener("hashchange",N,!1),()=>ee.removeEventListener("hashchange",N)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(N){this.location.pathname=N}pushState(N,ee,ke){te()?this._history.pushState(N,ee,ke):this.location.hash=ke}replaceState(N,ee,ke){te()?this._history.replaceState(N,ee,ke):this.location.hash=ke}forward(){this._history.forward()}back(){this._history.back()}historyGo(N=0){this._history.go(N)}getState(){return this._history.state}}return R.\u0275fac=function(N){return new(N||R)(f.LFG(j))},R.\u0275prov=f.Yz7({token:R,factory:function(){return new q((0,f.LFG)(j))},providedIn:"platform"}),R})();function te(){return!!window.history.pushState}function Ae(R,J){if(0==R.length)return J;if(0==J.length)return R;let N=0;return R.endsWith("/")&&N++,J.startsWith("/")&&N++,2==N?R+J.substring(1):1==N?R+J:R+"/"+J}function Ye(R){const J=R.match(/#|\?|$/),N=J&&J.index||R.length;return R.slice(0,N-("/"===R[N-1]?1:0))+R.slice(N)}function Ze(R){return R&&"?"!==R[0]?"?"+R:R}let ue=(()=>{class R{historyGo(N){throw new Error("Not implemented")}}return R.\u0275fac=function(N){return new(N||R)},R.\u0275prov=f.Yz7({token:R,factory:function(){return function(R){const J=(0,f.LFG)(j).location;return new me((0,f.LFG)(W),J&&J.origin||"")}()},providedIn:"root"}),R})();const Ie=new f.OlP("appBaseHref");let me=(()=>{class R extends ue{constructor(N,ee){if(super(),this._platformLocation=N,this._removeListenerFns=[],null==ee&&(ee=this._platformLocation.getBaseHrefFromDOM()),null==ee)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=ee}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(N){this._removeListenerFns.push(this._platformLocation.onPopState(N),this._platformLocation.onHashChange(N))}getBaseHref(){return this._baseHref}prepareExternalUrl(N){return Ae(this._baseHref,N)}path(N=!1){const ee=this._platformLocation.pathname+Ze(this._platformLocation.search),ke=this._platformLocation.hash;return ke&&N?`${ee}${ke}`:ee}pushState(N,ee,ke,ut){const Tt=this.prepareExternalUrl(ke+Ze(ut));this._platformLocation.pushState(N,ee,Tt)}replaceState(N,ee,ke,ut){const Tt=this.prepareExternalUrl(ke+Ze(ut));this._platformLocation.replaceState(N,ee,Tt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(N=0){var ee,ke;null===(ke=(ee=this._platformLocation).historyGo)||void 0===ke||ke.call(ee,N)}}return R.\u0275fac=function(N){return new(N||R)(f.LFG(W),f.LFG(Ie,8))},R.\u0275prov=f.Yz7({token:R,factory:R.\u0275fac}),R})(),G=(()=>{class R extends ue{constructor(N,ee){super(),this._platformLocation=N,this._baseHref="",this._removeListenerFns=[],null!=ee&&(this._baseHref=ee)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(N){this._removeListenerFns.push(this._platformLocation.onPopState(N),this._platformLocation.onHashChange(N))}getBaseHref(){return this._baseHref}path(N=!1){let ee=this._platformLocation.hash;return null==ee&&(ee="#"),ee.length>0?ee.substring(1):ee}prepareExternalUrl(N){const ee=Ae(this._baseHref,N);return ee.length>0?"#"+ee:ee}pushState(N,ee,ke,ut){let Tt=this.prepareExternalUrl(ke+Ze(ut));0==Tt.length&&(Tt=this._platformLocation.pathname),this._platformLocation.pushState(N,ee,Tt)}replaceState(N,ee,ke,ut){let Tt=this.prepareExternalUrl(ke+Ze(ut));0==Tt.length&&(Tt=this._platformLocation.pathname),this._platformLocation.replaceState(N,ee,Tt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(N=0){var ee,ke;null===(ke=(ee=this._platformLocation).historyGo)||void 0===ke||ke.call(ee,N)}}return R.\u0275fac=function(N){return new(N||R)(f.LFG(W),f.LFG(Ie,8))},R.\u0275prov=f.Yz7({token:R,factory:R.\u0275fac}),R})(),w=(()=>{class R{constructor(N,ee){this._subject=new f.vpe,this._urlChangeListeners=[],this._platformStrategy=N;const ke=this._platformStrategy.getBaseHref();this._platformLocation=ee,this._baseHref=Ye(we(ke)),this._platformStrategy.onPopState(ut=>{this._subject.emit({url:this.path(!0),pop:!0,state:ut.state,type:ut.type})})}path(N=!1){return this.normalize(this._platformStrategy.path(N))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(N,ee=""){return this.path()==this.normalize(N+Ze(ee))}normalize(N){return R.stripTrailingSlash(function(R,J){return R&&J.startsWith(R)?J.substring(R.length):J}(this._baseHref,we(N)))}prepareExternalUrl(N){return N&&"/"!==N[0]&&(N="/"+N),this._platformStrategy.prepareExternalUrl(N)}go(N,ee="",ke=null){this._platformStrategy.pushState(ke,"",N,ee),this._notifyUrlChangeListeners(this.prepareExternalUrl(N+Ze(ee)),ke)}replaceState(N,ee="",ke=null){this._platformStrategy.replaceState(ke,"",N,ee),this._notifyUrlChangeListeners(this.prepareExternalUrl(N+Ze(ee)),ke)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(N=0){var ee,ke;null===(ke=(ee=this._platformStrategy).historyGo)||void 0===ke||ke.call(ee,N)}onUrlChange(N){this._urlChangeListeners.push(N),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(ee=>{this._notifyUrlChangeListeners(ee.url,ee.state)}))}_notifyUrlChangeListeners(N="",ee){this._urlChangeListeners.forEach(ke=>ke(N,ee))}subscribe(N,ee,ke){return this._subject.subscribe({next:N,error:ee,complete:ke})}}return R.normalizeQueryParams=Ze,R.joinWithSlash=Ae,R.stripTrailingSlash=Ye,R.\u0275fac=function(N){return new(N||R)(f.LFG(ue),f.LFG(W))},R.\u0275prov=f.Yz7({token:R,factory:function(){return new w((0,f.LFG)(ue),(0,f.LFG)(W))},providedIn:"root"}),R})();function we(R){return R.replace(/\/index.html$/,"")}const Fe={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,"\u0440.",2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RUR:[void 0,"\u0440."],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var le=(()=>((le=le||{})[le.Decimal=0]="Decimal",le[le.Percent=1]="Percent",le[le.Currency=2]="Currency",le[le.Scientific=3]="Scientific",le))(),ge=(()=>((ge=ge||{})[ge.Zero=0]="Zero",ge[ge.One=1]="One",ge[ge.Two=2]="Two",ge[ge.Few=3]="Few",ge[ge.Many=4]="Many",ge[ge.Other=5]="Other",ge))(),ye=(()=>((ye=ye||{})[ye.Format=0]="Format",ye[ye.Standalone=1]="Standalone",ye))(),_e=(()=>((_e=_e||{})[_e.Narrow=0]="Narrow",_e[_e.Abbreviated=1]="Abbreviated",_e[_e.Wide=2]="Wide",_e[_e.Short=3]="Short",_e))(),He=(()=>((He=He||{})[He.Short=0]="Short",He[He.Medium=1]="Medium",He[He.Long=2]="Long",He[He.Full=3]="Full",He))(),De=(()=>((De=De||{})[De.Decimal=0]="Decimal",De[De.Group=1]="Group",De[De.List=2]="List",De[De.PercentSign=3]="PercentSign",De[De.PlusSign=4]="PlusSign",De[De.MinusSign=5]="MinusSign",De[De.Exponential=6]="Exponential",De[De.SuperscriptingExponent=7]="SuperscriptingExponent",De[De.PerMille=8]="PerMille",De[De.Infinity=9]="Infinity",De[De.NaN=10]="NaN",De[De.TimeSeparator=11]="TimeSeparator",De[De.CurrencyDecimal=12]="CurrencyDecimal",De[De.CurrencyGroup=13]="CurrencyGroup",De))();function Cn(R,J){return kn((0,f.cg1)(R)[f.wAp.DateFormat],J)}function Bn(R,J){return kn((0,f.cg1)(R)[f.wAp.TimeFormat],J)}function An(R,J){return kn((0,f.cg1)(R)[f.wAp.DateTimeFormat],J)}function qt(R,J){const N=(0,f.cg1)(R),ee=N[f.wAp.NumberSymbols][J];if(void 0===ee){if(J===De.CurrencyDecimal)return N[f.wAp.NumberSymbols][De.Decimal];if(J===De.CurrencyGroup)return N[f.wAp.NumberSymbols][De.Group]}return ee}const Pn=f.kL8;function bn(R){if(!R[f.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${R[f.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function kn(R,J){for(let N=J;N>-1;N--)if(void 0!==R[N])return R[N];throw new Error("Locale data API: locale data undefined")}function rr(R){const[J,N]=R.split(":");return{hours:+J,minutes:+N}}const un=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Zt={},jn=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var yn=(()=>((yn=yn||{})[yn.Short=0]="Short",yn[yn.ShortGMT=1]="ShortGMT",yn[yn.Long=2]="Long",yn[yn.Extended=3]="Extended",yn))(),Lt=(()=>((Lt=Lt||{})[Lt.FullYear=0]="FullYear",Lt[Lt.Month=1]="Month",Lt[Lt.Date=2]="Date",Lt[Lt.Hours=3]="Hours",Lt[Lt.Minutes=4]="Minutes",Lt[Lt.Seconds=5]="Seconds",Lt[Lt.FractionalSeconds=6]="FractionalSeconds",Lt[Lt.Day=7]="Day",Lt))(),jt=(()=>((jt=jt||{})[jt.DayPeriods=0]="DayPeriods",jt[jt.Days=1]="Days",jt[jt.Months=2]="Months",jt[jt.Eras=3]="Eras",jt))();function _n(R,J,N,ee){let ke=function(R){if(Ve(R))return R;if("number"==typeof R&&!isNaN(R))return new Date(R);if("string"==typeof R){if(R=R.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(R)){const[ke,ut=1,Tt=1]=R.split("-").map(Yt=>+Yt);return sr(ke,ut-1,Tt)}const N=parseFloat(R);if(!isNaN(R-N))return new Date(N);let ee;if(ee=R.match(un))return function(R){const J=new Date(0);let N=0,ee=0;const ke=R[8]?J.setUTCFullYear:J.setFullYear,ut=R[8]?J.setUTCHours:J.setHours;R[9]&&(N=Number(R[9]+R[10]),ee=Number(R[9]+R[11])),ke.call(J,Number(R[1]),Number(R[2])-1,Number(R[3]));const Tt=Number(R[4]||0)-N,Yt=Number(R[5]||0)-ee,Zn=Number(R[6]||0),wr=Math.floor(1e3*parseFloat("0."+(R[7]||0)));return ut.call(J,Tt,Yt,Zn,wr),J}(ee)}const J=new Date(R);if(!Ve(J))throw new Error(`Unable to convert "${R}" into a date`);return J}(R);J=Tr(N,J)||J;let Yt,Tt=[];for(;J;){if(Yt=jn.exec(J),!Yt){Tt.push(J);break}{Tt=Tt.concat(Yt.slice(1));const oe=Tt.pop();if(!oe)break;J=oe}}let Zn=ke.getTimezoneOffset();ee&&(Zn=rn(ee,Zn),ke=function(R,J,N){const ke=R.getTimezoneOffset();return function(R,J){return(R=new Date(R.getTime())).setMinutes(R.getMinutes()+J),R}(R,-1*(rn(J,ke)-ke))}(ke,ee));let wr="";return Tt.forEach(oe=>{const ie=function(R){if(mt[R])return mt[R];let J;switch(R){case"G":case"GG":case"GGG":J=he(jt.Eras,_e.Abbreviated);break;case"GGGG":J=he(jt.Eras,_e.Wide);break;case"GGGGG":J=he(jt.Eras,_e.Narrow);break;case"y":J=xe(Lt.FullYear,1,0,!1,!0);break;case"yy":J=xe(Lt.FullYear,2,0,!0,!0);break;case"yyy":J=xe(Lt.FullYear,3,0,!1,!0);break;case"yyyy":J=xe(Lt.FullYear,4,0,!1,!0);break;case"Y":J=Dt(1);break;case"YY":J=Dt(2,!0);break;case"YYY":J=Dt(3);break;case"YYYY":J=Dt(4);break;case"M":case"L":J=xe(Lt.Month,1,1);break;case"MM":case"LL":J=xe(Lt.Month,2,1);break;case"MMM":J=he(jt.Months,_e.Abbreviated);break;case"MMMM":J=he(jt.Months,_e.Wide);break;case"MMMMM":J=he(jt.Months,_e.Narrow);break;case"LLL":J=he(jt.Months,_e.Abbreviated,ye.Standalone);break;case"LLLL":J=he(jt.Months,_e.Wide,ye.Standalone);break;case"LLLLL":J=he(jt.Months,_e.Narrow,ye.Standalone);break;case"w":J=vt(1);break;case"ww":J=vt(2);break;case"W":J=vt(1,!0);break;case"d":J=xe(Lt.Date,1);break;case"dd":J=xe(Lt.Date,2);break;case"c":case"cc":J=xe(Lt.Day,1);break;case"ccc":J=he(jt.Days,_e.Abbreviated,ye.Standalone);break;case"cccc":J=he(jt.Days,_e.Wide,ye.Standalone);break;case"ccccc":J=he(jt.Days,_e.Narrow,ye.Standalone);break;case"cccccc":J=he(jt.Days,_e.Short,ye.Standalone);break;case"E":case"EE":case"EEE":J=he(jt.Days,_e.Abbreviated);break;case"EEEE":J=he(jt.Days,_e.Wide);break;case"EEEEE":J=he(jt.Days,_e.Narrow);break;case"EEEEEE":J=he(jt.Days,_e.Short);break;case"a":case"aa":case"aaa":J=he(jt.DayPeriods,_e.Abbreviated);break;case"aaaa":J=he(jt.DayPeriods,_e.Wide);break;case"aaaaa":J=he(jt.DayPeriods,_e.Narrow);break;case"b":case"bb":case"bbb":J=he(jt.DayPeriods,_e.Abbreviated,ye.Standalone,!0);break;case"bbbb":J=he(jt.DayPeriods,_e.Wide,ye.Standalone,!0);break;case"bbbbb":J=he(jt.DayPeriods,_e.Narrow,ye.Standalone,!0);break;case"B":case"BB":case"BBB":J=he(jt.DayPeriods,_e.Abbreviated,ye.Format,!0);break;case"BBBB":J=he(jt.DayPeriods,_e.Wide,ye.Format,!0);break;case"BBBBB":J=he(jt.DayPeriods,_e.Narrow,ye.Format,!0);break;case"h":J=xe(Lt.Hours,1,-12);break;case"hh":J=xe(Lt.Hours,2,-12);break;case"H":J=xe(Lt.Hours,1);break;case"HH":J=xe(Lt.Hours,2);break;case"m":J=xe(Lt.Minutes,1);break;case"mm":J=xe(Lt.Minutes,2);break;case"s":J=xe(Lt.Seconds,1);break;case"ss":J=xe(Lt.Seconds,2);break;case"S":J=xe(Lt.FractionalSeconds,1);break;case"SS":J=xe(Lt.FractionalSeconds,2);break;case"SSS":J=xe(Lt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":J=K(yn.Short);break;case"ZZZZZ":J=K(yn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":J=K(yn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":J=K(yn.Long);break;default:return null}return mt[R]=J,J}(oe);wr+=ie?ie(ke,N,Zn):"''"===oe?"'":oe.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),wr}function sr(R,J,N){const ee=new Date(0);return ee.setFullYear(R,J,N),ee.setHours(0,0,0),ee}function Tr(R,J){const N=function(R){return(0,f.cg1)(R)[f.wAp.LocaleId]}(R);if(Zt[N]=Zt[N]||{},Zt[N][J])return Zt[N][J];let ee="";switch(J){case"shortDate":ee=Cn(R,He.Short);break;case"mediumDate":ee=Cn(R,He.Medium);break;case"longDate":ee=Cn(R,He.Long);break;case"fullDate":ee=Cn(R,He.Full);break;case"shortTime":ee=Bn(R,He.Short);break;case"mediumTime":ee=Bn(R,He.Medium);break;case"longTime":ee=Bn(R,He.Long);break;case"fullTime":ee=Bn(R,He.Full);break;case"short":const ke=Tr(R,"shortTime"),ut=Tr(R,"shortDate");ee=Fn(An(R,He.Short),[ke,ut]);break;case"medium":const Tt=Tr(R,"mediumTime"),Yt=Tr(R,"mediumDate");ee=Fn(An(R,He.Medium),[Tt,Yt]);break;case"long":const Zn=Tr(R,"longTime"),wr=Tr(R,"longDate");ee=Fn(An(R,He.Long),[Zn,wr]);break;case"full":const oe=Tr(R,"fullTime"),ie=Tr(R,"fullDate");ee=Fn(An(R,He.Full),[oe,ie])}return ee&&(Zt[N][J]=ee),ee}function Fn(R,J){return J&&(R=R.replace(/\{([^}]+)}/g,function(N,ee){return null!=J&&ee in J?J[ee]:N})),R}function ur(R,J,N="-",ee,ke){let ut="";(R<0||ke&&R<=0)&&(ke?R=1-R:(R=-R,ut=N));let Tt=String(R);for(;Tt.length<J;)Tt="0"+Tt;return ee&&(Tt=Tt.substr(Tt.length-J)),ut+Tt}function xe(R,J,N=0,ee=!1,ke=!1){return function(ut,Tt){let Yt=function(R,J){switch(R){case Lt.FullYear:return J.getFullYear();case Lt.Month:return J.getMonth();case Lt.Date:return J.getDate();case Lt.Hours:return J.getHours();case Lt.Minutes:return J.getMinutes();case Lt.Seconds:return J.getSeconds();case Lt.FractionalSeconds:return J.getMilliseconds();case Lt.Day:return J.getDay();default:throw new Error(`Unknown DateType value "${R}".`)}}(R,ut);if((N>0||Yt>-N)&&(Yt+=N),R===Lt.Hours)0===Yt&&-12===N&&(Yt=12);else if(R===Lt.FractionalSeconds)return function(R,J){return ur(R,3).substr(0,J)}(Yt,J);const Zn=qt(Tt,De.MinusSign);return ur(Yt,J,Zn,ee,ke)}}function he(R,J,N=ye.Format,ee=!1){return function(ke,ut){return function(R,J,N,ee,ke,ut){switch(N){case jt.Months:return function(R,J,N){const ee=(0,f.cg1)(R),ut=kn([ee[f.wAp.MonthsFormat],ee[f.wAp.MonthsStandalone]],J);return kn(ut,N)}(J,ke,ee)[R.getMonth()];case jt.Days:return function(R,J,N){const ee=(0,f.cg1)(R),ut=kn([ee[f.wAp.DaysFormat],ee[f.wAp.DaysStandalone]],J);return kn(ut,N)}(J,ke,ee)[R.getDay()];case jt.DayPeriods:const Tt=R.getHours(),Yt=R.getMinutes();if(ut){const wr=function(R){const J=(0,f.cg1)(R);return bn(J),(J[f.wAp.ExtraData][2]||[]).map(ee=>"string"==typeof ee?rr(ee):[rr(ee[0]),rr(ee[1])])}(J),oe=function(R,J,N){const ee=(0,f.cg1)(R);bn(ee);const ut=kn([ee[f.wAp.ExtraData][0],ee[f.wAp.ExtraData][1]],J)||[];return kn(ut,N)||[]}(J,ke,ee),ie=wr.findIndex(Le=>{if(Array.isArray(Le)){const[et,yt]=Le,pt=Tt>=et.hours&&Yt>=et.minutes,In=Tt<yt.hours||Tt===yt.hours&&Yt<yt.minutes;if(et.hours<yt.hours){if(pt&&In)return!0}else if(pt||In)return!0}else if(Le.hours===Tt&&Le.minutes===Yt)return!0;return!1});if(-1!==ie)return oe[ie]}return function(R,J,N){const ee=(0,f.cg1)(R),ut=kn([ee[f.wAp.DayPeriodsFormat],ee[f.wAp.DayPeriodsStandalone]],J);return kn(ut,N)}(J,ke,ee)[Tt<12?0:1];case jt.Eras:return function(R,J){return kn((0,f.cg1)(R)[f.wAp.Eras],J)}(J,ee)[R.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${N}`)}}(ke,ut,R,J,N,ee)}}function K(R){return function(J,N,ee){const ke=-1*ee,ut=qt(N,De.MinusSign),Tt=ke>0?Math.floor(ke/60):Math.ceil(ke/60);switch(R){case yn.Short:return(ke>=0?"+":"")+ur(Tt,2,ut)+ur(Math.abs(ke%60),2,ut);case yn.ShortGMT:return"GMT"+(ke>=0?"+":"")+ur(Tt,1,ut);case yn.Long:return"GMT"+(ke>=0?"+":"")+ur(Tt,2,ut)+":"+ur(Math.abs(ke%60),2,ut);case yn.Extended:return 0===ee?"Z":(ke>=0?"+":"")+ur(Tt,2,ut)+":"+ur(Math.abs(ke%60),2,ut);default:throw new Error(`Unknown zone width "${R}"`)}}}function st(R){return sr(R.getFullYear(),R.getMonth(),R.getDate()+(4-R.getDay()))}function vt(R,J=!1){return function(N,ee){let ke;if(J){const ut=new Date(N.getFullYear(),N.getMonth(),1).getDay()-1,Tt=N.getDate();ke=1+Math.floor((Tt+ut)/7)}else{const ut=st(N),Tt=function(R){const J=sr(R,0,1).getDay();return sr(R,0,1+(J<=4?4:11)-J)}(ut.getFullYear()),Yt=ut.getTime()-Tt.getTime();ke=1+Math.round(Yt/6048e5)}return ur(ke,R,qt(ee,De.MinusSign))}}function Dt(R,J=!1){return function(N,ee){return ur(st(N).getFullYear(),R,qt(ee,De.MinusSign),J)}}const mt={};function rn(R,J){R=R.replace(/:/g,"");const N=Date.parse("Jan 01, 1970 00:00:00 "+R)/6e4;return isNaN(N)?J:N}function Ve(R){return R instanceof Date&&!isNaN(R.valueOf())}const rt=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function As(R,J,N,ee,ke){const Tt=function(R,J="-"){const N={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},ee=R.split(";"),ke=ee[0],ut=ee[1],Tt=-1!==ke.indexOf(".")?ke.split("."):[ke.substring(0,ke.lastIndexOf("0")+1),ke.substring(ke.lastIndexOf("0")+1)],Yt=Tt[0],Zn=Tt[1]||"";N.posPre=Yt.substr(0,Yt.indexOf("#"));for(let oe=0;oe<Zn.length;oe++){const ie=Zn.charAt(oe);"0"===ie?N.minFrac=N.maxFrac=oe+1:"#"===ie?N.maxFrac=oe+1:N.posSuf+=ie}const wr=Yt.split(",");if(N.gSize=wr[1]?wr[1].length:0,N.lgSize=wr[2]||wr[1]?(wr[2]||wr[1]).length:0,ut){const oe=ke.length-N.posPre.length-N.posSuf.length,ie=ut.indexOf("#");N.negPre=ut.substr(0,ie).replace(/'/g,""),N.negSuf=ut.substr(ie+oe).replace(/'/g,"")}else N.negPre=J+N.posPre,N.negSuf=N.posSuf;return N}(function(R,J){return(0,f.cg1)(R)[f.wAp.NumberFormats][J]}(J,le.Currency),qt(J,De.MinusSign));return Tt.minFrac=function(R){let J;const N=Fe[R];return N&&(J=N[2]),"number"==typeof J?J:2}(ee),Tt.maxFrac=Tt.minFrac,function(R,J,N,ee,ke,ut,Tt=!1){let Yt="",Zn=!1;if(isFinite(R)){let wr=function(R){let ee,ke,ut,Tt,Yt,J=Math.abs(R)+"",N=0;for((ke=J.indexOf("."))>-1&&(J=J.replace(".","")),(ut=J.search(/e/i))>0?(ke<0&&(ke=ut),ke+=+J.slice(ut+1),J=J.substring(0,ut)):ke<0&&(ke=J.length),ut=0;"0"===J.charAt(ut);ut++);if(ut===(Yt=J.length))ee=[0],ke=1;else{for(Yt--;"0"===J.charAt(Yt);)Yt--;for(ke-=ut,ee=[],Tt=0;ut<=Yt;ut++,Tt++)ee[Tt]=Number(J.charAt(ut))}return ke>22&&(ee=ee.splice(0,21),N=ke-1,ke=1),{digits:ee,exponent:N,integerLen:ke}}(R);Tt&&(wr=function(R){if(0===R.digits[0])return R;const J=R.digits.length-R.integerLen;return R.exponent?R.exponent+=2:(0===J?R.digits.push(0,0):1===J&&R.digits.push(0),R.integerLen+=2),R}(wr));let oe=J.minInt,ie=J.minFrac,Le=J.maxFrac;if(ut){const Tn=ut.match(rt);if(null===Tn)throw new Error(`${ut} is not a valid digit info`);const Dr=Tn[1],vr=Tn[3],Ci=Tn[5];null!=Dr&&(oe=dn(Dr)),null!=vr&&(ie=dn(vr)),null!=Ci?Le=dn(Ci):null!=vr&&ie>Le&&(Le=ie)}!function(R,J,N){if(J>N)throw new Error(`The minimum number of digits after fraction (${J}) is higher than the maximum (${N}).`);let ee=R.digits,ke=ee.length-R.integerLen;const ut=Math.min(Math.max(J,ke),N);let Tt=ut+R.integerLen,Yt=ee[Tt];if(Tt>0){ee.splice(Math.max(R.integerLen,Tt));for(let ie=Tt;ie<ee.length;ie++)ee[ie]=0}else{ke=Math.max(0,ke),R.integerLen=1,ee.length=Math.max(1,Tt=ut+1),ee[0]=0;for(let ie=1;ie<Tt;ie++)ee[ie]=0}if(Yt>=5)if(Tt-1<0){for(let ie=0;ie>Tt;ie--)ee.unshift(0),R.integerLen++;ee.unshift(1),R.integerLen++}else ee[Tt-1]++;for(;ke<Math.max(0,ut);ke++)ee.push(0);let Zn=0!==ut;const wr=J+R.integerLen,oe=ee.reduceRight(function(ie,Le,et,yt){return yt[et]=(Le+=ie)<10?Le:Le-10,Zn&&(0===yt[et]&&et>=wr?yt.pop():Zn=!1),Le>=10?1:0},0);oe&&(ee.unshift(oe),R.integerLen++)}(wr,ie,Le);let et=wr.digits,yt=wr.integerLen;const pt=wr.exponent;let In=[];for(Zn=et.every(Tn=>!Tn);yt<oe;yt++)et.unshift(0);for(;yt<0;yt++)et.unshift(0);yt>0?In=et.splice(yt,et.length):(In=et,et=[0]);const Ar=[];for(et.length>=J.lgSize&&Ar.unshift(et.splice(-J.lgSize,et.length).join(""));et.length>J.gSize;)Ar.unshift(et.splice(-J.gSize,et.length).join(""));et.length&&Ar.unshift(et.join("")),Yt=Ar.join(qt(N,ee)),In.length&&(Yt+=qt(N,ke)+In.join("")),pt&&(Yt+=qt(N,De.Exponential)+"+"+pt)}else Yt=qt(N,De.Infinity);return Yt=R<0&&!Zn?J.negPre+Yt+J.negSuf:J.posPre+Yt+J.posSuf,Yt}(R,Tt,J,De.CurrencyGroup,De.CurrencyDecimal,ke).replace("\xa4",N).replace("\xa4","").trim()}function dn(R){const J=parseInt(R);if(isNaN(J))throw new Error("Invalid integer literal when parsing "+R);return J}class Jn{}let wi=(()=>{class R extends Jn{constructor(N){super(),this.locale=N}getPluralCategory(N,ee){switch(Pn(ee||this.locale)(N)){case ge.Zero:return"zero";case ge.One:return"one";case ge.Two:return"two";case ge.Few:return"few";case ge.Many:return"many";default:return"other"}}}return R.\u0275fac=function(N){return new(N||R)(f.LFG(f.soG))},R.\u0275prov=f.Yz7({token:R,factory:R.\u0275fac}),R})();function xi(R,J,N){return(0,f.dwT)(R,J,N)}function hn(R,J){J=encodeURIComponent(J);for(const N of R.split(";")){const ee=N.indexOf("="),[ke,ut]=-1==ee?[N,""]:[N.slice(0,ee),N.slice(ee+1)];if(ke.trim()===J)return decodeURIComponent(ut)}return null}let ss=(()=>{class R{constructor(N,ee,ke,ut){this._iterableDiffers=N,this._keyValueDiffers=ee,this._ngEl=ke,this._renderer=ut,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(N){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof N?N.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(N){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof N?N.split(/\s+/):N,this._rawClass&&((0,f.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const N=this._iterableDiffer.diff(this._rawClass);N&&this._applyIterableChanges(N)}else if(this._keyValueDiffer){const N=this._keyValueDiffer.diff(this._rawClass);N&&this._applyKeyValueChanges(N)}}_applyKeyValueChanges(N){N.forEachAddedItem(ee=>this._toggleClass(ee.key,ee.currentValue)),N.forEachChangedItem(ee=>this._toggleClass(ee.key,ee.currentValue)),N.forEachRemovedItem(ee=>{ee.previousValue&&this._toggleClass(ee.key,!1)})}_applyIterableChanges(N){N.forEachAddedItem(ee=>{if("string"!=typeof ee.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,f.AaK)(ee.item)}`);this._toggleClass(ee.item,!0)}),N.forEachRemovedItem(ee=>this._toggleClass(ee.item,!1))}_applyClasses(N){N&&(Array.isArray(N)||N instanceof Set?N.forEach(ee=>this._toggleClass(ee,!0)):Object.keys(N).forEach(ee=>this._toggleClass(ee,!!N[ee])))}_removeClasses(N){N&&(Array.isArray(N)||N instanceof Set?N.forEach(ee=>this._toggleClass(ee,!1)):Object.keys(N).forEach(ee=>this._toggleClass(ee,!1)))}_toggleClass(N,ee){(N=N.trim())&&N.split(/\s+/g).forEach(ke=>{ee?this._renderer.addClass(this._ngEl.nativeElement,ke):this._renderer.removeClass(this._ngEl.nativeElement,ke)})}}return R.\u0275fac=function(N){return new(N||R)(f.Y36(f.ZZ4),f.Y36(f.aQg),f.Y36(f.SBq),f.Y36(f.Qsj))},R.\u0275dir=f.lG2({type:R,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),R})();class gs{constructor(J,N,ee,ke){this.$implicit=J,this.ngForOf=N,this.index=ee,this.count=ke}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Zr=(()=>{class R{constructor(N,ee,ke){this._viewContainer=N,this._template=ee,this._differs=ke,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(N){this._ngForOf=N,this._ngForOfDirty=!0}set ngForTrackBy(N){this._trackByFn=N}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(N){N&&(this._template=N)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const N=this._ngForOf;!this._differ&&N&&(this._differ=this._differs.find(N).create(this.ngForTrackBy))}if(this._differ){const N=this._differ.diff(this._ngForOf);N&&this._applyChanges(N)}}_applyChanges(N){const ee=this._viewContainer;N.forEachOperation((ke,ut,Tt)=>{if(null==ke.previousIndex)ee.createEmbeddedView(this._template,new gs(ke.item,this._ngForOf,-1,-1),null===Tt?void 0:Tt);else if(null==Tt)ee.remove(null===ut?void 0:ut);else if(null!==ut){const Yt=ee.get(ut);ee.move(Yt,Tt),Rr(Yt,ke)}});for(let ke=0,ut=ee.length;ke<ut;ke++){const Yt=ee.get(ke).context;Yt.index=ke,Yt.count=ut,Yt.ngForOf=this._ngForOf}N.forEachIdentityChange(ke=>{Rr(ee.get(ke.currentIndex),ke)})}static ngTemplateContextGuard(N,ee){return!0}}return R.\u0275fac=function(N){return new(N||R)(f.Y36(f.s_b),f.Y36(f.Rgc),f.Y36(f.ZZ4))},R.\u0275dir=f.lG2({type:R,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),R})();function Rr(R,J){R.context.$implicit=J.item}let Ke=(()=>{class R{constructor(N,ee){this._viewContainer=N,this._context=new je,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=ee}set ngIf(N){this._context.$implicit=this._context.ngIf=N,this._updateView()}set ngIfThen(N){Qe("ngIfThen",N),this._thenTemplateRef=N,this._thenViewRef=null,this._updateView()}set ngIfElse(N){Qe("ngIfElse",N),this._elseTemplateRef=N,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(N,ee){return!0}}return R.\u0275fac=function(N){return new(N||R)(f.Y36(f.s_b),f.Y36(f.Rgc))},R.\u0275dir=f.lG2({type:R,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),R})();class je{constructor(){this.$implicit=null,this.ngIf=null}}function Qe(R,J){if(J&&!J.createEmbeddedView)throw new Error(`${R} must be a TemplateRef, but received '${(0,f.AaK)(J)}'.`)}let $r=(()=>{class R{constructor(N,ee,ke){this._ngEl=N,this._differs=ee,this._renderer=ke,this._ngStyle=null,this._differ=null}set ngStyle(N){this._ngStyle=N,!this._differ&&N&&(this._differ=this._differs.find(N).create())}ngDoCheck(){if(this._differ){const N=this._differ.diff(this._ngStyle);N&&this._applyChanges(N)}}_setStyle(N,ee){const[ke,ut]=N.split(".");null!=(ee=null!=ee&&ut?`${ee}${ut}`:ee)?this._renderer.setStyle(this._ngEl.nativeElement,ke,ee):this._renderer.removeStyle(this._ngEl.nativeElement,ke)}_applyChanges(N){N.forEachRemovedItem(ee=>this._setStyle(ee.key,null)),N.forEachAddedItem(ee=>this._setStyle(ee.key,ee.currentValue)),N.forEachChangedItem(ee=>this._setStyle(ee.key,ee.currentValue))}}return R.\u0275fac=function(N){return new(N||R)(f.Y36(f.SBq),f.Y36(f.aQg),f.Y36(f.Qsj))},R.\u0275dir=f.lG2({type:R,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),R})(),Ii=(()=>{class R{constructor(N){this._viewContainerRef=N,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(N){if(N.ngTemplateOutlet){const ee=this._viewContainerRef;this._viewRef&&ee.remove(ee.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?ee.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&N.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return R.\u0275fac=function(N){return new(N||R)(f.Y36(f.s_b))},R.\u0275dir=f.lG2({type:R,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[f.TTD]}),R})();function xr(R,J){return Error(`InvalidPipeArgument: '${J}' for pipe '${(0,f.AaK)(R)}'`)}class bo{createSubscription(J,N){return J.subscribe({next:N,error:ee=>{throw ee}})}dispose(J){J.unsubscribe()}onDestroy(J){J.unsubscribe()}}class Ao{createSubscription(J,N){return J.then(N,ee=>{throw ee})}dispose(J){}onDestroy(J){}}const Li=new Ao,hi=new bo;let $i=(()=>{class R{constructor(N){this._ref=N,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(N){return this._obj?N!==this._obj?(this._dispose(),this.transform(N)):this._latestValue:(N&&this._subscribe(N),this._latestValue)}_subscribe(N){this._obj=N,this._strategy=this._selectStrategy(N),this._subscription=this._strategy.createSubscription(N,ee=>this._updateLatestValue(N,ee))}_selectStrategy(N){if((0,f.QGY)(N))return Li;if((0,f.F4k)(N))return hi;throw xr(R,N)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(N,ee){N===this._obj&&(this._latestValue=ee,this._ref.markForCheck())}}return R.\u0275fac=function(N){return new(N||R)(f.Y36(f.sBO,16))},R.\u0275pipe=f.Yjl({name:"async",type:R,pure:!1}),R})();const So=new f.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let Bs=(()=>{class R{constructor(N,ee){this.locale=N,this.defaultTimezone=ee}transform(N,ee="mediumDate",ke,ut){var Tt;if(null==N||""===N||N!=N)return null;try{return _n(N,ee,ut||this.locale,null!==(Tt=null!=ke?ke:this.defaultTimezone)&&void 0!==Tt?Tt:void 0)}catch(Yt){throw xr(R,Yt.message)}}}return R.\u0275fac=function(N){return new(N||R)(f.Y36(f.soG,16),f.Y36(So,24))},R.\u0275pipe=f.Yjl({name:"date",type:R,pure:!0}),R})();const Qs=/#/g;let fi=(()=>{class R{constructor(N){this._localization=N}transform(N,ee,ke){if(null==N)return"";if("object"!=typeof ee||null===ee)throw xr(R,ee);return ee[function(R,J,N,ee){let ke=`=${R}`;if(J.indexOf(ke)>-1||(ke=N.getPluralCategory(R,ee),J.indexOf(ke)>-1))return ke;if(J.indexOf("other")>-1)return"other";throw new Error(`No plural message found for value "${R}"`)}(N,Object.keys(ee),this._localization,ke)].replace(Qs,N.toString())}}return R.\u0275fac=function(N){return new(N||R)(f.Y36(Jn,16))},R.\u0275pipe=f.Yjl({name:"i18nPlural",type:R,pure:!0}),R})(),Ri=(()=>{class R{constructor(N,ee="USD"){this._locale=N,this._defaultCurrencyCode=ee}transform(N,ee=this._defaultCurrencyCode,ke="symbol",ut,Tt){if(!function(R){return!(null==R||""===R||R!=R)}(N))return null;Tt=Tt||this._locale,"boolean"==typeof ke&&(ke=ke?"symbol":"code");let Yt=ee||this._defaultCurrencyCode;"code"!==ke&&(Yt="symbol"===ke||"symbol-narrow"===ke?function(R,J,N="en"){const ee=function(R){return(0,f.cg1)(R)[f.wAp.Currencies]}(N)[R]||Fe[R]||[],ke=ee[1];return"narrow"===J&&"string"==typeof ke?ke:ee[0]||R}(Yt,"symbol"===ke?"wide":"narrow",Tt):ke);try{return As(function(R){if("string"==typeof R&&!isNaN(Number(R)-parseFloat(R)))return Number(R);if("number"!=typeof R)throw new Error(`${R} is not a number`);return R}(N),Tt,Yt,ee,ut)}catch(Zn){throw xr(R,Zn.message)}}}return R.\u0275fac=function(N){return new(N||R)(f.Y36(f.soG,16),f.Y36(f.EJc,16))},R.\u0275pipe=f.Yjl({name:"currency",type:R,pure:!0}),R})();let qi=(()=>{class R{transform(N,ee,ke){if(null==N)return null;if(!this.supports(N))throw xr(R,N);return N.slice(ee,ke)}supports(N){return"string"==typeof N||Array.isArray(N)}}return R.\u0275fac=function(N){return new(N||R)},R.\u0275pipe=f.Yjl({name:"slice",type:R,pure:!1}),R})(),ki=(()=>{class R{}return R.\u0275fac=function(N){return new(N||R)},R.\u0275mod=f.oAB({type:R}),R.\u0275inj=f.cJS({providers:[{provide:Jn,useClass:wi}]}),R})();const Xs="browser";function eo(R){return R===Xs}function dr(R){return"server"===R}let Os=(()=>{class R{}return R.\u0275prov=(0,f.Yz7)({token:R,providedIn:"root",factory:()=>new Rs((0,f.LFG)(j),window)}),R})();class Rs{constructor(J,N){this.document=J,this.window=N,this.offset=()=>[0,0]}setOffset(J){this.offset=Array.isArray(J)?()=>J:J}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(J){this.supportsScrolling()&&this.window.scrollTo(J[0],J[1])}scrollToAnchor(J){if(!this.supportsScrolling())return;const N=function(R,J){const N=R.getElementById(J)||R.getElementsByName(J)[0];if(N)return N;if("function"==typeof R.createTreeWalker&&R.body&&(R.body.createShadowRoot||R.body.attachShadow)){const ee=R.createTreeWalker(R.body,NodeFilter.SHOW_ELEMENT);let ke=ee.currentNode;for(;ke;){const ut=ke.shadowRoot;if(ut){const Tt=ut.getElementById(J)||ut.querySelector(`[name="${J}"]`);if(Tt)return Tt}ke=ee.nextNode()}}return null}(this.document,J);N&&(this.scrollToElement(N),this.attemptFocus(N))}setHistoryScrollRestoration(J){if(this.supportScrollRestoration()){const N=this.window.history;N&&N.scrollRestoration&&(N.scrollRestoration=J)}}scrollToElement(J){const N=J.getBoundingClientRect(),ee=N.left+this.window.pageXOffset,ke=N.top+this.window.pageYOffset,ut=this.offset();this.window.scrollTo(ee-ut[0],ke-ut[1])}attemptFocus(J){return J.focus(),this.document.activeElement===J}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const J=Oo(this.window.history)||Oo(Object.getPrototypeOf(this.window.history));return!(!J||!J.writable&&!J.set)}catch(J){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(J){return!1}}}function Oo(R){return Object.getOwnPropertyDescriptor(R,"scrollRestoration")}class Mi{}},5e3:(gt,Ne,b)=>{"use strict";b.d(Ne,{deG:()=>m,tb:()=>E0,AFp:()=>y0,ip1:()=>My,CZH:()=>mh,hGG:()=>aI,z2F:()=>Ep,sBO:()=>kw,Sil:()=>Ny,_Vd:()=>fp,EJc:()=>w0,SBq:()=>pp,qLn:()=>Fr,vpe:()=>Fu,tBr:()=>Ja,XFs:()=>Xt,OlP:()=>g,zs3:()=>Uo,ZZ4:()=>dm,aQg:()=>hm,soG:()=>lm,YKP:()=>vv,h0i:()=>fh,PXZ:()=>Sw,R0b:()=>wa,FiY:()=>pa,Lbi:()=>v0,g9A:()=>_0,Qsj:()=>ET,FYo:()=>pv,JOm:()=>ot,q3G:()=>Ai,tp0:()=>Xa,Rgc:()=>_p,dDg:()=>C0,q4F:()=>mv,GfV:()=>gv,s_b:()=>sm,ifc:()=>Lt,eFA:()=>S0,G48:()=>Lw,Gpc:()=>q,f3M:()=>rd,X6Q:()=>xw,_c5:()=>eI,VLi:()=>Dw,c2e:()=>T0,zSh:()=>Fc,wAp:()=>qn,vHH:()=>Ye,EiD:()=>hc,mCW:()=>Na,qzn:()=>ci,JVY:()=>fs,pB0:()=>Io,eBb:()=>ad,L6k:()=>_i,LAX:()=>oc,cg1:()=>uy,kL8:()=>U_,yhl:()=>tu,dqk:()=>Fn,sIi:()=>$l,CqO:()=>np,QGY:()=>ih,F4k:()=>tp,dwT:()=>gE,RDi:()=>Os,AaK:()=>W,z3N:()=>wo,qOj:()=>Ff,TTD:()=>Yr,_Bn:()=>dv,xp6:()=>Hh,uIk:()=>jf,Tol:()=>At,ekj:()=>Pe,Suo:()=>Zv,Xpm:()=>vt,lG2:()=>pe,Yz7:()=>Bn,cJS:()=>qt,oAB:()=>vn,Yjl:()=>Ve,Y36:()=>Qc,_UZ:()=>Jf,GkF:()=>Bg,BQk:()=>Xf,ynx:()=>rh,qZA:()=>Qf,TgZ:()=>Yf,EpF:()=>ep,n5z:()=>gi,LFG:()=>yi,$8M:()=>qo,$Z:()=>Fg,NdJ:()=>Jc,CRH:()=>qv,oxw:()=>ku,ALo:()=>Fv,lcZ:()=>Uv,xi3:()=>Bv,Dn7:()=>Vv,Hsn:()=>jg,F$t:()=>Vg,Q6J:()=>Zf,s9C:()=>sp,MGl:()=>sh,hYB:()=>op,DdM:()=>Iv,VKq:()=>Dv,WLB:()=>Cv,kEZ:()=>bv,l5B:()=>Av,qbA:()=>Sv,HTZ:()=>Ov,Hh0:()=>Rv,rFY:()=>Mv,iGM:()=>Gv,MAs:()=>du,CHM:()=>to,oJD:()=>fc,LSH:()=>Cl,B6R:()=>Dt,Akn:()=>Ge,Udp:()=>fe,YNc:()=>Ag,W1O:()=>Xv,_uU:()=>v_,Oqu:()=>oy,hij:()=>Qg,AsE:()=>ay,Gf:()=>Kv});var f=b(7579),C=b(727),$=b(8306),ce=b(6451),x=b(3099);function H(t){for(let n in t)if(t[n]===H)return n;throw Error("Could not find renamed property on target object.")}function j(t,n){for(const s in n)n.hasOwnProperty(s)&&!t.hasOwnProperty(s)&&(t[s]=n[s])}function W(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(W).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const s=n.indexOf("\n");return-1===s?n:n.substring(0,s)}function Z(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const z=H({__forward_ref__:H});function q(t){return t.__forward_ref__=q,t.toString=function(){return W(this())},t}function te(t){return Te(t)?t():t}function Te(t){return"function"==typeof t&&t.hasOwnProperty(z)&&t.__forward_ref__===q}class Ye extends Error{constructor(n,s){super(function(t,n){return`${t?`NG0${t}: `:""}${n}`}(n,s)),this.code=n}}function de(t){return"string"==typeof t?t:null==t?"":String(t)}function Ie(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():de(t)}function ae(t,n){const s=n?` in ${n}`:"";throw new Ye("201",`No provider for ${Ie(t)} found${s}`)}function kt(t,n){null==t&&function(t,n,s,a){throw new Error(`ASSERTION ERROR: ${t}`+(null==a?"":` [Expected=> ${s} ${a} ${n} <=Actual]`))}(n,t,null,"!=")}function Bn(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function qt(t){return{providers:t.providers||[],imports:t.imports||[]}}function Ln(t){return er(t,Pn)||er(t,Vn)}function er(t,n){return t.hasOwnProperty(n)?t[n]:null}function cr(t){return t&&(t.hasOwnProperty(bn)||t.hasOwnProperty(nn))?t[bn]:null}const Pn=H({\u0275prov:H}),bn=H({\u0275inj:H}),Vn=H({ngInjectableDef:H}),nn=H({ngInjectorDef:H});var Xt=(()=>((Xt=Xt||{})[Xt.Default=0]="Default",Xt[Xt.Host=1]="Host",Xt[Xt.Self=2]="Self",Xt[Xt.SkipSelf=4]="SkipSelf",Xt[Xt.Optional=8]="Optional",Xt))();let kn;function ar(t){const n=kn;return kn=t,n}function Kt(t,n,s){const a=Ln(t);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:s&Xt.Optional?null:void 0!==n?n:void ae(W(t),"Injector")}function un(t){return{toString:t}.toString()}var Zt=(()=>((Zt=Zt||{})[Zt.OnPush=0]="OnPush",Zt[Zt.Default=1]="Default",Zt))(),Lt=(()=>{return(t=Lt||(Lt={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",Lt;var t})();const jt="undefined"!=typeof globalThis&&globalThis,_n="undefined"!=typeof window&&window,sr="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Fn=jt||"undefined"!=typeof global&&global||_n||sr,xe={},Me=[],he=H({\u0275cmp:H}),V=H({\u0275dir:H}),K=H({\u0275pipe:H}),ze=H({\u0275mod:H}),Ce=H({\u0275fac:H}),We=H({__NG_ELEMENT_ID__:H});let st=0;function vt(t){return un(()=>{const s={},a={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:s,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===Zt.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||Me,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||Lt.Emulated,id:"c",styles:t.styles||Me,_:null,setInput:null,schemas:t.schemas||null,tView:null},u=t.directives,d=t.features,_=t.pipes;return a.id+=st++,a.inputs=Oe(t.inputs,s),a.outputs=Oe(t.outputs),d&&d.forEach(D=>D(a)),a.directiveDefs=u?()=>("function"==typeof u?u():u).map(mt):null,a.pipeDefs=_?()=>("function"==typeof _?_():_).map(St):null,a})}function Dt(t,n,s){const a=t.\u0275cmp;a.directiveDefs=()=>n.map(mt),a.pipeDefs=()=>s.map(St)}function mt(t){return rt(t)||function(t){return t[V]||null}(t)}function St(t){return function(t){return t[K]||null}(t)}const rn={};function vn(t){return un(()=>{const n={type:t.type,bootstrap:t.bootstrap||Me,declarations:t.declarations||Me,imports:t.imports||Me,exports:t.exports||Me,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(rn[t.id]=t.type),n})}function Oe(t,n){if(null==t)return xe;const s={};for(const a in t)if(t.hasOwnProperty(a)){let u=t[a],d=u;Array.isArray(u)&&(d=u[1],u=u[0]),s[u]=a,n&&(n[u]=d)}return s}const pe=vt;function Ve(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function rt(t){return t[he]||null}function En(t,n){const s=t[ze]||null;if(!s&&!0===n)throw new Error(`Type ${W(t)} does not have '\u0275mod' property.`);return s}function zt(t){return Array.isArray(t)&&"object"==typeof t[1]}function Kn(t){return Array.isArray(t)&&!0===t[1]}function gr(t){return 0!=(8&t.flags)}function xn(t){return 2==(2&t.flags)}function qr(t){return 1==(1&t.flags)}function $r(t){return null!==t.template}function Ii(t){return 0!=(512&t[2])}function Ri(t,n){return t.hasOwnProperty(Ce)?t[Ce]:null}class ai{constructor(n,s,a){this.previousValue=n,this.currentValue=s,this.firstChange=a}isFirstChange(){return this.firstChange}}function Yr(){return qi}function qi(t){return t.type.prototype.ngOnChanges&&(t.setInput=ki),Hi}function Hi(){const t=or(this),n=null==t?void 0:t.current;if(n){const s=t.previous;if(s===xe)t.previous=n;else for(let a in n)s[a]=n[a];t.current=null,this.ngOnChanges(n)}}function ki(t,n,s,a){const u=or(t)||function(t,n){return t[Xs]=n}(t,{previous:xe,current:null}),d=u.current||(u.current={}),_=u.previous,D=this.declaredInputs[s],O=_[D];d[D]=new ai(O&&O.currentValue,n,_===xe),t[a]=n}Yr.ngInherit=!0;const Xs="__ngSimpleChanges__";function or(t){return t[Xs]||null}let js;function Os(t){js=t}function Rs(){return void 0!==js?js:"undefined"!=typeof document?document:void 0}function mr(t){return!!t.listen}const us={createRenderer:(t,n)=>Rs()};function R(t){for(;Array.isArray(t);)t=t[0];return t}function ee(t,n){return R(n[t])}function ke(t,n){return R(n[t.index])}function Tt(t,n){return t.data[n]}function Yt(t,n){return t[n]}function Zn(t,n){const s=n[t];return zt(s)?s:s[0]}function wr(t){return 4==(4&t[2])}function oe(t){return 128==(128&t[2])}function Le(t,n){return null==n?null:t[n]}function et(t){t[18]=0}function yt(t,n){t[5]+=n;let s=t,a=t[3];for(;null!==a&&(1===n&&1===s[5]||-1===n&&0===s[5]);)a[5]+=n,s=a,a=a[3]}const pt={lFrame:$o(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function vr(){return pt.bindingsEnabled}function ht(){return pt.lFrame.lView}function Yn(){return pt.lFrame.tView}function to(t){return pt.lFrame.contextLView=t,t[8]}function Wn(){let t=cs();for(;null!==t&&64===t.type;)t=t.parent;return t}function cs(){return pt.lFrame.currentTNode}function Wi(t,n){const s=pt.lFrame;s.currentTNode=t,s.isParent=n}function Wa(){return pt.lFrame.isParent}function aa(){pt.lFrame.isParent=!1}function ho(){return pt.isInCheckNoChangesMode}function fo(t){pt.isInCheckNoChangesMode=t}function Fi(){const t=pt.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function $s(){return pt.lFrame.bindingIndex++}function Hs(t){const n=pt.lFrame,s=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,s}function Ws(t,n){const s=pt.lFrame;s.bindingIndex=s.bindingRootIndex=t,jo(n)}function jo(t){pt.lFrame.currentDirectiveIndex=t}function no(){return pt.lFrame.currentQueryIndex}function za(t){pt.lFrame.currentQueryIndex=t}function Ms(t){const n=t[1];return 2===n.type?n.declTNode:1===n.type?t[6]:null}function mo(t,n,s){if(s&Xt.SkipSelf){let u=n,d=t;for(;!(u=u.parent,null!==u||s&Xt.Host||(u=Ms(d),null===u||(d=d[15],10&u.type))););if(null===u)return!1;n=u,t=d}const a=pt.lFrame=ca();return a.currentTNode=n,a.lView=t,!0}function Ro(t){const n=ca(),s=t[1];pt.lFrame=n,n.currentTNode=s.firstChild,n.lView=t,n.tView=s,n.contextLView=t,n.bindingIndex=s.bindingStartIndex,n.inI18n=!1}function ca(){const t=pt.lFrame,n=null===t?null:t.child;return null===n?$o(t):n}function $o(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function Ho(){const t=pt.lFrame;return pt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const ro=Ho;function yo(){const t=Ho();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function ei(){return pt.lFrame.selectedIndex}function zs(t){pt.lFrame.selectedIndex=t}function zr(){const t=pt.lFrame;return Tt(t.tView,t.selectedIndex)}function ds(t,n){for(let s=n.directiveStart,a=n.directiveEnd;s<a;s++){const d=t.data[s].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:D,ngAfterViewInit:O,ngAfterViewChecked:B,ngOnDestroy:Q}=d;_&&(t.contentHooks||(t.contentHooks=[])).push(-s,_),D&&((t.contentHooks||(t.contentHooks=[])).push(s,D),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(s,D)),O&&(t.viewHooks||(t.viewHooks=[])).push(-s,O),B&&((t.viewHooks||(t.viewHooks=[])).push(s,B),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(s,B)),null!=Q&&(t.destroyHooks||(t.destroyHooks=[])).push(s,Q)}}function zo(t,n,s){Vu(t,n,3,s)}function io(t,n,s,a){(3&t[2])===s&&Vu(t,n,s,a)}function Mo(t,n){let s=t[2];(3&s)===n&&(s&=2047,s+=1,t[2]=s)}function Vu(t,n,s,a){const d=null!=a?a:-1,_=n.length-1;let D=0;for(let O=void 0!==a?65535&t[18]:0;O<_;O++)if("number"==typeof n[O+1]){if(D=n[O],null!=a&&D>=a)break}else n[O]<0&&(t[18]+=65536),(D<d||-1==d)&&(ju(t,s,n,O),t[18]=(4294901760&t[18])+O+2),O++}function ju(t,n,s,a){const u=s[a]<0,d=s[a+1],D=t[u?-s[a]:s[a]];if(u){if(t[2]>>11<t[18]>>16&&(3&t[2])===n){t[2]+=2048;try{d.call(D)}finally{}}}else try{d.call(D)}finally{}}class Go{constructor(n,s,a){this.factory=n,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=a}}function Pt(t,n,s){const a=mr(t);let u=0;for(;u<s.length;){const d=s[u];if("number"==typeof d){if(0!==d)break;u++;const _=s[u++],D=s[u++],O=s[u++];a?t.setAttribute(n,D,O,_):n.setAttributeNS(_,D,O)}else{const _=d,D=s[++u];Zo(_)?a&&t.setProperty(n,_,D):a?t.setAttribute(n,_,D):n.setAttribute(_,D),u++}}return u}function kr(t){return 3===t||4===t||6===t}function Zo(t){return 64===t.charCodeAt(0)}function zi(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let s=-1;for(let a=0;a<n.length;a++){const u=n[a];"number"==typeof u?s=u:0===s||gn(t,s,u,null,-1===s||2===s?n[++a]:null)}}return t}function gn(t,n,s,a,u){let d=0,_=t.length;if(-1===n)_=-1;else for(;d<t.length;){const D=t[d++];if("number"==typeof D){if(D===n){_=-1;break}if(D>n){_=d-1;break}}}for(;d<t.length;){const D=t[d];if("number"==typeof D)break;if(D===s){if(null===a)return void(null!==u&&(t[d+1]=u));if(a===t[d+1])return void(t[d+2]=u)}d++,null!==a&&d++,null!==u&&d++}-1!==_&&(t.splice(_,0,n),d=_+1),t.splice(d++,0,s),null!==a&&t.splice(d++,0,a),null!==u&&t.splice(d++,0,u)}function Nn(t){return-1!==t}function Ji(t){return 32767&t}function nt(t,n){let s=function(t){return t>>16}(t),a=n;for(;s>0;)a=a[15],s--;return a}let Ct=!0;function Qr(t){const n=Ct;return Ct=t,n}let P=0;function X(t,n){const s=Be(t,n);if(-1!==s)return s;const a=n[1];a.firstCreatePass&&(t.injectorIndex=n.length,Se(a.data,t),Se(n,null),Se(a.blueprint,null));const u=ct(t,n),d=t.injectorIndex;if(Nn(u)){const _=Ji(u),D=nt(u,n),O=D[1].data;for(let B=0;B<8;B++)n[d+B]=D[_+B]|O[_+B]}return n[d+8]=u,d}function Se(t,n){t.push(0,0,0,0,0,0,0,0,n)}function Be(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function ct(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let s=0,a=null,u=n;for(;null!==u;){const d=u[1],_=d.type;if(a=2===_?d.declTNode:1===_?u[6]:null,null===a)return-1;if(s++,u=u[15],-1!==a.injectorIndex)return a.injectorIndex|s<<16}return-1}function Bt(t,n,s){!function(t,n,s){let a;"string"==typeof s?a=s.charCodeAt(0)||0:s.hasOwnProperty(We)&&(a=s[We]),null==a&&(a=s[We]=P++);const u=255&a;n.data[t+(u>>5)]|=1<<u}(t,n,s)}function Dn(t,n,s){if(s&Xt.Optional)return t;ae(n,"NodeInjector")}function on(t,n,s,a){if(s&Xt.Optional&&void 0===a&&(a=null),0==(s&(Xt.Self|Xt.Host))){const u=t[9],d=ar(void 0);try{return u?u.get(n,a,s&Xt.Optional):Kt(n,a,s&Xt.Optional)}finally{ar(d)}}return Dn(a,n,s)}function hr(t,n,s,a=Xt.Default,u){if(null!==t){const d=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(We)?t[We]:void 0;return"number"==typeof n?n>=0?255&n:Pr:n}(s);if("function"==typeof d){if(!mo(n,t,a))return a&Xt.Host?Dn(u,s,a):on(n,s,a,u);try{const _=d(a);if(null!=_||a&Xt.Optional)return _;ae(s)}finally{ro()}}else if("number"==typeof d){let _=null,D=Be(t,n),O=-1,B=a&Xt.Host?n[16][6]:null;for((-1===D||a&Xt.SkipSelf)&&(O=-1===D?ct(t,n):n[D+8],-1!==O&&Er(a,!1)?(_=n[1],D=Ji(O),n=nt(O,n)):D=-1);-1!==D;){const Q=n[1];if(Ui(d,D,Q.data)){const ve=Sn(D,n,s,_,a,B);if(ve!==No)return ve}O=n[D+8],-1!==O&&Er(a,n[1].data[D+8]===B)&&Ui(d,D,n)?(_=Q,D=Ji(O),n=nt(O,n)):D=-1}}}return on(n,s,a,u)}const No={};function Pr(){return new ha(Wn(),ht())}function Sn(t,n,s,a,u,d){const _=n[1],D=_.data[t+8],Q=vs(D,_,s,null==a?xn(D)&&Ct:a!=_&&0!=(3&D.type),u&Xt.Host&&d===D);return null!==Q?Xi(n,_,Q,D):No}function vs(t,n,s,a,u){const d=t.providerIndexes,_=n.data,D=1048575&d,O=t.directiveStart,Q=d>>20,$e=u?D+Q:t.directiveEnd;for(let tt=a?D:D+Q;tt<$e;tt++){const _t=_[tt];if(tt<O&&s===_t||tt>=O&&_t.type===s)return tt}if(u){const tt=_[O];if(tt&&$r(tt)&&tt.type===s)return O}return null}function Xi(t,n,s,a){let u=t[s];const d=n.data;if(function(t){return t instanceof Go}(u)){const _=u;_.resolving&&function(t,n){throw new Ye("200",`Circular dependency in DI detected for ${t}`)}(Ie(d[s]));const D=Qr(_.canSeeViewProviders);_.resolving=!0;const O=_.injectImpl?ar(_.injectImpl):null;mo(t,a,Xt.Default);try{u=t[s]=_.factory(void 0,d,t,a),n.firstCreatePass&&s>=a.directiveStart&&function(t,n,s){const{ngOnChanges:a,ngOnInit:u,ngDoCheck:d}=n.type.prototype;if(a){const _=qi(n);(s.preOrderHooks||(s.preOrderHooks=[])).push(t,_),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(t,_)}u&&(s.preOrderHooks||(s.preOrderHooks=[])).push(0-t,u),d&&((s.preOrderHooks||(s.preOrderHooks=[])).push(t,d),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(t,d))}(s,d[s],n)}finally{null!==O&&ar(O),Qr(D),_.resolving=!1,ro()}}return u}function Ui(t,n,s){return!!(s[n+(t>>5)]&1<<t)}function Er(t,n){return!(t&Xt.Self||t&Xt.Host&&n)}class ha{constructor(n,s){this._tNode=n,this._lView=s}get(n,s,a){return hr(this._tNode,this._lView,n,a,s)}}function gi(t){return un(()=>{const n=t.prototype.constructor,s=n[Ce]||Eo(n),a=Object.prototype;let u=Object.getPrototypeOf(t.prototype).constructor;for(;u&&u!==a;){const d=u[Ce]||Eo(u);if(d&&d!==s)return d;u=Object.getPrototypeOf(u)}return d=>new d})}function Eo(t){return Te(t)?()=>{const n=Eo(te(t));return n&&n()}:Ri(t)}function qo(t){return function(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const s=t.attrs;if(s){const a=s.length;let u=0;for(;u<a;){const d=s[u];if(kr(d))break;if(0===d)u+=2;else if("number"==typeof d)for(u++;u<a&&"string"==typeof s[u];)u++;else{if(d===n)return s[u+1];u+=2}}}return null}(Wn(),t)}const fa="__parameters__";function Yo(t,n,s){return un(()=>{const a=function(t){return function(...s){if(t){const a=t(...s);for(const u in a)this[u]=a[u]}}}(n);function u(...d){if(this instanceof u)return a.apply(this,d),this;const _=new u(...d);return D.annotation=_,D;function D(O,B,Q){const ve=O.hasOwnProperty(fa)?O[fa]:Object.defineProperty(O,fa,{value:[]})[fa];for(;ve.length<=Q;)ve.push(null);return(ve[Q]=ve[Q]||[]).push(_),O}}return s&&(u.prototype=Object.create(s.prototype)),u.prototype.ngMetadataName=t,u.annotationCls=u,u})}class g{constructor(n,s){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=Bn({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}toString(){return`InjectionToken ${this._desc}`}}const m=new g("AnalyzeForEntryComponents");function cn(t,n){void 0===n&&(n=t);for(let s=0;s<t.length;s++){let a=t[s];Array.isArray(a)?(n===t&&(n=t.slice(0,s)),cn(a,n)):n!==t&&n.push(a)}return n}function fr(t,n){t.forEach(s=>Array.isArray(s)?fr(s,n):n(s))}function Lr(t,n,s){n>=t.length?t.push(s):t.splice(n,0,s)}function yr(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function ui(t,n){const s=[];for(let a=0;a<t;a++)s.push(n);return s}function Gi(t,n,s){let a=Ns(t,n);return a>=0?t[1|a]=s:(a=~a,function(t,n,s,a){let u=t.length;if(u==n)t.push(s,a);else if(1===u)t.push(a,t[0]),t[0]=s;else{for(u--,t.push(t[u-1],t[u]);u>n;)t[u]=t[u-2],u--;t[n]=s,t[n+1]=a}}(t,a,n,s)),a}function ni(t,n){const s=Ns(t,n);if(s>=0)return t[1|s]}function Ns(t,n){return function(t,n,s){let a=0,u=t.length>>s;for(;u!==a;){const d=a+(u-a>>1),_=t[d<<s];if(n===_)return d<<s;_>n?u=d:a=d+1}return~(u<<s)}(t,n,1)}const Aa={},Sa="__NG_DI_FLAG__",Bi="ngTempTokenPath",Za=/\n/gm,Jo="__source",_l=H({provide:String,useValue:H});let qa;function _u(t){const n=qa;return qa=t,n}function Jl(t,n=Xt.Default){if(void 0===qa)throw new Error("inject() must be called from an injection context");return null===qa?Kt(t,void 0,n):qa.get(t,n&Xt.Optional?null:void 0,n)}function yi(t,n=Xt.Default){return(kn||Jl)(te(t),n)}const rd=yi;function Ya(t){const n=[];for(let s=0;s<t.length;s++){const a=te(t[s]);if(Array.isArray(a)){if(0===a.length)throw new Error("Arguments array must have arguments.");let u,d=Xt.Default;for(let _=0;_<a.length;_++){const D=a[_],O=Xl(D);"number"==typeof O?-1===O?u=D.token:d|=O:u=D}n.push(yi(u,d))}else n.push(yi(a))}return n}function Oa(t,n){return t[Sa]=n,t.prototype[Sa]=n,t}function Xl(t){return t[Sa]}const Ja=Oa(Yo("Inject",t=>({token:t})),-1),pa=Oa(Yo("Optional"),8),Xa=Oa(Yo("SkipSelf"),4);let eu,Xo;function Pa(t){var n;return(null===(n=function(){if(void 0===eu&&(eu=null,Fn.trustedTypes))try{eu=Fn.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(t){}return eu}())||void 0===n?void 0:n.createHTML(t))||t}function rc(t){var n;return(null===(n=function(){if(void 0===Xo&&(Xo=null,Fn.trustedTypes))try{Xo=Fn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(t){}return Xo}())||void 0===n?void 0:n.createHTML(t))||t}class xo{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class wl extends xo{getTypeName(){return"HTML"}}class Eh extends xo{getTypeName(){return"Style"}}class ji extends xo{getTypeName(){return"Script"}}class br extends xo{getTypeName(){return"URL"}}class od extends xo{getTypeName(){return"ResourceURL"}}function wo(t){return t instanceof xo?t.changingThisBreaksApplicationSecurity:t}function ci(t,n){const s=tu(t);if(null!=s&&s!==n){if("ResourceURL"===s&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${s} (see https://g.co/ng/security#xss)`)}return s===n}function tu(t){return t instanceof xo&&t.getTypeName()||null}function fs(t){return new wl(t)}function _i(t){return new Eh(t)}function ad(t){return new ji(t)}function oc(t){return new br(t)}function Io(t){return new od(t)}class Il{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const s=(new window.DOMParser).parseFromString(Pa(n),"text/html").body;return null===s?this.inertDocumentHelper.getInertBodyElement(n):(s.removeChild(s.firstChild),s)}catch(s){return null}}}class Th{constructor(n){if(this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const s=this.inertDocument.createElement("html");this.inertDocument.appendChild(s);const a=this.inertDocument.createElement("body");s.appendChild(a)}}getInertBodyElement(n){const s=this.inertDocument.createElement("template");if("content"in s)return s.innerHTML=Pa(n),s;const a=this.inertDocument.createElement("body");return a.innerHTML=Pa(n),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(a),a}stripCustomNsAttrs(n){const s=n.attributes;for(let u=s.length-1;0<u;u--){const _=s.item(u).name;("xmlns:ns1"===_||0===_.indexOf("ns1:"))&&n.removeAttribute(_)}let a=n.firstChild;for(;a;)a.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(a),a=a.nextSibling}}const wh=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,nu=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Na(t){return(t=String(t)).match(wh)||t.match(nu)?t:"unsafe:"+t}function Is(t){const n={};for(const s of t.split(","))n[s]=!0;return n}function xa(...t){const n={};for(const s of t)for(const a in s)s.hasOwnProperty(a)&&(n[a]=!0);return n}const Ku=Is("area,br,col,hr,img,wbr"),uc=Is("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),lc=Is("rp,rt"),Zu=xa(Ku,xa(uc,Is("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),xa(lc,Is("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),xa(lc,uc)),cc=Is("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),dc=Is("srcset"),cd=xa(cc,dc,Is("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Is("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Zi=Is("script,style,template");class qu{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let s=n.firstChild,a=!0;for(;s;)if(s.nodeType===Node.ELEMENT_NODE?a=this.startElement(s):s.nodeType===Node.TEXT_NODE?this.chars(s.nodeValue):this.sanitizedSomething=!0,a&&s.firstChild)s=s.firstChild;else for(;s;){s.nodeType===Node.ELEMENT_NODE&&this.endElement(s);let u=this.checkClobberedElement(s,s.nextSibling);if(u){s=u;break}s=this.checkClobberedElement(s,s.parentNode)}return this.buf.join("")}startElement(n){const s=n.nodeName.toLowerCase();if(!Zu.hasOwnProperty(s))return this.sanitizedSomething=!0,!Zi.hasOwnProperty(s);this.buf.push("<"),this.buf.push(s);const a=n.attributes;for(let u=0;u<a.length;u++){const d=a.item(u),_=d.name,D=_.toLowerCase();if(!cd.hasOwnProperty(D)){this.sanitizedSomething=!0;continue}let O=d.value;cc[D]&&(O=Na(O)),dc[D]&&(t=O,O=(t=String(t)).split(",").map(n=>Na(n.trim())).join(", ")),this.buf.push(" ",_,'="',uo(O),'"')}var t;return this.buf.push(">"),!0}endElement(n){const s=n.nodeName.toLowerCase();Zu.hasOwnProperty(s)&&!Ku.hasOwnProperty(s)&&(this.buf.push("</"),this.buf.push(s),this.buf.push(">"))}chars(n){this.buf.push(uo(n))}checkClobberedElement(n,s){if(s&&(n.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`);return s}}const dd=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Yu=/([^\#-~ |!])/g;function uo(t){return t.replace(/&/g,"&amp;").replace(dd,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(Yu,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let La;function hc(t,n){let s=null;try{La=La||function(t){const n=new Th(t);return function(){try{return!!(new window.DOMParser).parseFromString(Pa(""),"text/html")}catch(t){return!1}}()?new Il(n):n}(t);let a=n?String(n):"";s=La.getInertBodyElement(a);let u=5,d=a;do{if(0===u)throw new Error("Failed to sanitize html because the input is unstable");u--,a=d,d=s.innerHTML,s=La.getInertBodyElement(a)}while(a!==d);return Pa((new qu).sanitizeChildren(ru(s)||s))}finally{if(s){const a=ru(s)||s;for(;a.firstChild;)a.removeChild(a.firstChild)}}}function ru(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Ai=(()=>((Ai=Ai||{})[Ai.NONE=0]="NONE",Ai[Ai.HTML=1]="HTML",Ai[Ai.STYLE=2]="STYLE",Ai[Ai.SCRIPT=3]="SCRIPT",Ai[Ai.URL=4]="URL",Ai[Ai.RESOURCE_URL=5]="RESOURCE_URL",Ai))();function fc(t){const n=wu();return n?rc(n.sanitize(Ai.HTML,t)||""):ci(t,"HTML")?rc(wo(t)):hc(Rs(),de(t))}function Cl(t){const n=wu();return n?n.sanitize(Ai.URL,t)||"":ci(t,"URL")?wo(t):Na(de(t))}function wu(){const t=ht();return t&&t[12]}const ma="__ngContext__";function vi(t,n){t[ma]=n}function mc(t){const n=function(t){return t[ma]||null}(t);return n?Array.isArray(n)?n:n.lView:null}function Do(t){return t.ngOriginalError}function ts(t,...n){t.error(...n)}class Fr{constructor(){this._console=console}handleError(n){const s=this._findOriginalError(n),a=(t=n)&&t.ngErrorLogger||ts;var t;a(this._console,"ERROR",n),s&&a(this._console,"ORIGINAL ERROR",s)}_findOriginalError(n){let s=n&&Do(n);for(;s&&Do(s);)s=Do(s);return s||null}}const yd=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Fn))();function h(t){return t instanceof Function?t():t}var ot=(()=>((ot=ot||{})[ot.Important=1]="Important",ot[ot.DashCase=2]="DashCase",ot))();function fn(t,n){return undefined(t,n)}function ri(t){const n=t[3];return Kn(n)?n[3]:n}function va(t){return su(t[13])}function na(t){return su(t[4])}function su(t){for(;null!==t&&!Kn(t);)t=t[4];return t}function ra(t,n,s,a,u){if(null!=a){let d,_=!1;Kn(a)?d=a:zt(a)&&(_=!0,a=a[0]);const D=R(a);0===t&&null!==s?null==u?Mh(n,s,D):ia(n,s,D,u||null,!0):1===t&&null!==s?ia(n,s,D,u||null,!0):2===t?function(t,n,s){const a=xl(t,n);a&&function(t,n,s,a){mr(t)?t.removeChild(n,s,a):n.removeChild(s)}(t,a,n,s)}(n,D,_):3===t&&n.destroyNode(D),null!=d&&function(t,n,s,a,u){const d=s[7];d!==R(s)&&ra(n,t,a,d,u);for(let D=10;D<s.length;D++){const O=s[D];Au(O[1],O,t,n,a,d)}}(n,t,d,s,u)}}function Pl(t,n,s){return mr(t)?t.createElement(n,s):null===s?t.createElement(n):t.createElementNS(s,n)}function Tc(t,n){const s=t[9],a=s.indexOf(n),u=n[3];1024&n[2]&&(n[2]&=-1025,yt(u,-1)),s.splice(a,1)}function wc(t,n){if(t.length<=10)return;const s=10+n,a=t[s];if(a){const u=a[17];null!==u&&u!==t&&Tc(u,a),n>0&&(t[s-1][4]=a[4]);const d=yr(t,10+n);!function(t,n){Au(t,n,n[11],2,null,null),n[0]=null,n[6]=null}(a[1],a);const _=d[19];null!==_&&_.detachView(d[1]),a[3]=null,a[4]=null,a[2]&=-129}return a}function Rh(t,n){if(!(256&n[2])){const s=n[11];mr(s)&&s.destroyNode&&Au(t,n,s,3,null,null),function(t){let n=t[13];if(!n)return Ua(t[1],t);for(;n;){let s=null;if(zt(n))s=n[13];else{const a=n[10];a&&(s=a)}if(!s){for(;n&&!n[4]&&n!==t;)zt(n)&&Ua(n[1],n),n=n[3];null===n&&(n=t),zt(n)&&Ua(n[1],n),s=n&&n[4]}n=s}}(n)}}function Ua(t,n){if(!(256&n[2])){n[2]&=-129,n[2]|=256,function(t,n){let s;if(null!=t&&null!=(s=t.destroyHooks))for(let a=0;a<s.length;a+=2){const u=n[s[a]];if(!(u instanceof Go)){const d=s[a+1];if(Array.isArray(d))for(let _=0;_<d.length;_+=2){const D=u[d[_]],O=d[_+1];try{O.call(D)}finally{}}else try{d.call(u)}finally{}}}}(t,n),function(t,n){const s=t.cleanup,a=n[7];let u=-1;if(null!==s)for(let d=0;d<s.length-1;d+=2)if("string"==typeof s[d]){const _=s[d+1],D="function"==typeof _?_(n):R(n[_]),O=a[u=s[d+2]],B=s[d+3];"boolean"==typeof B?D.removeEventListener(s[d],O,B):B>=0?a[u=B]():a[u=-B].unsubscribe(),d+=2}else{const _=a[u=s[d+1]];s[d].call(_)}if(null!==a){for(let d=u+1;d<a.length;d++)a[d]();n[7]=null}}(t,n),1===n[1].type&&mr(n[11])&&n[11].destroy();const s=n[17];if(null!==s&&Kn(n[3])){s!==n[3]&&Tc(s,n);const a=n[19];null!==a&&a.detachView(t)}}}function bu(t,n,s){return function(t,n,s){let a=n;for(;null!==a&&40&a.type;)a=(n=a).parent;if(null===a)return s[0];if(2&a.flags){const u=t.data[a.directiveStart].encapsulation;if(u===Lt.None||u===Lt.Emulated)return null}return ke(a,s)}(t,n.parent,s)}function ia(t,n,s,a,u){mr(t)?t.insertBefore(n,s,a,u):n.insertBefore(s,a,u)}function Mh(t,n,s){mr(t)?t.appendChild(n,s):n.appendChild(s)}function ou(t,n,s,a,u){null!==a?ia(t,n,s,a,u):Mh(t,n,s)}function xl(t,n){return mr(t)?t.parentNode(n):n.parentNode}function Ap(t,n,s){return Op(t,n,s)}let Op=function(t,n,s){return 40&t.type?ke(t,s):null};function au(t,n,s,a){const u=bu(t,a,n),d=n[11],D=Ap(a.parent||n[6],a,n);if(null!=u)if(Array.isArray(s))for(let O=0;O<s.length;O++)ou(d,u,s[O],D,!1);else ou(d,u,s,D,!1)}function Dc(t,n){if(null!==n){const s=n.type;if(3&s)return ke(n,t);if(4&s)return Nh(-1,t[n.index]);if(8&s){const a=n.child;if(null!==a)return Dc(t,a);{const u=t[n.index];return Kn(u)?Nh(-1,u):R(u)}}if(32&s)return fn(n,t)()||R(t[n.index]);{const a=Rp(t,n);return null!==a?Array.isArray(a)?a[0]:Dc(ri(t[16]),a):Dc(t,n.next)}}return null}function Rp(t,n){return null!==n?t[16][6].projection[n.projection]:null}function Nh(t,n){const s=10+t+1;if(s<n.length){const a=n[s],u=a[1].firstChild;if(null!==u)return Dc(a,u)}return n[7]}function Ba(t,n,s,a,u,d,_){for(;null!=s;){const D=a[s.index],O=s.type;if(_&&0===n&&(D&&vi(R(D),a),s.flags|=4),64!=(64&s.flags))if(8&O)Ba(t,n,s.child,a,u,d,!1),ra(n,t,u,D,d);else if(32&O){const B=fn(s,a);let Q;for(;Q=B();)ra(n,t,u,Q,d);ra(n,t,u,D,d)}else 16&O?Lh(t,n,a,s,u,d):ra(n,t,u,D,d);s=_?s.projectionNext:s.next}}function Au(t,n,s,a,u,d){Ba(s,a,t.firstChild,n,u,d,!1)}function Lh(t,n,s,a,u,d){const _=s[16],O=_[6].projection[a.projection];if(Array.isArray(O))for(let B=0;B<O.length;B++)ra(n,t,u,O[B],d);else Ba(t,n,O,_[3],u,d,!0)}function Ll(t,n,s){mr(t)?t.setAttribute(n,"style",s):n.style.cssText=s}function kl(t,n,s){mr(t)?""===s?t.removeAttribute(n,"class"):t.setAttribute(n,"class",s):n.className=s}function Ed(t,n,s){let a=t.length;for(;;){const u=t.indexOf(n,s);if(-1===u)return u;if(0===u||t.charCodeAt(u-1)<=32){const d=n.length;if(u+d===a||t.charCodeAt(u+d)<=32)return u}s=u+1}}const Uh="ng-template";function Bh(t,n,s){let a=0;for(;a<t.length;){let u=t[a++];if(s&&"class"===u){if(u=t[a],-1!==Ed(u.toLowerCase(),n,0))return!0}else if(1===u){for(;a<t.length&&"string"==typeof(u=t[a++]);)if(u.toLowerCase()===n)return!0;return!1}}return!1}function Vh(t){return 4===t.type&&t.value!==Uh}function pm(t,n,s){return n===(4!==t.type||s?t.value:Uh)}function Mp(t,n,s){let a=4;const u=t.attrs||[],d=function(t){for(let n=0;n<t.length;n++)if(kr(t[n]))return n;return t.length}(u);let _=!1;for(let D=0;D<n.length;D++){const O=n[D];if("number"!=typeof O){if(!_)if(4&a){if(a=2|1&a,""!==O&&!pm(t,O,s)||""===O&&1===n.length){if(sa(a))return!1;_=!0}}else{const B=8&a?O:n[++D];if(8&a&&null!==t.attrs){if(!Bh(t.attrs,B,s)){if(sa(a))return!1;_=!0}continue}const ve=jh(8&a?"class":O,u,Vh(t),s);if(-1===ve){if(sa(a))return!1;_=!0;continue}if(""!==B){let $e;$e=ve>d?"":u[ve+1].toLowerCase();const tt=8&a?$e:null;if(tt&&-1!==Ed(tt,B,0)||2&a&&B!==$e){if(sa(a))return!1;_=!0}}}}else{if(!_&&!sa(a)&&!sa(O))return!1;if(_&&sa(O))continue;_=!1,a=O|1&a}}return sa(a)||_}function sa(t){return 0==(1&t)}function jh(t,n,s,a){if(null===n)return-1;let u=0;if(a||!s){let d=!1;for(;u<n.length;){const _=n[u];if(_===t)return u;if(3===_||6===_)d=!0;else{if(1===_||2===_){let D=n[++u];for(;"string"==typeof D;)D=n[++u];continue}if(4===_)break;if(0===_){u+=4;continue}}u+=d?1:2}return-1}return function(t,n){let s=t.indexOf(4);if(s>-1)for(s++;s<t.length;){const a=t[s];if("number"==typeof a)return-1;if(a===n)return s;s++}return-1}(n,t)}function Pp(t,n,s=!1){for(let a=0;a<n.length;a++)if(Mp(t,n[a],s))return!0;return!1}function mm(t,n){e:for(let s=0;s<n.length;s++){const a=n[s];if(t.length===a.length){for(let u=0;u<t.length;u++)if(t[u]!==a[u])continue e;return!0}}return!1}function il(t,n){return t?":not("+n.trim()+")":n}function Fl(t){let n=t[0],s=1,a=2,u="",d=!1;for(;s<t.length;){let _=t[s];if("string"==typeof _)if(2&a){const D=t[++s];u+="["+_+(D.length>0?'="'+D+'"':"")+"]"}else 8&a?u+="."+_:4&a&&(u+=" "+_);else""!==u&&!sa(_)&&(n+=il(d,u),u=""),a=_,d=d||!sa(a);s++}return""!==u&&(n+=il(d,u)),n}const ir={};function Hh(t){Lp(Yn(),ht(),ei()+t,ho())}function Lp(t,n,s,a){if(!a)if(3==(3&n[2])){const d=t.preOrderCheckHooks;null!==d&&zo(n,d,s)}else{const d=t.preOrderHooks;null!==d&&io(n,d,0,s)}zs(s)}function Id(t,n){return t<<17|n<<2}function Fo(t){return t>>17&32767}function zh(t){return 2|t}function Ea(t){return(131068&t)>>2}function ns(t,n){return-131069&t|n<<2}function Gh(t){return 1|t}function Hp(t,n){const s=t.contentQueries;if(null!==s)for(let a=0;a<s.length;a+=2){const u=s[a],d=s[a+1];if(-1!==d){const _=t.data[d];za(u),_.contentQueries(2,n[d],d)}}}function ol(t,n,s,a,u,d,_,D,O,B){const Q=n.blueprint.slice();return Q[0]=u,Q[2]=140|a,et(Q),Q[3]=Q[15]=t,Q[8]=s,Q[10]=_||t&&t[10],Q[11]=D||t&&t[11],Q[12]=O||t&&t[12]||null,Q[9]=B||t&&t[9]||null,Q[6]=d,Q[16]=2==n.type?t[16]:Q,Q}function lu(t,n,s,a,u){let d=t.data[n];if(null===d)d=function(t,n,s,a,u){const d=cs(),_=Wa(),O=t.data[n]=function(t,n,s,a,u,d){return{type:s,index:a,insertBeforeIndex:null,injectorIndex:n?n.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:u,attrs:d,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?d:d&&d.parent,s,n,a,u);return null===t.firstChild&&(t.firstChild=O),null!==d&&(_?null==d.child&&null!==O.parent&&(d.child=O):null===d.next&&(d.next=O)),O}(t,n,s,a,u),pt.lFrame.inI18n&&(d.flags|=64);else if(64&d.type){d.type=s,d.value=a,d.attrs=u;const _=function(){const t=pt.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();d.injectorIndex=null===_?-1:_.injectorIndex}return Wi(d,!0),d}function al(t,n,s,a){if(0===s)return-1;const u=n.length;for(let d=0;d<s;d++)n.push(a),t.blueprint.push(a),t.data.push(null);return u}function $a(t,n,s){Ro(n);try{const a=t.viewQuery;null!==a&&Lc(1,a,s);const u=t.template;null!==u&&Wp(t,n,u,1,s),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Hp(t,n),t.staticViewQueries&&Lc(2,t.viewQuery,s);const d=t.components;null!==d&&function(t,n){for(let s=0;s<n.length;s++)Om(t,n[s])}(n,d)}catch(a){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),a}finally{n[2]&=-5,yo()}}function Ou(t,n,s,a){const u=n[2];if(256==(256&u))return;Ro(n);const d=ho();try{et(n),function(t){pt.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==s&&Wp(t,n,s,2,a);const _=3==(3&u);if(!d)if(_){const B=t.preOrderCheckHooks;null!==B&&zo(n,B,null)}else{const B=t.preOrderHooks;null!==B&&io(n,B,0,null),Mo(n,0)}if(function(t){for(let n=va(t);null!==n;n=na(n)){if(!n[2])continue;const s=n[9];for(let a=0;a<s.length;a++){const u=s[a],d=u[3];0==(1024&u[2])&&yt(d,1),u[2]|=1024}}}(n),function(t){for(let n=va(t);null!==n;n=na(n))for(let s=10;s<n.length;s++){const a=n[s],u=a[1];oe(a)&&Ou(u,a,u.template,a[8])}}(n),null!==t.contentQueries&&Hp(t,n),!d)if(_){const B=t.contentCheckHooks;null!==B&&zo(n,B)}else{const B=t.contentHooks;null!==B&&io(n,B,1),Mo(n,1)}!function(t,n){const s=t.hostBindingOpCodes;if(null!==s)try{for(let a=0;a<s.length;a++){const u=s[a];if(u<0)zs(~u);else{const d=u,_=s[++a],D=s[++a];Ws(_,d),D(2,n[d])}}}finally{zs(-1)}}(t,n);const D=t.components;null!==D&&function(t,n){for(let s=0;s<n.length;s++)yf(t,n[s])}(n,D);const O=t.viewQuery;if(null!==O&&Lc(2,O,a),!d)if(_){const B=t.viewCheckHooks;null!==B&&zo(n,B)}else{const B=t.viewHooks;null!==B&&io(n,B,2),Mo(n,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),d||(n[2]&=-73),1024&n[2]&&(n[2]&=-1025,yt(n[3],-1))}finally{yo()}}function Im(t,n,s,a){const u=n[10],d=!ho(),_=wr(n);try{d&&!_&&u.begin&&u.begin(),_&&$a(t,n,a),Ou(t,n,s,a)}finally{d&&!_&&u.end&&u.end()}}function Wp(t,n,s,a,u){const d=ei(),_=2&a;try{zs(-1),_&&n.length>20&&Lp(t,n,20,ho()),s(a,u)}finally{zs(d)}}function nf(t,n,s){if(gr(n)){const u=n.directiveEnd;for(let d=n.directiveStart;d<u;d++){const _=t.data[d];_.contentQueries&&_.contentQueries(1,s[d],d)}}}function xd(t,n,s){!vr()||(function(t,n,s,a){const u=s.directiveStart,d=s.directiveEnd;t.firstCreatePass||X(s,n),vi(a,n);const _=s.initialInputs;for(let D=u;D<d;D++){const O=t.data[D],B=$r(O);B&&Qp(n,s,O);const Q=Xi(n,t,D,s);vi(Q,n),null!==_&&Jp(0,D-u,Q,O,0,_),B&&(Zn(s.index,n)[8]=Q)}}(t,n,s,ke(s,n)),128==(128&s.flags)&&function(t,n,s){const a=s.directiveStart,u=s.directiveEnd,_=s.index,D=pt.lFrame.currentDirectiveIndex;try{zs(_);for(let O=a;O<u;O++){const B=t.data[O],Q=n[O];jo(O),(null!==B.hostBindings||0!==B.hostVars||null!==B.hostAttrs)&&qp(B,Q)}}finally{zs(-1),jo(D)}}(t,n,s))}function rf(t,n,s=ke){const a=n.localNames;if(null!==a){let u=n.index+1;for(let d=0;d<a.length;d+=2){const _=a[d+1],D=-1===_?s(n,t):t[_];t[u++]=D}}}function Ld(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=kd(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):n}function kd(t,n,s,a,u,d,_,D,O,B){const Q=20+a,ve=Q+u,$e=function(t,n){const s=[];for(let a=0;a<n;a++)s.push(a<t?null:ir);return s}(Q,ve),tt="function"==typeof B?B():B;return $e[1]={type:t,blueprint:$e,template:s,queries:null,viewQuery:D,declTNode:n,data:$e.slice().fill(null,Q),bindingStartIndex:Q,expandoStartIndex:ve,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof d?d():d,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:O,consts:tt,incompleteFirstPass:!1}}function Fd(t,n,s,a){const u=ng(n);null===s?u.push(a):(u.push(s),t.firstCreatePass&&Wd(t).push(a,u.length-1))}function Ud(t,n,s){for(let a in t)if(t.hasOwnProperty(a)){const u=t[a];(s=null===s?{}:s).hasOwnProperty(a)?s[a].push(n,u):s[a]=[n,u]}return s}function Cs(t,n,s,a,u,d,_,D){const O=ke(n,s);let Q,B=n.inputs;!D&&null!=B&&(Q=B[a])?(ul(t,s,Q,a,u),xn(n)&&function(t,n){const s=Zn(n,t);16&s[2]||(s[2]|=64)}(s,n.index)):3&n.type&&(a=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(a),u=null!=_?_(u,n.value||"",a):u,mr(d)?d.setProperty(O,a,u):Zo(a)||(O.setProperty?O.setProperty(a,u):O[a]=u))}function cf(t,n,s,a){let u=!1;if(vr()){const d=function(t,n,s){const a=t.directiveRegistry;let u=null;if(a)for(let d=0;d<a.length;d++){const _=a[d];Pp(s,_.selectors,!1)&&(u||(u=[]),Bt(X(s,n),t,_.type),$r(_)?(Vd(t,s),u.unshift(_)):u.push(_))}return u}(t,n,s),_=null===a?null:{"":-1};if(null!==d){u=!0,gf(s,t.data.length,d.length);for(let Q=0;Q<d.length;Q++){const ve=d[Q];ve.providersResolver&&ve.providersResolver(ve)}let D=!1,O=!1,B=al(t,n,d.length,null);for(let Q=0;Q<d.length;Q++){const ve=d[Q];s.mergedAttrs=zi(s.mergedAttrs,ve.hostAttrs),Yp(t,s,n,B,ve),bm(B,ve,_),null!==ve.contentQueries&&(s.flags|=8),(null!==ve.hostBindings||null!==ve.hostAttrs||0!==ve.hostVars)&&(s.flags|=128);const $e=ve.type.prototype;!D&&($e.ngOnChanges||$e.ngOnInit||$e.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(s.index),D=!0),!O&&($e.ngOnChanges||$e.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(s.index),O=!0),B++}!function(t,n){const a=n.directiveEnd,u=t.data,d=n.attrs,_=[];let D=null,O=null;for(let B=n.directiveStart;B<a;B++){const Q=u[B],ve=Q.inputs,$e=null===d||Vh(n)?null:Am(ve,d);_.push($e),D=Ud(ve,B,D),O=Ud(Q.outputs,B,O)}null!==D&&(D.hasOwnProperty("class")&&(n.flags|=16),D.hasOwnProperty("style")&&(n.flags|=32)),n.initialInputs=_,n.inputs=D,n.outputs=O}(t,s)}_&&function(t,n,s){if(n){const a=t.localNames=[];for(let u=0;u<n.length;u+=2){const d=s[n[u+1]];if(null==d)throw new Ye("301",`Export of name '${n[u+1]}' not found!`);a.push(n[u],d)}}}(s,a,_)}return s.mergedAttrs=zi(s.mergedAttrs,s.attrs),u}function Bd(t,n,s,a,u,d){const _=d.hostBindings;if(_){let D=t.hostBindingOpCodes;null===D&&(D=t.hostBindingOpCodes=[]);const O=~n.index;(function(t){let n=t.length;for(;n>0;){const s=t[--n];if("number"==typeof s&&s<0)return s}return 0})(D)!=O&&D.push(O),D.push(a,u,_)}}function qp(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function Vd(t,n){n.flags|=2,(t.components||(t.components=[])).push(n.index)}function bm(t,n,s){if(s){if(n.exportAs)for(let a=0;a<n.exportAs.length;a++)s[n.exportAs[a]]=t;$r(n)&&(s[""]=t)}}function gf(t,n,s){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+s,t.providerIndexes=n}function Yp(t,n,s,a,u){t.data[a]=u;const d=u.factory||(u.factory=Ri(u.type)),_=new Go(d,$r(u),null);t.blueprint[a]=_,s[a]=_,Bd(t,n,0,a,al(t,s,u.hostVars,ir),u)}function Qp(t,n,s){const a=ke(n,t),u=Ld(s),d=t[10],_=$d(t,ol(t,u,null,s.onPush?64:16,a,n,d,d.createRenderer(a,s),null,null));t[n.index]=_}function Ta(t,n,s,a,u,d){const _=ke(t,n);!function(t,n,s,a,u,d,_){if(null==d)mr(t)?t.removeAttribute(n,u,s):n.removeAttribute(u);else{const D=null==_?de(d):_(d,a||"",u);mr(t)?t.setAttribute(n,u,D,s):s?n.setAttributeNS(s,u,D):n.setAttribute(u,D)}}(n[11],_,d,t.value,s,a,u)}function Jp(t,n,s,a,u,d){const _=d[n];if(null!==_){const D=a.setInput;for(let O=0;O<_.length;){const B=_[O++],Q=_[O++],ve=_[O++];null!==D?a.setInput(s,ve,B,Q):s[Q]=ve}}}function Am(t,n){let s=null,a=0;for(;a<n.length;){const u=n[a];if(0!==u)if(5!==u){if("number"==typeof u)break;t.hasOwnProperty(u)&&(null===s&&(s=[]),s.push(u,t[u],n[a+1])),a+=2}else a+=2;else a+=4}return s}function Xp(t,n,s,a){return new Array(t,!0,!1,n,null,0,a,s,null,null)}function yf(t,n){const s=Zn(n,t);if(oe(s)){const a=s[1];80&s[2]?Ou(a,s,a.template,s[8]):s[5]>0&&Pc(s)}}function Pc(t){for(let a=va(t);null!==a;a=na(a))for(let u=10;u<a.length;u++){const d=a[u];if(1024&d[2]){const _=d[1];Ou(_,d,_.template,d[8])}else d[5]>0&&Pc(d)}const s=t[1].components;if(null!==s)for(let a=0;a<s.length;a++){const u=Zn(s[a],t);oe(u)&&u[5]>0&&Pc(u)}}function Om(t,n){const s=Zn(n,t),a=s[1];(function(t,n){for(let s=n.length;s<t.blueprint.length;s++)n.push(t.blueprint[s])})(a,s),$a(a,s,s[8])}function $d(t,n){return t[13]?t[14][4]=n:t[13]=n,t[14]=n,n}function Nc(t){for(;t;){t[2]|=64;const n=ri(t);if(Ii(t)&&!n)return t;t=n}return null}function Hd(t,n,s){const a=n[10];a.begin&&a.begin();try{Ou(t,n,t.template,s)}catch(u){throw Gd(n,u),u}finally{a.end&&a.end()}}function tg(t){!function(t){for(let n=0;n<t.components.length;n++){const s=t.components[n],a=mc(s),u=a[1];Im(u,a,u.template,s)}}(t[8])}function Lc(t,n,s){za(0),n(t,s)}const Ef=(()=>Promise.resolve(null))();function ng(t){return t[7]||(t[7]=[])}function Wd(t){return t.cleanup||(t.cleanup=[])}function Gd(t,n){const s=t[9],a=s?s.get(Fr,null):null;a&&a.handleError(n)}function ul(t,n,s,a,u){for(let d=0;d<s.length;){const _=s[d++],D=s[d++],O=n[_],B=t.data[_];null!==B.setInput?B.setInput(O,u,a,D):O[D]=u}}function Ha(t,n,s){const a=ee(n,t);!function(t,n,s){mr(t)?t.setValue(n,s):n.textContent=s}(t[11],a,s)}function Bl(t,n,s){let a=s?t.styles:null,u=s?t.classes:null,d=0;if(null!==n)for(let _=0;_<n.length;_++){const D=n[_];"number"==typeof D?d=D:1==d?u=Z(u,D):2==d&&(a=Z(a,D+": "+n[++_]+";"))}s?t.styles=a:t.stylesWithoutHost=a,s?t.classes=u:t.classesWithoutHost=u}const kc=new g("INJECTOR",-1);class rg{get(n,s=Aa){if(s===Aa){const a=new Error(`NullInjectorError: No provider for ${W(n)}!`);throw a.name="NullInjectorError",a}return s}}const Fc=new g("Set Injector scope."),Uc={},Pm={};let Bc;function ig(){return void 0===Bc&&(Bc=new rg),Bc}function Kd(t,n=null,s=null,a){const u=sg(t,n,s,a);return u._resolveInjectorDefTypes(),u}function sg(t,n=null,s=null,a){return new wf(t,s,n||ig(),a)}class wf{constructor(n,s,a,u=null){this.parent=a,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const d=[];s&&fr(s,D=>this.processProvider(D,n,s)),fr([n],D=>this.processInjectorType(D,[],d)),this.records.set(kc,ll(void 0,this));const _=this.records.get(Fc);this.scope=null!=_?_.value:null,this.source=u||("object"==typeof n?null:W(n))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(n=>n.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(n,s=Aa,a=Xt.Default){this.assertNotDestroyed();const u=_u(this),d=ar(void 0);try{if(!(a&Xt.SkipSelf)){let D=this.records.get(n);if(void 0===D){const O=("function"==typeof(t=n)||"object"==typeof t&&t instanceof g)&&Ln(n);D=O&&this.injectableDefInScope(O)?ll(If(n),Uc):null,this.records.set(n,D)}if(null!=D)return this.hydrate(n,D)}return(a&Xt.Self?ig():this.parent).get(n,s=a&Xt.Optional&&s===Aa?null:s)}catch(_){if("NullInjectorError"===_.name){if((_[Bi]=_[Bi]||[]).unshift(W(n)),u)throw _;return function(t,n,s,a){const u=t[Bi];throw n[Jo]&&u.unshift(n[Jo]),t.message=function(t,n,s,a=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let u=W(n);if(Array.isArray(n))u=n.map(W).join(" -> ");else if("object"==typeof n){let d=[];for(let _ in n)if(n.hasOwnProperty(_)){let D=n[_];d.push(_+":"+("string"==typeof D?JSON.stringify(D):W(D)))}u=`{${d.join(", ")}}`}return`${s}${a?"("+a+")":""}[${u}]: ${t.replace(Za,"\n  ")}`}("\n"+t.message,u,s,a),t.ngTokenPath=u,t[Bi]=null,t}(_,n,"R3InjectorError",this.source)}throw _}finally{ar(d),_u(u)}var t}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(n=>this.get(n))}toString(){const n=[];return this.records.forEach((a,u)=>n.push(W(u))),`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(n,s,a){if(!(n=te(n)))return!1;let u=cr(n);const d=null==u&&n.ngModule||void 0,_=void 0===d?n:d,D=-1!==a.indexOf(_);if(void 0!==d&&(u=cr(d)),null==u)return!1;if(null!=u.imports&&!D){let Q;a.push(_);try{fr(u.imports,ve=>{this.processInjectorType(ve,s,a)&&(void 0===Q&&(Q=[]),Q.push(ve))})}finally{}if(void 0!==Q)for(let ve=0;ve<Q.length;ve++){const{ngModule:$e,providers:tt}=Q[ve];fr(tt,_t=>this.processProvider(_t,$e,tt||Me))}}this.injectorDefTypes.add(_);const O=Ri(_)||(()=>new _);this.records.set(_,ll(O,Uc));const B=u.providers;if(null!=B&&!D){const Q=n;fr(B,ve=>this.processProvider(ve,Q,B))}return void 0!==d&&void 0!==n.providers}processProvider(n,s,a){let u=Vl(n=te(n))?n:te(n&&n.provide);const d=(t=n,ag(t)?ll(void 0,t.useValue):ll(Zd(t),Uc));var t;if(Vl(n)||!0!==n.multi)this.records.get(u);else{let _=this.records.get(u);_||(_=ll(void 0,Uc,!0),_.factory=()=>Ya(_.multi),this.records.set(u,_)),u=n,_.multi.push(n)}this.records.set(u,d)}hydrate(n,s){return s.value===Uc&&(s.value=Pm,s.value=s.factory()),"object"==typeof s.value&&s.value&&null!==(t=s.value)&&"object"==typeof t&&"function"==typeof t.ngOnDestroy&&this.onDestroy.add(s.value),s.value;var t}injectableDefInScope(n){if(!n.providedIn)return!1;const s=te(n.providedIn);return"string"==typeof s?"any"===s||s===this.scope:this.injectorDefTypes.has(s)}}function If(t){const n=Ln(t),s=null!==n?n.factory:Ri(t);if(null!==s)return s;if(t instanceof g)throw new Error(`Token ${W(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const n=t.length;if(n>0){const a=ui(n,"?");throw new Error(`Can't resolve all parameters for ${W(t)}: (${a.join(", ")}).`)}const s=function(t){const n=t&&(t[Pn]||t[Vn]);if(n){const s=function(t){if(t.hasOwnProperty("name"))return t.name;const n=(""+t).match(/^function\s*([^\s(]+)/);return null===n?"":n[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${s}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${s}" class.`),n}return null}(t);return null!==s?()=>s.factory(t):()=>new t}(t);throw new Error("unreachable")}function Zd(t,n,s){let a;if(Vl(t)){const u=te(t);return Ri(u)||If(u)}if(ag(t))a=()=>te(t.useValue);else if(function(t){return!(!t||!t.useFactory)}(t))a=()=>t.useFactory(...Ya(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))a=()=>yi(te(t.useExisting));else{const u=te(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return Ri(u)||If(u);a=()=>new u(...Ya(t.deps))}return a}function ll(t,n,s=!1){return{factory:t,value:n,multi:s?[]:void 0}}function ag(t){return null!==t&&"object"==typeof t&&_l in t}function Vl(t){return"function"==typeof t}let Uo=(()=>{class t{static create(s,a){var u;if(Array.isArray(s))return Kd({name:""},a,s,"");{const d=null!==(u=s.name)&&void 0!==u?u:"";return Kd({name:d},s.parent,s.providers,d)}}}return t.THROW_IF_NOT_FOUND=Aa,t.NULL=new rg,t.\u0275prov=Bn({token:t,providedIn:"any",factory:()=>yi(kc)}),t.__NG_ELEMENT_ID__=-1,t})();function Bm(t,n){ds(mc(t)[1],Wn())}function Ff(t){let n=function(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),s=!0;const a=[t];for(;n;){let u;if($r(t))u=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new Error("Directives cannot inherit Components");u=n.\u0275dir}if(u){if(s){a.push(u);const _=t;_.inputs=Uf(t.inputs),_.declaredInputs=Uf(t.declaredInputs),_.outputs=Uf(t.outputs);const D=u.hostBindings;D&&yg(t,D);const O=u.viewQuery,B=u.contentQueries;if(O&&$m(t,O),B&&jl(t,B),j(t.inputs,u.inputs),j(t.declaredInputs,u.declaredInputs),j(t.outputs,u.outputs),$r(u)&&u.data.animation){const Q=t.data;Q.animation=(Q.animation||[]).concat(u.data.animation)}}const d=u.features;if(d)for(let _=0;_<d.length;_++){const D=d[_];D&&D.ngInherit&&D(t),D===Ff&&(s=!1)}}n=Object.getPrototypeOf(n)}!function(t){let n=0,s=null;for(let a=t.length-1;a>=0;a--){const u=t[a];u.hostVars=n+=u.hostVars,u.hostAttrs=zi(u.hostAttrs,s=zi(s,u.hostAttrs))}}(a)}function Uf(t){return t===xe?{}:t===Me?[]:t}function $m(t,n){const s=t.viewQuery;t.viewQuery=s?(a,u)=>{n(a,u),s(a,u)}:n}function jl(t,n){const s=t.contentQueries;t.contentQueries=s?(a,u,d)=>{n(a,u,d),s(a,u,d)}:n}function yg(t,n){const s=t.hostBindings;t.hostBindings=s?(a,u)=>{n(a,u),s(a,u)}:n}let $c=null;function cu(){if(!$c){const t=Fn.Symbol;if(t&&t.iterator)$c=t.iterator;else{const n=Object.getOwnPropertyNames(Map.prototype);for(let s=0;s<n.length;++s){const a=n[s];"entries"!==a&&"size"!==a&&Map.prototype[a]===Map.prototype.entries&&($c=a)}}}return $c}function $l(t){return!!Vf(t)&&(Array.isArray(t)||!(t instanceof Map)&&cu()in t)}function Vf(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function jr(t,n,s){return t[n]=s}function rs(t,n){return t[n]}function Ei(t,n,s){return!Object.is(t[n],s)&&(t[n]=s,!0)}function cl(t,n,s,a){const u=Ei(t,n,s);return Ei(t,n+1,a)||u}function Jd(t,n,s,a,u){const d=cl(t,n,s,a);return Ei(t,n+2,u)||d}function Bo(t,n,s,a,u,d){const _=cl(t,n,s,a);return cl(t,n+2,u,d)||_}function jf(t,n,s,a){const u=ht();return Ei(u,$s(),n)&&(Yn(),Ta(zr(),u,t,n,s,a)),jf}function Hl(t,n,s,a){return Ei(t,$s(),s)?n+de(s)+a:ir}function Pu(t,n,s,a,u,d){const D=cl(t,pt.lFrame.bindingIndex,s,u);return Hs(2),D?n+de(s)+a+de(u)+d:ir}function Ag(t,n,s,a,u,d,_,D){const O=ht(),B=Yn(),Q=t+20,ve=B.firstCreatePass?function(t,n,s,a,u,d,_,D,O){const B=n.consts,Q=lu(n,t,4,_||null,Le(B,D));cf(n,s,Q,Le(B,O)),ds(n,Q);const ve=Q.tViews=kd(2,Q,a,u,d,n.directiveRegistry,n.pipeRegistry,null,n.schemas,B);return null!==n.queries&&(n.queries.template(n,Q),ve.queries=n.queries.embeddedTView(Q)),Q}(Q,B,O,n,s,a,u,d,_):B.data[Q];Wi(ve,!1);const $e=O[11].createComment("");au(B,O,$e,ve),vi($e,O),$d(O,O[Q]=Xp($e,O,$e,ve)),qr(ve)&&xd(B,O,ve),null!=_&&rf(O,ve,D)}function du(t){return Yt(pt.lFrame.contextLView,20+t)}function Qc(t,n=Xt.Default){const s=ht();return null===s?yi(t,n):hr(Wn(),s,te(t),n)}function Fg(){throw new Error("invalid")}function Zf(t,n,s){const a=ht();return Ei(a,$s(),n)&&Cs(Yn(),zr(),a,t,n,a[11],s,!1),Zf}function qf(t,n,s,a,u){const _=u?"class":"style";ul(t,s,n.inputs[_],_,a)}function Yf(t,n,s,a){const u=ht(),d=Yn(),_=20+t,D=u[11],O=u[_]=Pl(D,n,pt.lFrame.currentNamespace),B=d.firstCreatePass?function(t,n,s,a,u,d,_){const D=n.consts,B=lu(n,t,2,u,Le(D,d));return cf(n,s,B,Le(D,_)),null!==B.attrs&&Bl(B,B.attrs,!1),null!==B.mergedAttrs&&Bl(B,B.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,B),B}(_,d,u,0,n,s,a):d.data[_];Wi(B,!0);const Q=B.mergedAttrs;null!==Q&&Pt(D,O,Q);const ve=B.classes;null!==ve&&kl(D,O,ve);const $e=B.styles;null!==$e&&Ll(D,O,$e),64!=(64&B.flags)&&au(d,u,O,B),0===pt.lFrame.elementDepthCount&&vi(O,u),pt.lFrame.elementDepthCount++,qr(B)&&(xd(d,u,B),nf(d,B,u)),null!==a&&rf(u,B)}function Qf(){let t=Wn();Wa()?aa():(t=t.parent,Wi(t,!1));const n=t;pt.lFrame.elementDepthCount--;const s=Yn();s.firstCreatePass&&(ds(s,t),gr(t)&&s.queries.elementEnd(t)),null!=n.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(n)&&qf(s,n,ht(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(n)&&qf(s,n,ht(),n.stylesWithoutHost,!1)}function Jf(t,n,s,a){Yf(t,n,s,a),Qf()}function rh(t,n,s){const a=ht(),u=Yn(),d=t+20,_=u.firstCreatePass?function(t,n,s,a,u){const d=n.consts,_=Le(d,a),D=lu(n,t,8,"ng-container",_);return null!==_&&Bl(D,_,!0),cf(n,s,D,Le(d,u)),null!==n.queries&&n.queries.elementStart(n,D),D}(d,u,a,n,s):u.data[d];Wi(_,!0);const D=a[d]=a[11].createComment("");au(u,a,D,_),vi(D,a),qr(_)&&(xd(u,a,_),nf(u,_,a)),null!=s&&rf(a,_)}function Xf(){let t=Wn();const n=Yn();Wa()?aa():(t=t.parent,Wi(t,!1)),n.firstCreatePass&&(ds(n,t),gr(t)&&n.queries.elementEnd(t))}function Bg(t,n,s){rh(t,n,s),Xf()}function ep(){return ht()}function ih(t){return!!t&&"function"==typeof t.then}function tp(t){return!!t&&"function"==typeof t.subscribe}const np=tp;function Jc(t,n,s,a){const u=ht(),d=Yn(),_=Wn();return function(t,n,s,a,u,d,_,D){const O=qr(a),Q=t.firstCreatePass&&Wd(t),ve=n[8],$e=ng(n);let tt=!0;if(3&a.type||D){const Jt=ke(a,n),wn=D?D(Jt):Jt,wt=$e.length,Un=D?Or=>D(R(Or[a.index])):a.index;if(mr(s)){let Or=null;if(!D&&O&&(Or=function(t,n,s,a){const u=t.cleanup;if(null!=u)for(let d=0;d<u.length-1;d+=2){const _=u[d];if(_===s&&u[d+1]===a){const D=n[7],O=u[d+2];return D.length>O?D[O]:null}"string"==typeof _&&(d+=2)}return null}(t,n,u,a.index)),null!==Or)(Or.__ngLastListenerFn__||Or).__ngNextListenerFn__=d,Or.__ngLastListenerFn__=d,tt=!1;else{d=ip(a,n,ve,d,!1);const Xr=s.listen(wn,u,d);$e.push(d,Xr),Q&&Q.push(u,Un,wt,wt+1)}}else d=ip(a,n,ve,d,!0),wn.addEventListener(u,d,_),$e.push(d),Q&&Q.push(u,Un,wt,_)}else d=ip(a,n,ve,d,!1);const _t=a.outputs;let Ut;if(tt&&null!==_t&&(Ut=_t[u])){const Jt=Ut.length;if(Jt)for(let wn=0;wn<Jt;wn+=2){const Ia=n[Ut[wn]][Ut[wn+1]].subscribe(d),nd=$e.length;$e.push(d,Ia),Q&&Q.push(u,a.index,nd,-(nd+1))}}}(d,u,u[11],_,t,n,!!s,a),Jc}function fu(t,n,s,a){try{return!1!==s(a)}catch(u){return Gd(t,u),!1}}function ip(t,n,s,a,u){return function d(_){if(_===Function)return a;const D=2&t.flags?Zn(t.index,n):n;0==(32&n[2])&&Nc(D);let O=fu(n,0,a,_),B=d.__ngNextListenerFn__;for(;B;)O=fu(n,0,B,_)&&O,B=B.__ngNextListenerFn__;return u&&!1===O&&(_.preventDefault(),_.returnValue=!1),O}}function ku(t=1){return function(t){return(pt.lFrame.contextLView=function(t,n){for(;t>0;)n=n[15],t--;return n}(t,pt.lFrame.contextLView))[8]}(t)}function ey(t,n){let s=null;const a=function(t){const n=t.attrs;if(null!=n){const s=n.indexOf(5);if(0==(1&s))return n[s+1]}return null}(t);for(let u=0;u<n.length;u++){const d=n[u];if("*"!==d){if(null===a?Pp(t,d,!0):mm(a,d))return u}else s=u}return s}function Vg(t){const n=ht()[16][6];if(!n.projection){const a=n.projection=ui(t?t.length:1,null),u=a.slice();let d=n.child;for(;null!==d;){const _=t?ey(d,t):0;null!==_&&(u[_]?u[_].projectionNext=d:a[_]=d,u[_]=d),d=d.next}}}function jg(t,n=0,s){const a=ht(),u=Yn(),d=lu(u,20+t,16,null,s||null);null===d.projection&&(d.projection=n),aa(),64!=(64&d.flags)&&function(t,n,s){Lh(n[11],0,n,s,bu(t,s,n),Ap(s.parent||n[6],s,n))}(u,a,d)}function sp(t,n,s){return sh(t,"",n,"",s),sp}function sh(t,n,s,a,u){const d=ht(),_=Hl(d,n,s,a);return _!==ir&&Cs(Yn(),zr(),d,t,_,d[11],u,!1),sh}function op(t,n,s,a,u,d,_){const D=ht(),O=Pu(D,n,s,a,u,d);return O!==ir&&Cs(Yn(),zr(),D,t,O,D[11],_,!1),op}function Kg(t,n,s,a,u){const d=t[s+1],_=null===n;let D=a?Fo(d):Ea(d),O=!1;for(;0!==D&&(!1===O||_);){const Q=t[D+1];ry(t[D],n)&&(O=!0,t[D+1]=a?Gh(Q):zh(Q)),D=a?Fo(Q):Ea(Q)}O&&(t[s+1]=a?zh(d):Gh(d))}function ry(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&Ns(t,n)>=0}const ps={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Zg(t){return t.substring(ps.key,ps.keyEnd)}function p_(t){return t.substring(ps.value,ps.valueEnd)}function iy(t,n){const s=ps.textEnd;return s===n?-1:(n=ps.keyEnd=function(t,n,s){for(;n<s&&t.charCodeAt(n)>32;)n++;return n}(t,ps.key=n,s),r(t,n,s))}function i(t,n){const s=ps.textEnd;let a=ps.key=r(t,n,s);return s===a?-1:(a=ps.keyEnd=function(t,n,s){let a;for(;n<s&&(45===(a=t.charCodeAt(n))||95===a||(-33&a)>=65&&(-33&a)<=90||a>=48&&a<=57);)n++;return n}(t,a,s),a=p(t,a,s),a=ps.value=r(t,a,s),a=ps.valueEnd=function(t,n,s){let a=-1,u=-1,d=-1,_=n,D=_;for(;_<s;){const O=t.charCodeAt(_++);if(59===O)return D;34===O||39===O?D=_=M(t,O,_,s):n===_-4&&85===d&&82===u&&76===a&&40===O?D=_=M(t,41,_,s):O>32&&(D=_),d=u,u=a,a=-33&O}return D}(t,a,s),p(t,a,s))}function e(t){ps.key=0,ps.keyEnd=0,ps.value=0,ps.valueEnd=0,ps.textEnd=t.length}function r(t,n,s){for(;n<s&&t.charCodeAt(n)<=32;)n++;return n}function p(t,n,s,a){return(n=r(t,n,s))<s&&n++,n}function M(t,n,s,a){let u=-1,d=s;for(;d<a;){const _=t.charCodeAt(d++);if(_==n&&92!==u)return d;u=92==_&&92===u?0:_}throw new Error}function fe(t,n,s){return pn(t,n,s,!1),fe}function Pe(t,n){return pn(t,n,null,!0),Pe}function Ge(t){Xn(g_,lt,t,!1)}function lt(t,n){for(let s=function(t){return e(t),i(t,r(t,0,ps.textEnd))}(n);s>=0;s=i(n,s))g_(t,Zg(n),p_(n))}function At(t){Xn(Gi,Mt,t,!0)}function Mt(t,n){for(let s=function(t){return e(t),iy(t,r(t,0,ps.textEnd))}(n);s>=0;s=iy(n,s))Gi(t,Zg(n),!0)}function pn(t,n,s,a){const u=ht(),d=Yn(),_=Hs(2);d.firstUpdatePass&&qs(d,t,_,a),n!==ir&&Ei(u,_,n)&&m_(d,d.data[ei()],u,u[11],t,u[_+1]=function(t,n){return null==t||("string"==typeof n?t+=n:"object"==typeof t&&(t=W(wo(t)))),t}(n,s),a,_)}function Xn(t,n,s,a){const u=Yn(),d=Hs(2);u.firstUpdatePass&&qs(u,null,d,a);const _=ht();if(s!==ir&&Ei(_,d,s)){const D=u.data[ei()];if(__(D,a)&&!bs(u,d)){let O=a?D.classesWithoutHost:D.stylesWithoutHost;null!==O&&(s=Z(O,s||"")),qf(u,D,_,s,a)}else!function(t,n,s,a,u,d,_,D){u===ir&&(u=Me);let O=0,B=0,Q=0<u.length?u[0]:null,ve=0<d.length?d[0]:null;for(;null!==Q||null!==ve;){const $e=O<u.length?u[O+1]:void 0,tt=B<d.length?d[B+1]:void 0;let Ut,_t=null;Q===ve?(O+=2,B+=2,$e!==tt&&(_t=ve,Ut=tt)):null===ve||null!==Q&&Q<ve?(O+=2,_t=Q):(B+=2,_t=ve,Ut=tt),null!==_t&&m_(t,n,s,a,_t,Ut,_,D),Q=O<u.length?u[O]:null,ve=B<d.length?d[B]:null}}(u,D,_,_[11],_[d+1],_[d+1]=function(t,n,s){if(null==s||""===s)return Me;const a=[],u=wo(s);if(Array.isArray(u))for(let d=0;d<u.length;d++)t(a,u[d],!0);else if("object"==typeof u)for(const d in u)u.hasOwnProperty(d)&&t(a,d,u[d]);else"string"==typeof u&&n(a,u);return a}(t,n,s),a,d)}}function bs(t,n){return n>=t.expandoStartIndex}function qs(t,n,s,a){const u=t.data;if(null===u[s+1]){const d=u[ei()],_=bs(t,s);__(d,a)&&null===n&&!_&&(n=!1),n=function(t,n,s,a){const u=function(t){const n=pt.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let d=a?n.residualClasses:n.residualStyles;if(null===u)0===(a?n.classBindings:n.styleBindings)&&(s=up(s=lh(null,t,n,s,a),n.attrs,a),d=null);else{const _=n.directiveStylingLast;if(-1===_||t[_]!==u)if(s=lh(u,t,n,s,a),null===d){let O=function(t,n,s){const a=s?n.classBindings:n.styleBindings;if(0!==Ea(a))return t[Fo(a)]}(t,n,a);void 0!==O&&Array.isArray(O)&&(O=lh(null,t,n,O[1],a),O=up(O,n.attrs,a),function(t,n,s,a){t[Fo(s?n.classBindings:n.styleBindings)]=a}(t,n,a,O))}else d=function(t,n,s){let a;const u=n.directiveEnd;for(let d=1+n.directiveStylingLast;d<u;d++)a=up(a,t[d].hostAttrs,s);return up(a,n.attrs,s)}(t,n,a)}return void 0!==d&&(a?n.residualClasses=d:n.residualStyles=d),s}(u,d,n,a),function(t,n,s,a,u,d){let _=d?n.classBindings:n.styleBindings,D=Fo(_),O=Ea(_);t[a]=s;let Q,B=!1;if(Array.isArray(s)){const ve=s;Q=ve[1],(null===Q||Ns(ve,Q)>0)&&(B=!0)}else Q=s;if(u)if(0!==O){const $e=Fo(t[D+1]);t[a+1]=Id($e,D),0!==$e&&(t[$e+1]=ns(t[$e+1],a)),t[D+1]=function(t,n){return 131071&t|n<<17}(t[D+1],a)}else t[a+1]=Id(D,0),0!==D&&(t[D+1]=ns(t[D+1],a)),D=a;else t[a+1]=Id(O,0),0===D?D=a:t[O+1]=ns(t[O+1],a),O=a;B&&(t[a+1]=zh(t[a+1])),Kg(t,Q,a,!0),Kg(t,Q,a,!1),function(t,n,s,a,u){const d=u?t.residualClasses:t.residualStyles;null!=d&&"string"==typeof n&&Ns(d,n)>=0&&(s[a+1]=Gh(s[a+1]))}(n,Q,t,a,d),_=Id(D,O),d?n.classBindings=_:n.styleBindings=_}(u,d,n,s,_,a)}}function lh(t,n,s,a,u){let d=null;const _=s.directiveEnd;let D=s.directiveStylingLast;for(-1===D?D=s.directiveStart:D++;D<_&&(d=n[D],a=up(a,d.hostAttrs,u),d!==t);)D++;return null!==t&&(s.directiveStylingLast=D),a}function up(t,n,s){const a=s?1:2;let u=-1;if(null!==n)for(let d=0;d<n.length;d++){const _=n[d];"number"==typeof _?u=_:u===a&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Gi(t,_,!!s||n[++d]))}return void 0===t?null:t}function g_(t,n,s){Gi(t,n,wo(s))}function m_(t,n,s,a,u,d,_,D){if(!(3&n.type))return;const O=t.data,B=O[D+1];Yg(function(t){return 1==(1&t)}(B)?y_(O,n,s,u,Ea(B),_):void 0)||(Yg(d)||function(t){return 2==(2&t)}(B)&&(d=y_(O,null,s,u,D,_)),function(t,n,s,a,u){const d=mr(t);if(n)u?d?t.addClass(s,a):s.classList.add(a):d?t.removeClass(s,a):s.classList.remove(a);else{let _=-1===a.indexOf("-")?void 0:ot.DashCase;if(null==u)d?t.removeStyle(s,a,_):s.style.removeProperty(a);else{const D="string"==typeof u&&u.endsWith("!important");D&&(u=u.slice(0,-10),_|=ot.Important),d?t.setStyle(s,a,u,_):s.style.setProperty(a,u,D?"important":"")}}}(a,_,ee(ei(),s),u,d))}function y_(t,n,s,a,u,d){const _=null===n;let D;for(;u>0;){const O=t[u],B=Array.isArray(O),Q=B?O[1]:O,ve=null===Q;let $e=s[u+1];$e===ir&&($e=ve?Me:void 0);let tt=ve?ni($e,a):Q===a?$e:void 0;if(B&&!Yg(tt)&&(tt=ni(O,a)),Yg(tt)&&(D=tt,_))return D;const _t=t[u+1];u=_?Fo(_t):Ea(_t)}if(null!==n){let O=d?n.residualClasses:n.residualStyles;null!=O&&(D=ni(O,a))}return D}function Yg(t){return void 0!==t}function __(t,n){return 0!=(t.flags&(n?16:32))}function v_(t,n=""){const s=ht(),a=Yn(),u=t+20,d=a.firstCreatePass?lu(a,u,1,n,null):a.data[u],_=s[u]=function(t,n){return mr(t)?t.createText(n):t.createTextNode(n)}(s[11],n);au(a,s,_,d),Wi(d,!1)}function oy(t){return Qg("",t,""),oy}function Qg(t,n,s){const a=ht(),u=Hl(a,t,n,s);return u!==ir&&Ha(a,ei(),u),Qg}function ay(t,n,s,a,u){const d=ht(),_=Pu(d,t,n,s,a,u);return _!==ir&&Ha(d,ei(),_),ay}const ed=void 0;var pE=["en",[["a","p"],["AM","PM"],ed],[["AM","PM"],ed,ed],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ed,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ed,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ed,"{1} 'at' {0}",ed],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){const s=Math.floor(Math.abs(t)),a=t.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===a?1:5}];let ch={};function gE(t,n,s){"string"!=typeof n&&(s=n,n=t[qn.LocaleId]),n=n.toLowerCase().replace(/_/g,"-"),ch[n]=t,s&&(ch[n][qn.ExtraData]=s)}function uy(t){const n=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let s=B_(n);if(s)return s;const a=n.split("-")[0];if(s=B_(a),s)return s;if("en"===a)return pE;throw new Error(`Missing locale data for the locale "${t}".`)}function U_(t){return uy(t)[qn.PluralCase]}function B_(t){return t in ch||(ch[t]=Fn.ng&&Fn.ng.common&&Fn.ng.common.locales&&Fn.ng.common.locales[t]),ch[t]}var qn=(()=>((qn=qn||{})[qn.LocaleId=0]="LocaleId",qn[qn.DayPeriodsFormat=1]="DayPeriodsFormat",qn[qn.DayPeriodsStandalone=2]="DayPeriodsStandalone",qn[qn.DaysFormat=3]="DaysFormat",qn[qn.DaysStandalone=4]="DaysStandalone",qn[qn.MonthsFormat=5]="MonthsFormat",qn[qn.MonthsStandalone=6]="MonthsStandalone",qn[qn.Eras=7]="Eras",qn[qn.FirstDayOfWeek=8]="FirstDayOfWeek",qn[qn.WeekendRange=9]="WeekendRange",qn[qn.DateFormat=10]="DateFormat",qn[qn.TimeFormat=11]="TimeFormat",qn[qn.DateTimeFormat=12]="DateTimeFormat",qn[qn.NumberSymbols=13]="NumberSymbols",qn[qn.NumberFormats=14]="NumberFormats",qn[qn.CurrencyCode=15]="CurrencyCode",qn[qn.CurrencySymbol=16]="CurrencySymbol",qn[qn.CurrencyName=17]="CurrencyName",qn[qn.Currencies=18]="Currencies",qn[qn.Directionality=19]="Directionality",qn[qn.PluralCase=20]="PluralCase",qn[qn.ExtraData=21]="ExtraData",qn))();const Jg="en-US";let V_=Jg;function dy(t,n,s,a,u){if(t=te(t),Array.isArray(t))for(let d=0;d<t.length;d++)dy(t[d],n,s,a,u);else{const d=Yn(),_=ht();let D=Vl(t)?t:te(t.provide),O=Zd(t);const B=Wn(),Q=1048575&B.providerIndexes,ve=B.directiveStart,$e=B.providerIndexes>>20;if(Vl(t)||!t.multi){const tt=new Go(O,u,Qc),_t=fy(D,n,u?Q:Q+$e,ve);-1===_t?(Bt(X(B,_),d,D),hy(d,t,n.length),n.push(D),B.directiveStart++,B.directiveEnd++,u&&(B.providerIndexes+=1048576),s.push(tt),_.push(tt)):(s[_t]=tt,_[_t]=tt)}else{const tt=fy(D,n,Q+$e,ve),_t=fy(D,n,Q,Q+$e),Ut=tt>=0&&s[tt],Jt=_t>=0&&s[_t];if(u&&!Jt||!u&&!Ut){Bt(X(B,_),d,D);const wn=function(t,n,s,a,u){const d=new Go(t,s,Qc);return d.multi=[],d.index=n,d.componentProviders=0,cv(d,u,a&&!s),d}(u?fT:hT,s.length,u,a,O);!u&&Jt&&(s[_t].providerFactory=wn),hy(d,t,n.length,0),n.push(D),B.directiveStart++,B.directiveEnd++,u&&(B.providerIndexes+=1048576),s.push(wn),_.push(wn)}else hy(d,t,tt>-1?tt:_t,cv(s[u?_t:tt],O,!u&&a));!u&&a&&Jt&&s[_t].componentProviders++}}}function hy(t,n,s,a){const u=Vl(n),d=function(t){return!!t.useClass}(n);if(u||d){const O=(d?te(n.useClass):n).prototype.ngOnDestroy;if(O){const B=t.destroyHooks||(t.destroyHooks=[]);if(!u&&n.multi){const Q=B.indexOf(s);-1===Q?B.push(s,[a,O]):B[Q+1].push(a,O)}else B.push(s,O)}}}function cv(t,n,s){return s&&t.componentProviders++,t.multi.push(n)-1}function fy(t,n,s,a){for(let u=s;u<a;u++)if(n[u]===t)return u;return-1}function hT(t,n,s,a){return py(this.multi,[])}function fT(t,n,s,a){const u=this.multi;let d;if(this.providerFactory){const _=this.providerFactory.componentProviders,D=Xi(s,s[1],this.providerFactory.index,a);d=D.slice(0,_),py(u,d);for(let O=_;O<D.length;O++)d.push(D[O])}else d=[],py(u,d);return d}function py(t,n){for(let s=0;s<t.length;s++)n.push((0,t[s])());return n}function dv(t,n=[]){return s=>{s.providersResolver=(a,u)=>function(t,n,s){const a=Yn();if(a.firstCreatePass){const u=$r(t);dy(s,a.data,a.blueprint,u,!0),dy(n,a.data,a.blueprint,u,!1)}}(a,u?u(t):t,n)}}class hv{}class yT{resolveComponentFactory(n){throw function(t){const n=Error(`No component factory found for ${W(t)}. Did you add it to @NgModule.entryComponents?`);return n.ngComponent=t,n}(n)}}let fp=(()=>{class t{}return t.NULL=new yT,t})();function _T(){return hh(Wn(),ht())}function hh(t,n){return new pp(ke(t,n))}let pp=(()=>{class t{constructor(s){this.nativeElement=s}}return t.__NG_ELEMENT_ID__=_T,t})();function vT(t){return t instanceof pp?t.nativeElement:t}class pv{}let ET=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>function(){const t=ht(),s=Zn(Wn().index,t);return function(t){return t[11]}(zt(s)?s:t)}(),t})(),IT=(()=>{class t{}return t.\u0275prov=Bn({token:t,providedIn:"root",factory:()=>null}),t})();class gv{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const mv=new gv("13.1.1"),gy={};function rm(t,n,s,a,u=!1){for(;null!==s;){const d=n[s.index];if(null!==d&&a.push(R(d)),Kn(d))for(let D=10;D<d.length;D++){const O=d[D],B=O[1].firstChild;null!==B&&rm(O[1],O,B,a)}const _=s.type;if(8&_)rm(t,n,s.child,a);else if(32&_){const D=fn(s,n);let O;for(;O=D();)a.push(O)}else if(16&_){const D=Rp(n,s);if(Array.isArray(D))a.push(...D);else{const O=ri(n[16]);rm(O[1],O,D,a,!0)}}s=u?s.projectionNext:s.next}return a}class gp{constructor(n,s){this._lView=n,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const n=this._lView,s=n[1];return rm(s,n,s.firstChild,[])}get context(){return this._lView[8]}set context(n){this._lView[8]=n}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[3];if(Kn(n)){const s=n[8],a=s?s.indexOf(this):-1;a>-1&&(wc(n,a),yr(s,a))}this._attachedToViewContainer=!1}Rh(this._lView[1],this._lView)}onDestroy(n){Fd(this._lView[1],this._lView,null,n)}markForCheck(){Nc(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Hd(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,n,s){fo(!0);try{Hd(t,n,s)}finally{fo(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var n;this._appRef=null,Au(this._lView[1],n=this._lView,n[11],2,null,null)}attachToAppRef(n){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=n}}class DT extends gp{constructor(n){super(n),this._view=n}detectChanges(){tg(this._view)}checkNoChanges(){!function(t){fo(!0);try{tg(t)}finally{fo(!1)}}(this._view)}get context(){return null}}class yv extends fp{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const s=rt(n);return new my(s,this.ngModule)}}function _v(t){const n=[];for(let s in t)t.hasOwnProperty(s)&&n.push({propName:t[s],templateName:s});return n}const bT=new g("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>yd});class my extends hv{constructor(n,s){super(),this.componentDef=n,this.ngModule=s,this.componentType=n.type,this.selector=n.selectors.map(Fl).join(","),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!s}get inputs(){return _v(this.componentDef.inputs)}get outputs(){return _v(this.componentDef.outputs)}create(n,s,a,u){const d=(u=u||this.ngModule)?function(t,n){return{get:(s,a,u)=>{const d=t.get(s,gy,u);return d!==gy||a===gy?d:n.get(s,a,u)}}}(n,u.injector):n,_=d.get(pv,us),D=d.get(IT,null),O=_.createRenderer(null,this.componentDef),B=this.componentDef.selectors[0][0]||"div",Q=a?function(t,n,s){if(mr(t))return t.selectRootElement(n,s===Lt.ShadowDom);let a="string"==typeof n?t.querySelector(n):n;return a.textContent="",a}(O,a,this.componentDef.encapsulation):Pl(_.createRenderer(null,this.componentDef),B,function(t){const n=t.toLowerCase();return"svg"===n?"http://www.w3.org/2000/svg":"math"===n?"http://www.w3.org/1998/MathML/":null}(B)),ve=this.componentDef.onPush?576:528,$e=function(t,n){return{components:[],scheduler:t||yd,clean:Ef,playerHandler:n||null,flags:0}}(),tt=kd(0,null,null,1,0,null,null,null,null,null),_t=ol(null,tt,$e,ve,null,null,_,O,D,d);let Ut,Jt;Ro(_t);try{const wn=function(t,n,s,a,u,d){const _=s[1];s[20]=t;const O=lu(_,20,2,"#host",null),B=O.mergedAttrs=n.hostAttrs;null!==B&&(Bl(O,B,!0),null!==t&&(Pt(u,t,B),null!==O.classes&&kl(u,t,O.classes),null!==O.styles&&Ll(u,t,O.styles)));const Q=a.createRenderer(t,n),ve=ol(s,Ld(n),null,n.onPush?64:16,s[20],O,a,Q,d||null,null);return _.firstCreatePass&&(Bt(X(O,s),_,n.type),Vd(_,O),gf(O,s.length,1)),$d(s,ve),s[20]=ve}(Q,this.componentDef,_t,_,O);if(Q)if(a)Pt(O,Q,["ng-version",mv.full]);else{const{attrs:wt,classes:Un}=function(t){const n=[],s=[];let a=1,u=2;for(;a<t.length;){let d=t[a];if("string"==typeof d)2===u?""!==d&&n.push(d,t[++a]):8===u&&s.push(d);else{if(!sa(u))break;u=d}a++}return{attrs:n,classes:s}}(this.componentDef.selectors[0]);wt&&Pt(O,Q,wt),Un&&Un.length>0&&kl(O,Q,Un.join(" "))}if(Jt=Tt(tt,20),void 0!==s){const wt=Jt.projection=[];for(let Un=0;Un<this.ngContentSelectors.length;Un++){const Or=s[Un];wt.push(null!=Or?Array.from(Or):null)}}Ut=function(t,n,s,a,u){const d=s[1],_=function(t,n,s){const a=Wn();t.firstCreatePass&&(s.providersResolver&&s.providersResolver(s),Yp(t,a,n,al(t,n,1,null),s));const u=Xi(n,t,a.directiveStart,a);vi(u,n);const d=ke(a,n);return d&&vi(d,n),u}(d,s,n);if(a.components.push(_),t[8]=_,u&&u.forEach(O=>O(_,n)),n.contentQueries){const O=Wn();n.contentQueries(1,_,O.directiveStart)}const D=Wn();return!d.firstCreatePass||null===n.hostBindings&&null===n.hostAttrs||(zs(D.index),Bd(s[1],D,0,D.directiveStart,D.directiveEnd,n),qp(n,_)),_}(wn,this.componentDef,_t,$e,[Bm]),$a(tt,_t,null)}finally{yo()}return new OT(this.componentType,Ut,hh(Jt,_t),_t,Jt)}}class OT extends class{}{constructor(n,s,a,u,d){super(),this.location=a,this._rootLView=u,this._tNode=d,this.instance=s,this.hostView=this.changeDetectorRef=new DT(u),this.componentType=n}get injector(){return new ha(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}class fh{}class vv{}const ph=new Map;class wv extends fh{constructor(n,s){super(),this._parent=s,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new yv(this);const a=En(n);this._bootstrapComponents=h(a.bootstrap),this._r3Injector=sg(n,s,[{provide:fh,useValue:this},{provide:fp,useValue:this.componentFactoryResolver}],W(n)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(n)}get(n,s=Uo.THROW_IF_NOT_FOUND,a=Xt.Default){return n===Uo||n===fh||n===kc?this:this._r3Injector.get(n,s,a)}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class yy extends vv{constructor(n){super(),this.moduleType=n,null!==En(n)&&function(t){const n=new Set;!function s(a){const u=En(a,!0),d=u.id;null!==d&&(function(t,n,s){if(n&&n!==s)throw new Error(`Duplicate module registered for ${t} - ${W(n)} vs ${W(n.name)}`)}(d,ph.get(d),a),ph.set(d,a));const _=h(u.imports);for(const D of _)n.has(D)||(n.add(D),s(D))}(t)}(n)}create(n){return new wv(this.moduleType,n)}}function Iv(t,n,s){const a=Fi()+t,u=ht();return u[a]===ir?jr(u,a,s?n.call(s):n()):rs(u,a)}function Dv(t,n,s,a){return Pv(ht(),Fi(),t,n,s,a)}function Cv(t,n,s,a,u){return Nv(ht(),Fi(),t,n,s,a,u)}function bv(t,n,s,a,u,d){return xv(ht(),Fi(),t,n,s,a,u,d)}function Av(t,n,s,a,u,d,_){return function(t,n,s,a,u,d,_,D,O){const B=n+s;return Bo(t,B,u,d,_,D)?jr(t,B+4,O?a.call(O,u,d,_,D):a(u,d,_,D)):mp(t,B+4)}(ht(),Fi(),t,n,s,a,u,d,_)}function Sv(t,n,s,a,u,d,_,D){const O=Fi()+t,B=ht(),Q=Bo(B,O,s,a,u,d);return Ei(B,O+4,_)||Q?jr(B,O+5,D?n.call(D,s,a,u,d,_):n(s,a,u,d,_)):rs(B,O+5)}function Ov(t,n,s,a,u,d,_,D,O){const B=Fi()+t,Q=ht(),ve=Bo(Q,B,s,a,u,d);return cl(Q,B+4,_,D)||ve?jr(Q,B+6,O?n.call(O,s,a,u,d,_,D):n(s,a,u,d,_,D)):rs(Q,B+6)}function Rv(t,n,s,a,u,d,_,D,O,B){const Q=Fi()+t,ve=ht();let $e=Bo(ve,Q,s,a,u,d);return Jd(ve,Q+4,_,D,O)||$e?jr(ve,Q+7,B?n.call(B,s,a,u,d,_,D,O):n(s,a,u,d,_,D,O)):rs(ve,Q+7)}function Mv(t,n,s,a){return function(t,n,s,a,u,d){let _=n+s,D=!1;for(let O=0;O<u.length;O++)Ei(t,_++,u[O])&&(D=!0);return D?jr(t,_,a.apply(d,u)):mp(t,_)}(ht(),Fi(),t,n,s,a)}function mp(t,n){const s=t[n];return s===ir?void 0:s}function Pv(t,n,s,a,u,d){const _=n+s;return Ei(t,_,u)?jr(t,_+1,d?a.call(d,u):a(u)):mp(t,_+1)}function Nv(t,n,s,a,u,d,_){const D=n+s;return cl(t,D,u,d)?jr(t,D+2,_?a.call(_,u,d):a(u,d)):mp(t,D+2)}function xv(t,n,s,a,u,d,_,D){const O=n+s;return Jd(t,O,u,d,_)?jr(t,O+3,D?a.call(D,u,d,_):a(u,d,_)):mp(t,O+3)}function Fv(t,n){const s=Yn();let a;const u=t+20;s.firstCreatePass?(a=function(t,n){if(n)for(let s=n.length-1;s>=0;s--){const a=n[s];if(t===a.name)return a}}(n,s.pipeRegistry),s.data[u]=a,a.onDestroy&&(s.destroyHooks||(s.destroyHooks=[])).push(u,a.onDestroy)):a=s.data[u];const d=a.factory||(a.factory=Ri(a.type)),_=ar(Qc);try{const D=Qr(!1),O=d();return Qr(D),function(t,n,s,a){s>=t.data.length&&(t.data[s]=null,t.blueprint[s]=null),n[s]=a}(s,ht(),u,O),O}finally{ar(_)}}function Uv(t,n,s){const a=t+20,u=ht(),d=Yt(u,a);return yp(u,a)?Pv(u,Fi(),n,d.transform,s,d):d.transform(s)}function Bv(t,n,s,a){const u=t+20,d=ht(),_=Yt(d,u);return yp(d,u)?Nv(d,Fi(),n,_.transform,s,a,_):_.transform(s,a)}function Vv(t,n,s,a,u){const d=t+20,_=ht(),D=Yt(_,d);return yp(_,d)?xv(_,Fi(),n,D.transform,s,a,u,D):D.transform(s,a,u)}function yp(t,n){return t[1].data[n].pure}function _y(t){return n=>{setTimeout(t,void 0,n)}}const Fu=class extends f.x{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,s,a){var u,d,_;let D=n,O=s||(()=>null),B=a;if(n&&"object"==typeof n){const ve=n;D=null===(u=ve.next)||void 0===u?void 0:u.bind(ve),O=null===(d=ve.error)||void 0===d?void 0:d.bind(ve),B=null===(_=ve.complete)||void 0===_?void 0:_.bind(ve)}this.__isAsync&&(O=_y(O),D&&(D=_y(D)),B&&(B=_y(B)));const Q=super.subscribe({next:D,error:O,complete:B});return n instanceof C.w0&&n.add(Q),Q}};function FT(){return this._results[cu()]()}class vy{constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=cu(),a=vy.prototype;a[s]||(a[s]=FT)}get changes(){return this._changes||(this._changes=new Fu)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,s){return this._results.reduce(n,s)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,s){const a=this;a.dirty=!1;const u=cn(n);(this._changesDetected=!function(t,n,s){if(t.length!==n.length)return!1;for(let a=0;a<t.length;a++){let u=t[a],d=n[a];if(s&&(u=s(u),d=s(d)),d!==u)return!1}return!0}(a._results,u,s))&&(a._results=u,a.length=u.length,a.last=u[this.length-1],a.first=u[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let _p=(()=>{class t{}return t.__NG_ELEMENT_ID__=VT,t})();const UT=_p,BT=class extends UT{constructor(n,s,a){super(),this._declarationLView=n,this._declarationTContainer=s,this.elementRef=a}createEmbeddedView(n){const s=this._declarationTContainer.tViews,a=ol(this._declarationLView,s,n,16,null,s.declTNode,null,null,null,null);a[17]=this._declarationLView[this._declarationTContainer.index];const d=this._declarationLView[19];return null!==d&&(a[19]=d.createEmbeddedView(s)),$a(s,a,n),new gp(a)}};function VT(){return im(Wn(),ht())}function im(t,n){return 4&t.type?new BT(n,t,hh(t,n)):null}let sm=(()=>{class t{}return t.__NG_ELEMENT_ID__=jT,t})();function jT(){return Hv(Wn(),ht())}const $T=sm,jv=class extends $T{constructor(n,s,a){super(),this._lContainer=n,this._hostTNode=s,this._hostLView=a}get element(){return hh(this._hostTNode,this._hostLView)}get injector(){return new ha(this._hostTNode,this._hostLView)}get parentInjector(){const n=ct(this._hostTNode,this._hostLView);if(Nn(n)){const s=nt(n,this._hostLView),a=Ji(n);return new ha(s[1].data[a+8],s)}return new ha(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const s=$v(this._lContainer);return null!==s&&s[n]||null}get length(){return this._lContainer.length-10}createEmbeddedView(n,s,a){const u=n.createEmbeddedView(s||{});return this.insert(u,a),u}createComponent(n,s,a,u,d){const _=n&&!("function"==typeof n);let D;if(_)D=s;else{const ve=s||{};D=ve.index,a=ve.injector,u=ve.projectableNodes,d=ve.ngModuleRef}const O=_?n:new my(rt(n)),B=a||this.parentInjector;if(!d&&null==O.ngModule&&B){const ve=B.get(fh,null);ve&&(d=ve)}const Q=O.create(B,u,void 0,d);return this.insert(Q.hostView,D),Q}insert(n,s){const a=n._lView,u=a[1];if(Kn(a[3])){const Q=this.indexOf(n);if(-1!==Q)this.detach(Q);else{const ve=a[3],$e=new jv(ve,ve[6],ve[3]);$e.detach($e.indexOf(n))}}const d=this._adjustIndex(s),_=this._lContainer;!function(t,n,s,a){const u=10+a,d=s.length;a>0&&(s[u-1][4]=n),a<d-10?(n[4]=s[u],Lr(s,10+a,n)):(s.push(n),n[4]=null),n[3]=s;const _=n[17];null!==_&&s!==_&&function(t,n){const s=t[9];n[16]!==n[3][3][16]&&(t[2]=!0),null===s?t[9]=[n]:s.push(n)}(_,n);const D=n[19];null!==D&&D.insertView(t),n[2]|=128}(u,a,_,d);const D=Nh(d,_),O=a[11],B=xl(O,_[7]);return null!==B&&function(t,n,s,a,u,d){a[0]=u,a[6]=n,Au(t,a,s,1,u,d)}(u,_[6],O,a,B,D),n.attachToViewContainerRef(),Lr(Ey(_),d,n),n}move(n,s){return this.insert(n,s)}indexOf(n){const s=$v(this._lContainer);return null!==s?s.indexOf(n):-1}remove(n){const s=this._adjustIndex(n,-1),a=wc(this._lContainer,s);a&&(yr(Ey(this._lContainer),s),Rh(a[1],a))}detach(n){const s=this._adjustIndex(n,-1),a=wc(this._lContainer,s);return a&&null!=yr(Ey(this._lContainer),s)?new gp(a):null}_adjustIndex(n,s=0){return null==n?this.length+s:n}};function $v(t){return t[8]}function Ey(t){return t[8]||(t[8]=[])}function Hv(t,n){let s;const a=n[t.index];if(Kn(a))s=a;else{let u;if(8&t.type)u=R(a);else{const d=n[11];u=d.createComment("");const _=ke(t,n);ia(d,xl(d,_),u,function(t,n){return mr(t)?t.nextSibling(n):n.nextSibling}(d,_),!1)}n[t.index]=s=Xp(a,n,u,t),$d(n,s)}return new jv(s,t,n)}class Ty{constructor(n){this.queryList=n,this.matches=null}clone(){return new Ty(this.queryList)}setDirty(){this.queryList.setDirty()}}class wy{constructor(n=[]){this.queries=n}createEmbeddedView(n){const s=n.queries;if(null!==s){const a=null!==n.contentQueries?n.contentQueries[0]:s.length,u=[];for(let d=0;d<a;d++){const _=s.getByIndex(d);u.push(this.queries[_.indexInDeclarationView].clone())}return new wy(u)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let s=0;s<this.queries.length;s++)null!==Jv(n,s).matches&&this.queries[s].setDirty()}}class Wv{constructor(n,s,a=null){this.predicate=n,this.flags=s,this.read=a}}class Iy{constructor(n=[]){this.queries=n}elementStart(n,s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(n,s)}elementEnd(n){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(n)}embeddedTView(n){let s=null;for(let a=0;a<this.length;a++){const u=null!==s?s.length:0,d=this.getByIndex(a).embeddedTView(n,u);d&&(d.indexInDeclarationView=a,null!==s?s.push(d):s=[d])}return null!==s?new Iy(s):null}template(n,s){for(let a=0;a<this.queries.length;a++)this.queries[a].template(n,s)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class Dy{constructor(n,s=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(n,s){this.isApplyingToNode(s)&&this.matchTNode(n,s)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,s){this.elementStart(n,s)}embeddedTView(n,s){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,s),new Dy(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let a=n.parent;for(;null!==a&&8&a.type&&a.index!==s;)a=a.parent;return s===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(n,s){const a=this.metadata.predicate;if(Array.isArray(a))for(let u=0;u<a.length;u++){const d=a[u];this.matchTNodeWithReadOption(n,s,zT(s,d)),this.matchTNodeWithReadOption(n,s,vs(s,n,d,!1,!1))}else a===_p?4&s.type&&this.matchTNodeWithReadOption(n,s,-1):this.matchTNodeWithReadOption(n,s,vs(s,n,a,!1,!1))}matchTNodeWithReadOption(n,s,a){if(null!==a){const u=this.metadata.read;if(null!==u)if(u===pp||u===sm||u===_p&&4&s.type)this.addMatch(s.index,-2);else{const d=vs(s,n,u,!1,!1);null!==d&&this.addMatch(s.index,d)}else this.addMatch(s.index,a)}}addMatch(n,s){null===this.matches?this.matches=[n,s]:this.matches.push(n,s)}}function zT(t,n){const s=t.localNames;if(null!==s)for(let a=0;a<s.length;a+=2)if(s[a]===n)return s[a+1];return null}function KT(t,n,s,a){return-1===s?function(t,n){return 11&t.type?hh(t,n):4&t.type?im(t,n):null}(n,t):-2===s?function(t,n,s){return s===pp?hh(n,t):s===_p?im(n,t):s===sm?Hv(n,t):void 0}(t,n,a):Xi(t,t[1],s,n)}function zv(t,n,s,a){const u=n[19].queries[a];if(null===u.matches){const d=t.data,_=s.matches,D=[];for(let O=0;O<_.length;O+=2){const B=_[O];D.push(B<0?null:KT(n,d[B],_[O+1],s.metadata.read))}u.matches=D}return u.matches}function Cy(t,n,s,a){const u=t.queries.getByIndex(s),d=u.matches;if(null!==d){const _=zv(t,n,u,s);for(let D=0;D<d.length;D+=2){const O=d[D];if(O>0)a.push(_[D/2]);else{const B=d[D+1],Q=n[-O];for(let ve=10;ve<Q.length;ve++){const $e=Q[ve];$e[17]===$e[3]&&Cy($e[1],$e,B,a)}if(null!==Q[9]){const ve=Q[9];for(let $e=0;$e<ve.length;$e++){const tt=ve[$e];Cy(tt[1],tt,B,a)}}}}}return a}function Gv(t){const n=ht(),s=Yn(),a=no();za(a+1);const u=Jv(s,a);if(t.dirty&&wr(n)===(2==(2&u.metadata.flags))){if(null===u.matches)t.reset([]);else{const d=u.crossesNgTemplate?Cy(s,n,a,[]):zv(s,n,u,a);t.reset(d,vT),t.notifyOnChanges()}return!0}return!1}function Kv(t,n,s){const a=Yn();a.firstCreatePass&&(Qv(a,new Wv(t,n,s),-1),2==(2&n)&&(a.staticViewQueries=!0)),Yv(a,ht(),n)}function Zv(t,n,s,a){const u=Yn();if(u.firstCreatePass){const d=Wn();Qv(u,new Wv(n,s,a),d.index),function(t,n){const s=t.contentQueries||(t.contentQueries=[]);n!==(s.length?s[s.length-1]:-1)&&s.push(t.queries.length-1,n)}(u,t),2==(2&s)&&(u.staticContentQueries=!0)}Yv(u,ht(),s)}function qv(){return t=ht(),n=no(),t[19].queries[n].queryList;var t,n}function Yv(t,n,s){const a=new vy(4==(4&s));Fd(t,n,a,a.destroy),null===n[19]&&(n[19]=new wy),n[19].queries.push(new Ty(a))}function Qv(t,n,s){null===t.queries&&(t.queries=new Iy),t.queries.track(new Dy(n,s))}function Jv(t,n){return t.queries.getByIndex(n)}function Xv(t,n){return im(t,n)}function um(...t){}const My=new g("Application Initializer");let mh=(()=>{class t{constructor(s){this.appInits=s,this.resolve=um,this.reject=um,this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,u)=>{this.resolve=a,this.reject=u})}runInitializers(){if(this.initialized)return;const s=[],a=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let u=0;u<this.appInits.length;u++){const d=this.appInits[u]();if(ih(d))s.push(d);else if(np(d)){const _=new Promise((D,O)=>{d.subscribe({complete:D,error:O})});s.push(_)}}Promise.all(s).then(()=>{a()}).catch(u=>{this.reject(u)}),0===s.length&&a(),this.initialized=!0}}return t.\u0275fac=function(s){return new(s||t)(yi(My,8))},t.\u0275prov=Bn({token:t,factory:t.\u0275fac}),t})();const y0=new g("AppId"),pw={provide:y0,useFactory:function(){return`${Py()}${Py()}${Py()}`},deps:[]};function Py(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const _0=new g("Platform Initializer"),v0=new g("Platform ID"),E0=new g("appBootstrapListener");let T0=(()=>{class t{log(s){console.log(s)}warn(s){console.warn(s)}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=Bn({token:t,factory:t.\u0275fac}),t})();const lm=new g("LocaleId"),w0=new g("DefaultCurrencyCode");class gw{constructor(n,s){this.ngModuleFactory=n,this.componentFactories=s}}let Ny=(()=>{class t{compileModuleSync(s){return new yy(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const a=this.compileModuleSync(s),d=h(En(s).declarations).reduce((_,D)=>{const O=rt(D);return O&&_.push(new my(O)),_},[]);return new gw(a,d)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=Bn({token:t,factory:t.\u0275fac}),t})();const yw=(()=>Promise.resolve(0))();function xy(t){"undefined"==typeof Zone?yw.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class wa{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Fu(!1),this.onMicrotaskEmpty=new Fu(!1),this.onStable=new Fu(!1),this.onError=new Fu(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const u=this;u._nesting=0,u._outer=u._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(u._inner=u._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(u._inner=u._inner.fork(Zone.longStackTraceZoneSpec)),u.shouldCoalesceEventChangeDetection=!a&&s,u.shouldCoalesceRunChangeDetection=a,u.lastRequestAnimationFrameId=-1,u.nativeRequestAnimationFrame=function(){let t=Fn.requestAnimationFrame,n=Fn.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&n){const s=t[Zone.__symbol__("OriginalDelegate")];s&&(t=s);const a=n[Zone.__symbol__("OriginalDelegate")];a&&(n=a)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function(t){const n=()=>{!function(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Fn,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,ky(t),t.isCheckStableRunning=!0,Ly(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),ky(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,a,u,d,_,D)=>{try{return I0(t),s.invokeTask(u,d,_,D)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===d.type||t.shouldCoalesceRunChangeDetection)&&n(),D0(t)}},onInvoke:(s,a,u,d,_,D,O)=>{try{return I0(t),s.invoke(u,d,_,D,O)}finally{t.shouldCoalesceRunChangeDetection&&n(),D0(t)}},onHasTask:(s,a,u,d)=>{s.hasTask(u,d),a===u&&("microTask"==d.change?(t._hasPendingMicrotasks=d.microTask,ky(t),Ly(t)):"macroTask"==d.change&&(t.hasPendingMacrotasks=d.macroTask))},onHandleError:(s,a,u,d)=>(s.handleError(u,d),t.runOutsideAngular(()=>t.onError.emit(d)),!1)})}(u)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!wa.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(wa.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(n,s,a){return this._inner.run(n,s,a)}runTask(n,s,a,u){const d=this._inner,_=d.scheduleEventTask("NgZoneEvent: "+u,n,vw,um,um);try{return d.runTask(_,s,a)}finally{d.cancelTask(_)}}runGuarded(n,s,a){return this._inner.runGuarded(n,s,a)}runOutsideAngular(n){return this._outer.run(n)}}const vw={};function Ly(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function ky(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function I0(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function D0(t){t._nesting--,Ly(t)}class ww{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Fu,this.onMicrotaskEmpty=new Fu,this.onStable=new Fu,this.onError=new Fu}run(n,s,a){return n.apply(s,a)}runGuarded(n,s,a){return n.apply(s,a)}runOutsideAngular(n){return n()}runTask(n,s,a,u){return n.apply(s,a)}}let C0=(()=>{class t{constructor(s){this._ngZone=s,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{wa.assertNotInAngularZone(),xy(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())xy(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(s)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,a,u){let d=-1;a&&a>0&&(d=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==d),s(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:s,timeoutId:d,updateCb:u})}whenStable(s,a,u){if(u&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,a,u),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(s,a,u){return[]}}return t.\u0275fac=function(s){return new(s||t)(yi(wa))},t.\u0275prov=Bn({token:t,factory:t.\u0275fac}),t})(),b0=(()=>{class t{constructor(){this._applications=new Map,Fy.addToWindow(this)}registerApplication(s,a){this._applications.set(s,a)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,a=!0){return Fy.findTestabilityInTree(this,s,a)}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=Bn({token:t,factory:t.\u0275fac}),t})();class Iw{addToWindow(n){}findTestabilityInTree(n,s,a){return null}}function Dw(t){Fy=t}let pu,Fy=new Iw;const A0=new g("AllowMultipleToken");class Sw{constructor(n,s){this.name=n,this.token=s}}function S0(t,n,s=[]){const a=`Platform: ${n}`,u=new g(a);return(d=[])=>{let _=O0();if(!_||_.injector.get(A0,!1))if(t)t(s.concat(d).concat({provide:u,useValue:!0}));else{const D=s.concat(d).concat({provide:u,useValue:!0},{provide:Fc,useValue:"platform"});!function(t){if(pu&&!pu.destroyed&&!pu.injector.get(A0,!1))throw new Ye("400","");pu=t.get(R0);const n=t.get(_0,null);n&&n.forEach(s=>s())}(Uo.create({providers:D,name:a}))}return function(t){const n=O0();if(!n)throw new Ye("401","");return n}()}}function O0(){return pu&&!pu.destroyed?pu:null}let R0=(()=>{class t{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,a){const D=function(t,n){let s;return s="noop"===t?new ww:("zone.js"===t?void 0:t)||new wa({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==n?void 0:n.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==n?void 0:n.ngZoneRunCoalescing)}),s}(a?a.ngZone:void 0,{ngZoneEventCoalescing:a&&a.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:a&&a.ngZoneRunCoalescing||!1}),O=[{provide:wa,useValue:D}];return D.run(()=>{const B=Uo.create({providers:O,parent:this.injector,name:s.moduleType.name}),Q=s.create(B),ve=Q.injector.get(Fr,null);if(!ve)throw new Ye("402","");return D.runOutsideAngular(()=>{const $e=D.onError.subscribe({next:tt=>{ve.handleError(tt)}});Q.onDestroy(()=>{Uy(this._modules,Q),$e.unsubscribe()})}),function(t,n,s){try{const a=s();return ih(a)?a.catch(u=>{throw n.runOutsideAngular(()=>t.handleError(u)),u}):a}catch(a){throw n.runOutsideAngular(()=>t.handleError(a)),a}}(ve,D,()=>{const $e=Q.injector.get(mh);return $e.runInitializers(),$e.donePromise.then(()=>(function(t){kt(t,"Expected localeId to be defined"),"string"==typeof t&&(V_=t.toLowerCase().replace(/_/g,"-"))}(Q.injector.get(lm,Jg)||Jg),this._moduleDoBootstrap(Q),Q))})})}bootstrapModule(s,a=[]){const u=M0({},a);return function(t,n,s){const a=new yy(s);return Promise.resolve(a)}(0,0,s).then(d=>this.bootstrapModuleFactory(d,u))}_moduleDoBootstrap(s){const a=s.injector.get(Ep);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(u=>a.bootstrap(u));else{if(!s.instance.ngDoBootstrap)throw new Ye("403","");s.instance.ngDoBootstrap(a)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ye("404","");this._modules.slice().forEach(s=>s.destroy()),this._destroyListeners.forEach(s=>s()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(s){return new(s||t)(yi(Uo))},t.\u0275prov=Bn({token:t,factory:t.\u0275fac}),t})();function M0(t,n){return Array.isArray(n)?n.reduce(M0,t):Object.assign(Object.assign({},t),n)}let Ep=(()=>{class t{constructor(s,a,u,d,_){this._zone=s,this._injector=a,this._exceptionHandler=u,this._componentFactoryResolver=d,this._initStatus=_,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const D=new $.y(B=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{B.next(this._stable),B.complete()})}),O=new $.y(B=>{let Q;this._zone.runOutsideAngular(()=>{Q=this._zone.onStable.subscribe(()=>{wa.assertNotInAngularZone(),xy(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,B.next(!0))})})});const ve=this._zone.onUnstable.subscribe(()=>{wa.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{B.next(!1)}))});return()=>{Q.unsubscribe(),ve.unsubscribe()}});this.isStable=(0,ce.T)(D,O.pipe((0,x.B)()))}bootstrap(s,a){if(!this._initStatus.done)throw new Ye("405","");let u;u=s instanceof hv?s:this._componentFactoryResolver.resolveComponentFactory(s),this.componentTypes.push(u.componentType);const d=function(t){return t.isBoundToModule}(u)?void 0:this._injector.get(fh),D=u.create(Uo.NULL,[],a||u.selector,d),O=D.location.nativeElement,B=D.injector.get(C0,null),Q=B&&D.injector.get(b0);return B&&Q&&Q.registerApplication(O,B),D.onDestroy(()=>{this.detachView(D.hostView),Uy(this.components,D),Q&&Q.unregisterApplication(O)}),this._loadComponent(D),D}tick(){if(this._runningTick)throw new Ye("101","");try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(s))}finally{this._runningTick=!1}}attachView(s){const a=s;this._views.push(a),a.attachToAppRef(this)}detachView(s){const a=s;Uy(this._views,a),a.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s),this._injector.get(E0,[]).concat(this._bootstrapListeners).forEach(u=>u(s))}ngOnDestroy(){this._views.slice().forEach(s=>s.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(s){return new(s||t)(yi(wa),yi(Uo),yi(Fr),yi(fp),yi(mh))},t.\u0275prov=Bn({token:t,factory:t.\u0275fac}),t})();function Uy(t,n){const s=t.indexOf(n);s>-1&&t.splice(s,1)}let N0=!0,x0=!1;function xw(){return x0=!0,N0}function Lw(){if(x0)throw new Error("Cannot enable prod mode after platform setup.");N0=!1}let kw=(()=>{class t{}return t.__NG_ELEMENT_ID__=Fw,t})();function Fw(t){return function(t,n,s){if(xn(t)&&!s){const a=Zn(t.index,n);return new gp(a,a)}return 47&t.type?new gp(n[16],n):null}(Wn(),ht(),16==(16&t))}class V0{constructor(){}supports(n){return $l(n)}create(n){return new Ww(n)}}const Hw=(t,n)=>n;class Ww{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||Hw}forEachItem(n){let s;for(s=this._itHead;null!==s;s=s._next)n(s)}forEachOperation(n){let s=this._itHead,a=this._removalsHead,u=0,d=null;for(;s||a;){const _=!a||s&&s.currentIndex<$0(a,u,d)?s:a,D=$0(_,u,d),O=_.currentIndex;if(_===a)u--,a=a._nextRemoved;else if(s=s._next,null==_.previousIndex)u++;else{d||(d=[]);const B=D-u,Q=O-u;if(B!=Q){for(let $e=0;$e<B;$e++){const tt=$e<d.length?d[$e]:d[$e]=0,_t=tt+$e;Q<=_t&&_t<B&&(d[$e]=tt+1)}d[_.previousIndex]=Q-B}}D!==O&&n(_,D,O)}}forEachPreviousItem(n){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)n(s)}forEachAddedItem(n){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)n(s)}forEachMovedItem(n){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)n(s)}forEachRemovedItem(n){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)n(s)}forEachIdentityChange(n){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)n(s)}diff(n){if(null==n&&(n=[]),!$l(n))throw new Error(`Error trying to diff '${W(n)}'. Only arrays and iterables are allowed`);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let u,d,_,s=this._itHead,a=!1;if(Array.isArray(n)){this.length=n.length;for(let D=0;D<this.length;D++)d=n[D],_=this._trackByFn(D,d),null!==s&&Object.is(s.trackById,_)?(a&&(s=this._verifyReinsertion(s,d,_,D)),Object.is(s.item,d)||this._addIdentityChange(s,d)):(s=this._mismatch(s,d,_,D),a=!0),s=s._next}else u=0,function(t,n){if(Array.isArray(t))for(let s=0;s<t.length;s++)n(t[s]);else{const s=t[cu()]();let a;for(;!(a=s.next()).done;)n(a.value)}}(n,D=>{_=this._trackByFn(u,D),null!==s&&Object.is(s.trackById,_)?(a&&(s=this._verifyReinsertion(s,D,_,u)),Object.is(s.item,D)||this._addIdentityChange(s,D)):(s=this._mismatch(s,D,_,u),a=!0),s=s._next,u++}),this.length=u;return this._truncate(s),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,s,a,u){let d;return null===n?d=this._itTail:(d=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(n.item,s)||this._addIdentityChange(n,s),this._reinsertAfter(n,d,u)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(a,u))?(Object.is(n.item,s)||this._addIdentityChange(n,s),this._moveAfter(n,d,u)):n=this._addAfter(new zw(s,a),d,u),n}_verifyReinsertion(n,s,a,u){let d=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==d?n=this._reinsertAfter(d,n._prev,u):n.currentIndex!=u&&(n.currentIndex=u,this._addToMoves(n,u)),n}_truncate(n){for(;null!==n;){const s=n._next;this._addToRemovals(this._unlink(n)),n=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,s,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const u=n._prevRemoved,d=n._nextRemoved;return null===u?this._removalsHead=d:u._nextRemoved=d,null===d?this._removalsTail=u:d._prevRemoved=u,this._insertAfter(n,s,a),this._addToMoves(n,a),n}_moveAfter(n,s,a){return this._unlink(n),this._insertAfter(n,s,a),this._addToMoves(n,a),n}_addAfter(n,s,a){return this._insertAfter(n,s,a),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,s,a){const u=null===s?this._itHead:s._next;return n._next=u,n._prev=s,null===u?this._itTail=n:u._prev=n,null===s?this._itHead=n:s._next=n,null===this._linkedRecords&&(this._linkedRecords=new j0),this._linkedRecords.put(n),n.currentIndex=a,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const s=n._prev,a=n._next;return null===s?this._itHead=a:s._next=a,null===a?this._itTail=s:a._prev=s,n}_addToMoves(n,s){return n.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new j0),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,s){return n.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class zw{constructor(n,s){this.item=n,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Gw{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,s){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===s||s<=a.currentIndex)&&Object.is(a.trackById,n))return a;return null}remove(n){const s=n._prevDup,a=n._nextDup;return null===s?this._head=a:s._nextDup=a,null===a?this._tail=s:a._prevDup=s,null===this._head}}class j0{constructor(){this.map=new Map}put(n){const s=n.trackById;let a=this.map.get(s);a||(a=new Gw,this.map.set(s,a)),a.add(n)}get(n,s){const u=this.map.get(n);return u?u.get(n,s):null}remove(n){const s=n.trackById;return this.map.get(s).remove(n)&&this.map.delete(s),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function $0(t,n,s){const a=t.previousIndex;if(null===a)return a;let u=0;return s&&a<s.length&&(u=s[a]),a+n+u}class H0{constructor(){}supports(n){return n instanceof Map||Vf(n)}create(){return new Kw}}class Kw{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let s;for(s=this._mapHead;null!==s;s=s._next)n(s)}forEachPreviousItem(n){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)n(s)}forEachChangedItem(n){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)n(s)}forEachAddedItem(n){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)n(s)}forEachRemovedItem(n){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)n(s)}diff(n){if(n){if(!(n instanceof Map||Vf(n)))throw new Error(`Error trying to diff '${W(n)}'. Only maps and objects are allowed`)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(n,(a,u)=>{if(s&&s.key===u)this._maybeAddToChanges(s,a),this._appendAfter=s,s=s._next;else{const d=this._getOrCreateRecordForKey(u,a);s=this._insertBeforeOrAppend(s,d)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let a=s;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,s){if(n){const a=n._prev;return s._next=n,s._prev=a,n._prev=s,a&&(a._next=s),n===this._mapHead&&(this._mapHead=s),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(n,s){if(this._records.has(n)){const u=this._records.get(n);this._maybeAddToChanges(u,s);const d=u._prev,_=u._next;return d&&(d._next=_),_&&(_._prev=d),u._next=null,u._prev=null,u}const a=new Zw(n);return this._records.set(n,a),a.currentValue=s,this._addToAdditions(a),a}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,s){Object.is(s,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=s,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,s){n instanceof Map?n.forEach(s):Object.keys(n).forEach(a=>s(n[a],a))}}class Zw{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function W0(){return new dm([new V0])}let dm=(()=>{class t{constructor(s){this.factories=s}static create(s,a){if(null!=a){const u=a.factories.slice();s=s.concat(u)}return new t(s)}static extend(s){return{provide:t,useFactory:a=>t.create(s,a||W0()),deps:[[t,new Xa,new pa]]}}find(s){const a=this.factories.find(u=>u.supports(s));if(null!=a)return a;throw new Error(`Cannot find a differ supporting object '${s}' of type '${function(t){return t.name||typeof t}(s)}'`)}}return t.\u0275prov=Bn({token:t,providedIn:"root",factory:W0}),t})();function z0(){return new hm([new H0])}let hm=(()=>{class t{constructor(s){this.factories=s}static create(s,a){if(a){const u=a.factories.slice();s=s.concat(u)}return new t(s)}static extend(s){return{provide:t,useFactory:a=>t.create(s,a||z0()),deps:[[t,new Xa,new pa]]}}find(s){const a=this.factories.find(u=>u.supports(s));if(a)return a;throw new Error(`Cannot find a differ supporting object '${s}'`)}}return t.\u0275prov=Bn({token:t,providedIn:"root",factory:z0}),t})();const Yw=[new H0],Jw=new dm([new V0]),Xw=new hm(Yw),eI=S0(null,"core",[{provide:v0,useValue:"unknown"},{provide:R0,deps:[Uo]},{provide:b0,deps:[]},{provide:T0,deps:[]}]),sI=[{provide:Ep,useClass:Ep,deps:[wa,Uo,Fr,fp,mh]},{provide:bT,deps:[wa],useFactory:function(t){let n=[];return t.onStable.subscribe(()=>{for(;n.length;)n.pop()()}),function(s){n.push(s)}}},{provide:mh,useClass:mh,deps:[[new pa,My]]},{provide:Ny,useClass:Ny,deps:[]},pw,{provide:dm,useFactory:function(){return Jw},deps:[]},{provide:hm,useFactory:function(){return Xw},deps:[]},{provide:lm,useFactory:function(t){return t||"undefined"!=typeof $localize&&$localize.locale||Jg},deps:[[new Ja(lm),new pa,new Xa]]},{provide:w0,useValue:"USD"}];let aI=(()=>{class t{constructor(s){}}return t.\u0275fac=function(s){return new(s||t)(yi(Ep))},t.\u0275mod=vn({type:t}),t.\u0275inj=qt({providers:sI}),t})()},2313:(gt,Ne,b)=>{"use strict";b.d(Ne,{b2:()=>bn,H7:()=>mt,Dx:()=>rr,ki:()=>xe,Cb:()=>Nr,q6:()=>cr,se:()=>He});var f=b(9808),C=b(5e3);class $ extends f.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ce extends ${static makeCurrent(){(0,f.HT)(new ce)}onAndCancel(Oe,pe,Ve){return Oe.addEventListener(pe,Ve,!1),()=>{Oe.removeEventListener(pe,Ve,!1)}}dispatchEvent(Oe,pe){Oe.dispatchEvent(pe)}remove(Oe){Oe.parentNode&&Oe.parentNode.removeChild(Oe)}createElement(Oe,pe){return(pe=pe||this.getDefaultDocument()).createElement(Oe)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Oe){return Oe.nodeType===Node.ELEMENT_NODE}isShadowRoot(Oe){return Oe instanceof DocumentFragment}getGlobalEventTarget(Oe,pe){return"window"===pe?window:"document"===pe?Oe:"body"===pe?Oe.body:null}getBaseHref(Oe){const pe=(x=x||document.querySelector("base"),x?x.getAttribute("href"):null);return null==pe?null:function(Ue){j=j||document.createElement("a"),j.setAttribute("href",Ue);const Oe=j.pathname;return"/"===Oe.charAt(0)?Oe:`/${Oe}`}(pe)}resetBaseElement(){x=null}getUserAgent(){return window.navigator.userAgent}getCookie(Oe){return(0,f.Mx)(document.cookie,Oe)}}let j,x=null;const Z=new C.OlP("TRANSITION_ID"),q=[{provide:C.ip1,useFactory:function(Ue,Oe,pe){return()=>{pe.get(C.CZH).donePromise.then(()=>{const Ve=(0,f.q)(),rt=Oe.querySelectorAll(`style[ng-transition="${Ue}"]`);for(let $t=0;$t<rt.length;$t++)Ve.remove(rt[$t])})}},deps:[Z,f.K0,C.zs3],multi:!0}];class te{static init(){(0,C.VLi)(new te)}addToWindow(Oe){C.dqk.getAngularTestability=(Ve,rt=!0)=>{const $t=Oe.findTestabilityInTree(Ve,rt);if(null==$t)throw new Error("Could not find testability for element.");return $t},C.dqk.getAllAngularTestabilities=()=>Oe.getAllTestabilities(),C.dqk.getAllAngularRootElements=()=>Oe.getAllRootElements(),C.dqk.frameworkStabilizers||(C.dqk.frameworkStabilizers=[]),C.dqk.frameworkStabilizers.push(Ve=>{const rt=C.dqk.getAllAngularTestabilities();let $t=rt.length,sn=!1;const En=function(lr){sn=sn||lr,$t--,0==$t&&Ve(sn)};rt.forEach(function(lr){lr.whenStable(En)})})}findTestabilityInTree(Oe,pe,Ve){if(null==pe)return null;const rt=Oe.getTestability(pe);return null!=rt?rt:Ve?(0,f.q)().isShadowRoot(pe)?this.findTestabilityInTree(Oe,pe.host,!0):this.findTestabilityInTree(Oe,pe.parentElement,!0):null}}let Te=(()=>{class Ue{build(){return new XMLHttpRequest}}return Ue.\u0275fac=function(pe){return new(pe||Ue)},Ue.\u0275prov=C.Yz7({token:Ue,factory:Ue.\u0275fac}),Ue})();const Ae=new C.OlP("EventManagerPlugins");let Ye=(()=>{class Ue{constructor(pe,Ve){this._zone=Ve,this._eventNameToPlugin=new Map,pe.forEach(rt=>rt.manager=this),this._plugins=pe.slice().reverse()}addEventListener(pe,Ve,rt){return this._findPluginFor(Ve).addEventListener(pe,Ve,rt)}addGlobalEventListener(pe,Ve,rt){return this._findPluginFor(Ve).addGlobalEventListener(pe,Ve,rt)}getZone(){return this._zone}_findPluginFor(pe){const Ve=this._eventNameToPlugin.get(pe);if(Ve)return Ve;const rt=this._plugins;for(let $t=0;$t<rt.length;$t++){const sn=rt[$t];if(sn.supports(pe))return this._eventNameToPlugin.set(pe,sn),sn}throw new Error(`No event manager plugin found for event ${pe}`)}}return Ue.\u0275fac=function(pe){return new(pe||Ue)(C.LFG(Ae),C.LFG(C.R0b))},Ue.\u0275prov=C.Yz7({token:Ue,factory:Ue.\u0275fac}),Ue})();class Ze{constructor(Oe){this._doc=Oe}addGlobalEventListener(Oe,pe,Ve){const rt=(0,f.q)().getGlobalEventTarget(this._doc,Oe);if(!rt)throw new Error(`Unsupported event target ${rt} for event ${pe}`);return this.addEventListener(rt,pe,Ve)}}let ue=(()=>{class Ue{constructor(){this._stylesSet=new Set}addStyles(pe){const Ve=new Set;pe.forEach(rt=>{this._stylesSet.has(rt)||(this._stylesSet.add(rt),Ve.add(rt))}),this.onStylesAdded(Ve)}onStylesAdded(pe){}getAllStyles(){return Array.from(this._stylesSet)}}return Ue.\u0275fac=function(pe){return new(pe||Ue)},Ue.\u0275prov=C.Yz7({token:Ue,factory:Ue.\u0275fac}),Ue})(),de=(()=>{class Ue extends ue{constructor(pe){super(),this._doc=pe,this._hostNodes=new Map,this._hostNodes.set(pe.head,[])}_addStylesToHost(pe,Ve,rt){pe.forEach($t=>{const sn=this._doc.createElement("style");sn.textContent=$t,rt.push(Ve.appendChild(sn))})}addHost(pe){const Ve=[];this._addStylesToHost(this._stylesSet,pe,Ve),this._hostNodes.set(pe,Ve)}removeHost(pe){const Ve=this._hostNodes.get(pe);Ve&&Ve.forEach(Ie),this._hostNodes.delete(pe)}onStylesAdded(pe){this._hostNodes.forEach((Ve,rt)=>{this._addStylesToHost(pe,rt,Ve)})}ngOnDestroy(){this._hostNodes.forEach(pe=>pe.forEach(Ie))}}return Ue.\u0275fac=function(pe){return new(pe||Ue)(C.LFG(f.K0))},Ue.\u0275prov=C.Yz7({token:Ue,factory:Ue.\u0275fac}),Ue})();function Ie(Ue){(0,f.q)().remove(Ue)}const me={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},G=/%COMP%/g;function ge(Ue,Oe,pe){for(let Ve=0;Ve<Oe.length;Ve++){let rt=Oe[Ve];Array.isArray(rt)?ge(Ue,rt,pe):(rt=rt.replace(G,Ue),pe.push(rt))}return pe}function ye(Ue){return Oe=>{if("__ngUnwrap__"===Oe)return Ue;!1===Ue(Oe)&&(Oe.preventDefault(),Oe.returnValue=!1)}}let He=(()=>{class Ue{constructor(pe,Ve,rt){this.eventManager=pe,this.sharedStylesHost=Ve,this.appId=rt,this.rendererByCompId=new Map,this.defaultRenderer=new De(pe)}createRenderer(pe,Ve){if(!pe||!Ve)return this.defaultRenderer;switch(Ve.encapsulation){case C.ifc.Emulated:{let rt=this.rendererByCompId.get(Ve.id);return rt||(rt=new Ht(this.eventManager,this.sharedStylesHost,Ve,this.appId),this.rendererByCompId.set(Ve.id,rt)),rt.applyToHost(pe),rt}case 1:case C.ifc.ShadowDom:return new it(this.eventManager,this.sharedStylesHost,pe,Ve);default:if(!this.rendererByCompId.has(Ve.id)){const rt=ge(Ve.id,Ve.styles,[]);this.sharedStylesHost.addStyles(rt),this.rendererByCompId.set(Ve.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return Ue.\u0275fac=function(pe){return new(pe||Ue)(C.LFG(Ye),C.LFG(de),C.LFG(C.AFp))},Ue.\u0275prov=C.Yz7({token:Ue,factory:Ue.\u0275fac}),Ue})();class De{constructor(Oe){this.eventManager=Oe,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(Oe,pe){return pe?document.createElementNS(me[pe]||pe,Oe):document.createElement(Oe)}createComment(Oe){return document.createComment(Oe)}createText(Oe){return document.createTextNode(Oe)}appendChild(Oe,pe){Oe.appendChild(pe)}insertBefore(Oe,pe,Ve){Oe&&Oe.insertBefore(pe,Ve)}removeChild(Oe,pe){Oe&&Oe.removeChild(pe)}selectRootElement(Oe,pe){let Ve="string"==typeof Oe?document.querySelector(Oe):Oe;if(!Ve)throw new Error(`The selector "${Oe}" did not match any elements`);return pe||(Ve.textContent=""),Ve}parentNode(Oe){return Oe.parentNode}nextSibling(Oe){return Oe.nextSibling}setAttribute(Oe,pe,Ve,rt){if(rt){pe=rt+":"+pe;const $t=me[rt];$t?Oe.setAttributeNS($t,pe,Ve):Oe.setAttribute(pe,Ve)}else Oe.setAttribute(pe,Ve)}removeAttribute(Oe,pe,Ve){if(Ve){const rt=me[Ve];rt?Oe.removeAttributeNS(rt,pe):Oe.removeAttribute(`${Ve}:${pe}`)}else Oe.removeAttribute(pe)}addClass(Oe,pe){Oe.classList.add(pe)}removeClass(Oe,pe){Oe.classList.remove(pe)}setStyle(Oe,pe,Ve,rt){rt&(C.JOm.DashCase|C.JOm.Important)?Oe.style.setProperty(pe,Ve,rt&C.JOm.Important?"important":""):Oe.style[pe]=Ve}removeStyle(Oe,pe,Ve){Ve&C.JOm.DashCase?Oe.style.removeProperty(pe):Oe.style[pe]=""}setProperty(Oe,pe,Ve){Oe[pe]=Ve}setValue(Oe,pe){Oe.nodeValue=pe}listen(Oe,pe,Ve){return"string"==typeof Oe?this.eventManager.addGlobalEventListener(Oe,pe,ye(Ve)):this.eventManager.addEventListener(Oe,pe,ye(Ve))}}class Ht extends De{constructor(Oe,pe,Ve,rt){super(Oe),this.component=Ve;const $t=ge(rt+"-"+Ve.id,Ve.styles,[]);pe.addStyles($t),this.contentAttr="_ngcontent-%COMP%".replace(G,rt+"-"+Ve.id),this.hostAttr="_nghost-%COMP%".replace(G,rt+"-"+Ve.id)}applyToHost(Oe){super.setAttribute(Oe,this.hostAttr,"")}createElement(Oe,pe){const Ve=super.createElement(Oe,pe);return super.setAttribute(Ve,this.contentAttr,""),Ve}}class it extends De{constructor(Oe,pe,Ve,rt){super(Oe),this.sharedStylesHost=pe,this.hostEl=Ve,this.shadowRoot=Ve.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const $t=ge(rt.id,rt.styles,[]);for(let sn=0;sn<$t.length;sn++){const En=document.createElement("style");En.textContent=$t[sn],this.shadowRoot.appendChild(En)}}nodeOrShadowRoot(Oe){return Oe===this.hostEl?this.shadowRoot:Oe}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(Oe,pe){return super.appendChild(this.nodeOrShadowRoot(Oe),pe)}insertBefore(Oe,pe,Ve){return super.insertBefore(this.nodeOrShadowRoot(Oe),pe,Ve)}removeChild(Oe,pe){return super.removeChild(this.nodeOrShadowRoot(Oe),pe)}parentNode(Oe){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Oe)))}}let kt=(()=>{class Ue extends Ze{constructor(pe){super(pe)}supports(pe){return!0}addEventListener(pe,Ve,rt){return pe.addEventListener(Ve,rt,!1),()=>this.removeEventListener(pe,Ve,rt)}removeEventListener(pe,Ve,rt){return pe.removeEventListener(Ve,rt)}}return Ue.\u0275fac=function(pe){return new(pe||Ue)(C.LFG(f.K0))},Ue.\u0275prov=C.Yz7({token:Ue,factory:Ue.\u0275fac}),Ue})();const xt=["alt","control","meta","shift"],Hn={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Cn={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Bn={alt:Ue=>Ue.altKey,control:Ue=>Ue.ctrlKey,meta:Ue=>Ue.metaKey,shift:Ue=>Ue.shiftKey};let An=(()=>{class Ue extends Ze{constructor(pe){super(pe)}supports(pe){return null!=Ue.parseEventName(pe)}addEventListener(pe,Ve,rt){const $t=Ue.parseEventName(Ve),sn=Ue.eventCallback($t.fullKey,rt,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,f.q)().onAndCancel(pe,$t.domEventName,sn))}static parseEventName(pe){const Ve=pe.toLowerCase().split("."),rt=Ve.shift();if(0===Ve.length||"keydown"!==rt&&"keyup"!==rt)return null;const $t=Ue._normalizeKey(Ve.pop());let sn="";if(xt.forEach(lr=>{const ii=Ve.indexOf(lr);ii>-1&&(Ve.splice(ii,1),sn+=lr+".")}),sn+=$t,0!=Ve.length||0===$t.length)return null;const En={};return En.domEventName=rt,En.fullKey=sn,En}static getEventFullKey(pe){let Ve="",rt=function(Ue){let Oe=Ue.key;if(null==Oe){if(Oe=Ue.keyIdentifier,null==Oe)return"Unidentified";Oe.startsWith("U+")&&(Oe=String.fromCharCode(parseInt(Oe.substring(2),16)),3===Ue.location&&Cn.hasOwnProperty(Oe)&&(Oe=Cn[Oe]))}return Hn[Oe]||Oe}(pe);return rt=rt.toLowerCase()," "===rt?rt="space":"."===rt&&(rt="dot"),xt.forEach($t=>{$t!=rt&&Bn[$t](pe)&&(Ve+=$t+".")}),Ve+=rt,Ve}static eventCallback(pe,Ve,rt){return $t=>{Ue.getEventFullKey($t)===pe&&rt.runGuarded(()=>Ve($t))}}static _normalizeKey(pe){return"esc"===pe?"escape":pe}}return Ue.\u0275fac=function(pe){return new(pe||Ue)(C.LFG(f.K0))},Ue.\u0275prov=C.Yz7({token:Ue,factory:Ue.\u0275fac}),Ue})();const cr=(0,C.eFA)(C._c5,"browser",[{provide:C.Lbi,useValue:f.bD},{provide:C.g9A,useValue:function(){ce.makeCurrent(),te.init()},multi:!0},{provide:f.K0,useFactory:function(){return(0,C.RDi)(document),document},deps:[]}]),Pn=[{provide:C.zSh,useValue:"root"},{provide:C.qLn,useFactory:function(){return new C.qLn},deps:[]},{provide:Ae,useClass:kt,multi:!0,deps:[f.K0,C.R0b,C.Lbi]},{provide:Ae,useClass:An,multi:!0,deps:[f.K0]},{provide:He,useClass:He,deps:[Ye,de,C.AFp]},{provide:C.FYo,useExisting:He},{provide:ue,useExisting:de},{provide:de,useClass:de,deps:[f.K0]},{provide:C.dDg,useClass:C.dDg,deps:[C.R0b]},{provide:Ye,useClass:Ye,deps:[Ae,C.R0b]},{provide:f.JF,useClass:Te,deps:[]}];let bn=(()=>{class Ue{constructor(pe){if(pe)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(pe){return{ngModule:Ue,providers:[{provide:C.AFp,useValue:pe.appId},{provide:Z,useExisting:C.AFp},q]}}}return Ue.\u0275fac=function(pe){return new(pe||Ue)(C.LFG(Ue,12))},Ue.\u0275mod=C.oAB({type:Ue}),Ue.\u0275inj=C.cJS({providers:Pn,imports:[f.ez,C.hGG]}),Ue})(),rr=(()=>{class Ue{constructor(pe){this._doc=pe}getTitle(){return this._doc.title}setTitle(pe){this._doc.title=pe||""}}return Ue.\u0275fac=function(pe){return new(pe||Ue)(C.LFG(f.K0))},Ue.\u0275prov=C.Yz7({token:Ue,factory:function(pe){let Ve=null;return Ve=pe?new pe:new rr((0,C.LFG)(f.K0)),Ve},providedIn:"root"}),Ue})();function Nr(Ue){return Ue}"undefined"!=typeof window&&window;let xe=(()=>{class Ue{constructor(){this.store={},this.onSerializeCallbacks={}}static init(pe){const Ve=new Ue;return Ve.store=pe,Ve}get(pe,Ve){return void 0!==this.store[pe]?this.store[pe]:Ve}set(pe,Ve){this.store[pe]=Ve}remove(pe){delete this.store[pe]}hasKey(pe){return this.store.hasOwnProperty(pe)}onSerialize(pe,Ve){this.onSerializeCallbacks[pe]=Ve}toJson(){for(const pe in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(pe))try{this.store[pe]=this.onSerializeCallbacks[pe]()}catch(Ve){console.warn("Exception in onSerialize callback: ",Ve)}return JSON.stringify(this.store)}}return Ue.\u0275fac=function(pe){return new(pe||Ue)},Ue.\u0275prov=C.Yz7({token:Ue,factory:Ue.\u0275fac}),Ue})(),mt=(()=>{class Ue{}return Ue.\u0275fac=function(pe){return new(pe||Ue)},Ue.\u0275prov=C.Yz7({token:Ue,factory:function(pe){let Ve=null;return Ve=pe?new(pe||Ue):C.LFG(rn),Ve},providedIn:"root"}),Ue})(),rn=(()=>{class Ue extends mt{constructor(pe){super(),this._doc=pe}sanitize(pe,Ve){if(null==Ve)return null;switch(pe){case C.q3G.NONE:return Ve;case C.q3G.HTML:return(0,C.qzn)(Ve,"HTML")?(0,C.z3N)(Ve):(0,C.EiD)(this._doc,String(Ve)).toString();case C.q3G.STYLE:return(0,C.qzn)(Ve,"Style")?(0,C.z3N)(Ve):Ve;case C.q3G.SCRIPT:if((0,C.qzn)(Ve,"Script"))return(0,C.z3N)(Ve);throw new Error("unsafe value used in a script context");case C.q3G.URL:return(0,C.yhl)(Ve),(0,C.qzn)(Ve,"URL")?(0,C.z3N)(Ve):(0,C.mCW)(String(Ve));case C.q3G.RESOURCE_URL:if((0,C.qzn)(Ve,"ResourceURL"))return(0,C.z3N)(Ve);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${pe} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(pe){return(0,C.JVY)(pe)}bypassSecurityTrustStyle(pe){return(0,C.L6k)(pe)}bypassSecurityTrustScript(pe){return(0,C.eBb)(pe)}bypassSecurityTrustUrl(pe){return(0,C.LAX)(pe)}bypassSecurityTrustResourceUrl(pe){return(0,C.pB0)(pe)}}return Ue.\u0275fac=function(pe){return new(pe||Ue)(C.LFG(f.K0))},Ue.\u0275prov=C.Yz7({token:Ue,factory:function(pe){let Ve=null;return Ve=pe?new pe:function(Ue){return new rn(Ue.get(f.K0))}(C.LFG(C.zs3)),Ve},providedIn:"root"}),Ue})()},3681:(gt,Ne,b)=>{"use strict";b.d(Ne,{gz:()=>hn,jw:()=>bn,F0:()=>Yi,rH:()=>Wo,Od:()=>zo,yS:()=>da,Bz:()=>vo,lC:()=>ki,fw:()=>or});var f=b(5e3),C=b(8306),$=b(727),ce=b(4482),x=b(5403);function H(){return(0,ce.e)((S,I)=>{let v=null;S._refCount++;const P=new x.Q(I,void 0,void 0,void 0,()=>{if(!S||S._refCount<=0||0<--S._refCount)return void(v=null);const F=S._connection,X=v;v=null,F&&(!X||F===X)&&F.unsubscribe(),I.unsubscribe()});S.subscribe(P),P.closed||(v=S.connect())})}class j extends C.y{constructor(I,v){super(),this.source=I,this.subjectFactory=v,this._subject=null,this._refCount=0,this._connection=null,(0,ce.A)(I)&&(this.lift=I.lift)}_subscribe(I){return this.getSubject().subscribe(I)}getSubject(){const I=this._subject;return(!I||I.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:I}=this;this._subject=this._connection=null,null==I||I.unsubscribe()}connect(){let I=this._connection;if(!I){I=this._connection=new $.w0;const v=this.getSubject();I.add(this.source.subscribe(new x.Q(v,void 0,()=>{this._teardown(),v.complete()},P=>{this._teardown(),v.error(P)},()=>this._teardown()))),I.closed&&(this._connection=null,I=$.w0.EMPTY)}return I}refCount(){return H()(this)}}var W=b(8996),Z=b(9646),z=b(1135),q=b(9841),te=b(6805),Te=b(7272),Ae=b(9770),Ye=b(515),Ze=b(7579),ue=b(9300),de=b(2035),Ie=b(8068),me=b(6590),G=b(4671),ae=b(4004),re=b(3900),we=b(5698),Fe=b(8675),le=b(2940),ge=b(262),ye=b(4351),_e=b(590),He=b(5577),De=b(8505),Et=b(8746),It=b(8189),Ht=b(9808);class it{constructor(I,v){this.id=I,this.url=v}}class kt extends it{constructor(I,v,P="imperative",F=null){super(I,v),this.navigationTrigger=P,this.restoredState=F}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class xt extends it{constructor(I,v,P){super(I,v),this.urlAfterRedirects=P}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class tn extends it{constructor(I,v,P){super(I,v),this.reason=P}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Hn extends it{constructor(I,v,P){super(I,v),this.error=P}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Cn extends it{constructor(I,v,P,F){super(I,v),this.urlAfterRedirects=P,this.state=F}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Bn extends it{constructor(I,v,P,F){super(I,v),this.urlAfterRedirects=P,this.state=F}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class An extends it{constructor(I,v,P,F,X){super(I,v),this.urlAfterRedirects=P,this.state=F,this.shouldActivate=X}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class qt extends it{constructor(I,v,P,F){super(I,v),this.urlAfterRedirects=P,this.state=F}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ln extends it{constructor(I,v,P,F){super(I,v),this.urlAfterRedirects=P,this.state=F}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class er{constructor(I){this.route=I}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class tr{constructor(I){this.route=I}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Gn{constructor(I){this.snapshot=I}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class cr{constructor(I){this.snapshot=I}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Pn{constructor(I){this.snapshot=I}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class bn{constructor(I){this.snapshot=I}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Vn{constructor(I,v,P){this.routerEvent=I,this.position=v,this.anchor=P}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const nn="primary";class Xt{constructor(I){this.params=I||{}}has(I){return Object.prototype.hasOwnProperty.call(this.params,I)}get(I){if(this.has(I)){const v=this.params[I];return Array.isArray(v)?v[0]:v}return null}getAll(I){if(this.has(I)){const v=this.params[I];return Array.isArray(v)?v:[v]}return[]}get keys(){return Object.keys(this.params)}}function kn(S){return new Xt(S)}const rr="ngNavigationCancelingError";function ar(S){const I=Error("NavigationCancelingError: "+S);return I[rr]=!0,I}function en(S,I,v){const P=v.path.split("/");if(P.length>S.length||"full"===v.pathMatch&&(I.hasChildren()||P.length<S.length))return null;const F={};for(let X=0;X<P.length;X++){const Se=P[X],Be=S[X];if(Se.startsWith(":"))F[Se.substring(1)]=Be;else if(Se!==Be.path)return null}return{consumed:S.slice(0,P.length),posParams:F}}function Zt(S,I){const v=S?Object.keys(S):void 0,P=I?Object.keys(I):void 0;if(!v||!P||v.length!=P.length)return!1;let F;for(let X=0;X<v.length;X++)if(F=v[X],!jn(S[F],I[F]))return!1;return!0}function jn(S,I){if(Array.isArray(S)&&Array.isArray(I)){if(S.length!==I.length)return!1;const v=[...S].sort(),P=[...I].sort();return v.every((F,X)=>P[X]===F)}return S===I}function yn(S){return Array.prototype.concat.apply([],S)}function Lt(S){return S.length>0?S[S.length-1]:null}function _n(S,I){for(const v in S)S.hasOwnProperty(v)&&I(S[v],v)}function sr(S){return(0,f.CqO)(S)?S:(0,f.QGY)(S)?(0,W.D)(Promise.resolve(S)):(0,Z.of)(S)}const Fn={exact:function Me(S,I,v){if(!Dt(S.segments,I.segments)||!ze(S.segments,I.segments,v)||S.numberOfChildren!==I.numberOfChildren)return!1;for(const P in I.children)if(!S.children[P]||!Me(S.children[P],I.children[P],v))return!1;return!0},subset:V},ur={exact:function(S,I){return Zt(S,I)},subset:function(S,I){return Object.keys(I).length<=Object.keys(S).length&&Object.keys(I).every(v=>jn(S[v],I[v]))},ignored:()=>!0};function Nr(S,I,v){return Fn[v.paths](S.root,I.root,v.matrixParams)&&ur[v.queryParams](S.queryParams,I.queryParams)&&!("exact"===v.fragment&&S.fragment!==I.fragment)}function V(S,I,v){return K(S,I,I.segments,v)}function K(S,I,v,P){if(S.segments.length>v.length){const F=S.segments.slice(0,v.length);return!(!Dt(F,v)||I.hasChildren()||!ze(F,v,P))}if(S.segments.length===v.length){if(!Dt(S.segments,v)||!ze(S.segments,v,P))return!1;for(const F in I.children)if(!S.children[F]||!V(S.children[F],I.children[F],P))return!1;return!0}{const F=v.slice(0,S.segments.length),X=v.slice(S.segments.length);return!!(Dt(S.segments,F)&&ze(S.segments,F,P)&&S.children[nn])&&K(S.children[nn],I,X,P)}}function ze(S,I,v){return I.every((P,F)=>ur[v](S[F].parameters,P.parameters))}class Ce{constructor(I,v,P){this.root=I,this.queryParams=v,this.fragment=P}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=kn(this.queryParams)),this._queryParamMap}toString(){return vn.serialize(this)}}class We{constructor(I,v){this.segments=I,this.children=v,this.parent=null,_n(v,(P,F)=>P.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ue(this)}}class st{constructor(I,v){this.path=I,this.parameters=v}get parameterMap(){return this._parameterMap||(this._parameterMap=kn(this.parameters)),this._parameterMap}toString(){return lr(this)}}function Dt(S,I){return S.length===I.length&&S.every((v,P)=>v.path===I[P].path)}class St{}class rn{parse(I){const v=new Xe(I);return new Ce(v.parseRootSegment(),v.parseQueryParams(),v.parseFragment())}serialize(I){const v=`/${Oe(I.root,!0)}`,P=function(S){const I=Object.keys(S).map(v=>{const P=S[v];return Array.isArray(P)?P.map(F=>`${Ve(v)}=${Ve(F)}`).join("&"):`${Ve(v)}=${Ve(P)}`}).filter(v=>!!v);return I.length?`?${I.join("&")}`:""}(I.queryParams);var S;return`${v}${P}${"string"==typeof I.fragment?`#${S=I.fragment,encodeURI(S)}`:""}`}}const vn=new rn;function Ue(S){return S.segments.map(I=>lr(I)).join("/")}function Oe(S,I){if(!S.hasChildren())return Ue(S);if(I){const v=S.children[nn]?Oe(S.children[nn],!1):"",P=[];return _n(S.children,(F,X)=>{X!==nn&&P.push(`${X}:${Oe(F,!1)}`)}),P.length>0?`${v}(${P.join("//")})`:v}{const v=function(S,I){let v=[];return _n(S.children,(P,F)=>{F===nn&&(v=v.concat(I(P,F)))}),_n(S.children,(P,F)=>{F!==nn&&(v=v.concat(I(P,F)))}),v}(S,(P,F)=>F===nn?[Oe(S.children[nn],!1)]:[`${F}:${Oe(P,!1)}`]);return 1===Object.keys(S.children).length&&null!=S.children[nn]?`${Ue(S)}/${v[0]}`:`${Ue(S)}/(${v.join("//")})`}}function pe(S){return encodeURIComponent(S).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ve(S){return pe(S).replace(/%3B/gi,";")}function $t(S){return pe(S).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function sn(S){return decodeURIComponent(S)}function En(S){return sn(S.replace(/\+/g,"%20"))}function lr(S){return`${$t(S.path)}${function(S){return Object.keys(S).map(I=>`;${$t(I)}=${$t(S[I])}`).join("")}(S.parameters)}`}const Si=/^[^\/()?;=#]+/;function si(S){const I=S.match(Si);return I?I[0]:""}const _r=/^[^=?&#]+/,nr=/^[^&#]+/;class Xe{constructor(I){this.url=I,this.remaining=I}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new We([],{}):new We([],this.parseChildren())}parseQueryParams(){const I={};if(this.consumeOptional("?"))do{this.parseQueryParam(I)}while(this.consumeOptional("&"));return I}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const I=[];for(this.peekStartsWith("(")||I.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),I.push(this.parseSegment());let v={};this.peekStartsWith("/(")&&(this.capture("/"),v=this.parseParens(!0));let P={};return this.peekStartsWith("(")&&(P=this.parseParens(!1)),(I.length>0||Object.keys(v).length>0)&&(P[nn]=new We(I,v)),P}parseSegment(){const I=si(this.remaining);if(""===I&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(I),new st(sn(I),this.parseMatrixParams())}parseMatrixParams(){const I={};for(;this.consumeOptional(";");)this.parseParam(I);return I}parseParam(I){const v=si(this.remaining);if(!v)return;this.capture(v);let P="";if(this.consumeOptional("=")){const F=si(this.remaining);F&&(P=F,this.capture(P))}I[sn(v)]=sn(P)}parseQueryParam(I){const v=function(S){const I=S.match(_r);return I?I[0]:""}(this.remaining);if(!v)return;this.capture(v);let P="";if(this.consumeOptional("=")){const Se=function(S){const I=S.match(nr);return I?I[0]:""}(this.remaining);Se&&(P=Se,this.capture(P))}const F=En(v),X=En(P);if(I.hasOwnProperty(F)){let Se=I[F];Array.isArray(Se)||(Se=[Se],I[F]=Se),Se.push(X)}else I[F]=X}parseParens(I){const v={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const P=si(this.remaining),F=this.remaining[P.length];if("/"!==F&&")"!==F&&";"!==F)throw new Error(`Cannot parse url '${this.url}'`);let X;P.indexOf(":")>-1?(X=P.substr(0,P.indexOf(":")),this.capture(X),this.capture(":")):I&&(X=nn);const Se=this.parseChildren();v[X]=1===Object.keys(Se).length?Se[nn]:new We([],Se),this.consumeOptional("//")}return v}peekStartsWith(I){return this.remaining.startsWith(I)}consumeOptional(I){return!!this.peekStartsWith(I)&&(this.remaining=this.remaining.substring(I.length),!0)}capture(I){if(!this.consumeOptional(I))throw new Error(`Expected "${I}".`)}}class dt{constructor(I){this._root=I}get root(){return this._root.value}parent(I){const v=this.pathFromRoot(I);return v.length>1?v[v.length-2]:null}children(I){const v=Vt(I,this._root);return v?v.children.map(P=>P.value):[]}firstChild(I){const v=Vt(I,this._root);return v&&v.children.length>0?v.children[0].value:null}siblings(I){const v=Qn(I,this._root);return v.length<2?[]:v[v.length-2].children.map(F=>F.value).filter(F=>F!==I)}pathFromRoot(I){return Qn(I,this._root).map(v=>v.value)}}function Vt(S,I){if(S===I.value)return I;for(const v of I.children){const P=Vt(S,v);if(P)return P}return null}function Qn(S,I){if(S===I.value)return[I];for(const v of I.children){const P=Qn(S,v);if(P.length)return P.unshift(I),P}return[]}class dn{constructor(I,v){this.value=I,this.children=v}toString(){return`TreeNode(${this.value})`}}function Jn(S){const I={};return S&&S.children.forEach(v=>I[v.value.outlet]=v),I}class Rn extends dt{constructor(I,v){super(I),this.snapshot=v,Rr(this,I)}toString(){return this.snapshot.toString()}}function wi(S,I){const v=function(S,I){const Se=new gs([],{},{},"",{},nn,I,null,S.root,-1,{});return new Zr("",new dn(Se,[]))}(S,I),P=new z.X([new st("",{})]),F=new z.X({}),X=new z.X({}),Se=new z.X({}),Be=new z.X(""),ct=new hn(P,F,Se,Be,X,nn,I,v.root);return ct.snapshot=v.root,new Rn(new dn(ct,[]),v)}class hn{constructor(I,v,P,F,X,Se,Be,ct){this.url=I,this.params=v,this.queryParams=P,this.fragment=F,this.data=X,this.outlet=Se,this.component=Be,this._futureSnapshot=ct}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ae.U)(I=>kn(I)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ae.U)(I=>kn(I)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ss(S,I="emptyOnly"){const v=S.pathFromRoot;let P=0;if("always"!==I)for(P=v.length-1;P>=1;){const F=v[P],X=v[P-1];if(F.routeConfig&&""===F.routeConfig.path)P--;else{if(X.component)break;P--}}return function(S){return S.reduce((I,v)=>({params:Object.assign(Object.assign({},I.params),v.params),data:Object.assign(Object.assign({},I.data),v.data),resolve:Object.assign(Object.assign({},I.resolve),v._resolvedData)}),{params:{},data:{},resolve:{}})}(v.slice(P))}class gs{constructor(I,v,P,F,X,Se,Be,ct,Bt,pr,Dn){this.url=I,this.params=v,this.queryParams=P,this.fragment=F,this.data=X,this.outlet=Se,this.component=Be,this.routeConfig=ct,this._urlSegment=Bt,this._lastPathIndex=pr,this._resolve=Dn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=kn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=kn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(P=>P.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Zr extends dt{constructor(I,v){super(v),this.url=I,Rr(this,v)}toString(){return Mr(this._root)}}function Rr(S,I){I.value._routerState=S,I.children.forEach(v=>Rr(S,v))}function Mr(S){const I=S.children.length>0?` { ${S.children.map(Mr).join(", ")} } `:"";return`${S.value}${I}`}function Ke(S){if(S.snapshot){const I=S.snapshot,v=S._futureSnapshot;S.snapshot=v,Zt(I.queryParams,v.queryParams)||S.queryParams.next(v.queryParams),I.fragment!==v.fragment&&S.fragment.next(v.fragment),Zt(I.params,v.params)||S.params.next(v.params),function(S,I){if(S.length!==I.length)return!1;for(let v=0;v<S.length;++v)if(!Zt(S[v],I[v]))return!1;return!0}(I.url,v.url)||S.url.next(v.url),Zt(I.data,v.data)||S.data.next(v.data)}else S.snapshot=S._futureSnapshot,S.data.next(S._futureSnapshot.data)}function je(S,I){const v=Zt(S.params,I.params)&&function(S,I){return Dt(S,I)&&S.every((v,P)=>Zt(v.parameters,I[P].parameters))}(S.url,I.url);return v&&!(!S.parent!=!I.parent)&&(!S.parent||je(S.parent,I.parent))}function ft(S,I,v){if(v&&S.shouldReuseRoute(I.value,v.value.snapshot)){const P=v.value;P._futureSnapshot=I.value;const F=function(S,I,v){return I.children.map(P=>{for(const F of v.children)if(S.shouldReuseRoute(P.value,F.value.snapshot))return ft(S,P,F);return ft(S,P)})}(S,I,v);return new dn(P,F)}{if(S.shouldAttach(I.value)){const X=S.retrieve(I.value);if(null!==X){const Se=X.route;return Se.value._futureSnapshot=I.value,Se.children=I.children.map(Be=>ft(S,Be)),Se}}const P=function(S){return new hn(new z.X(S.url),new z.X(S.params),new z.X(S.queryParams),new z.X(S.fragment),new z.X(S.data),S.outlet,S.component,S)}(I.value),F=I.children.map(X=>ft(S,X));return new dn(P,F)}}function gr(S){return"object"==typeof S&&null!=S&&!S.outlets&&!S.segmentPath}function xn(S){return"object"==typeof S&&null!=S&&S.outlets}function qr(S,I,v,P,F){let X={};return P&&_n(P,(Se,Be)=>{X[Be]=Array.isArray(Se)?Se.map(ct=>`${ct}`):`${Se}`}),new Ce(v.root===S?I:$r(v.root,S,I),X,F)}function $r(S,I,v){const P={};return _n(S.children,(F,X)=>{P[X]=F===I?v:$r(F,I,v)}),new We(S.segments,P)}class Ii{constructor(I,v,P){if(this.isAbsolute=I,this.numberOfDoubleDots=v,this.commands=P,I&&P.length>0&&gr(P[0]))throw new Error("Root segment cannot have matrix parameters");const F=P.find(xn);if(F&&F!==Lt(P))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class xr{constructor(I,v,P){this.segmentGroup=I,this.processChildren=v,this.index=P}}function hi(S,I,v){if(S||(S=new We([],{})),0===S.segments.length&&S.hasChildren())return $i(S,I,v);const P=function(S,I,v){let P=0,F=I;const X={match:!1,pathIndex:0,commandIndex:0};for(;F<S.segments.length;){if(P>=v.length)return X;const Se=S.segments[F],Be=v[P];if(xn(Be))break;const ct=`${Be}`,Bt=P<v.length-1?v[P+1]:null;if(F>0&&void 0===ct)break;if(ct&&Bt&&"object"==typeof Bt&&void 0===Bt.outlets){if(!So(ct,Bt,Se))return X;P+=2}else{if(!So(ct,{},Se))return X;P++}F++}return{match:!0,pathIndex:F,commandIndex:P}}(S,I,v),F=v.slice(P.commandIndex);if(P.match&&P.pathIndex<S.segments.length){const X=new We(S.segments.slice(0,P.pathIndex),{});return X.children[nn]=new We(S.segments.slice(P.pathIndex),S.children),$i(X,0,F)}return P.match&&0===F.length?new We(S.segments,{}):P.match&&!S.hasChildren()?os(S,I,v):P.match?$i(S,0,F):os(S,I,v)}function $i(S,I,v){if(0===v.length)return new We(S.segments,{});{const P=function(S){return xn(S[0])?S[0].outlets:{[nn]:S}}(v),F={};return _n(P,(X,Se)=>{"string"==typeof X&&(X=[X]),null!==X&&(F[Se]=hi(S.children[Se],I,X))}),_n(S.children,(X,Se)=>{void 0===P[Se]&&(F[Se]=X)}),new We(S.segments,F)}}function os(S,I,v){const P=S.segments.slice(0,I);let F=0;for(;F<v.length;){const X=v[F];if(xn(X)){const ct=Da(X.outlets);return new We(P,ct)}if(0===F&&gr(v[0])){P.push(new st(S.segments[I].path,Us(v[0]))),F++;continue}const Se=xn(X)?X.outlets[nn]:`${X}`,Be=F<v.length-1?v[F+1]:null;Se&&Be&&gr(Be)?(P.push(new st(Se,Us(Be))),F+=2):(P.push(new st(Se,{})),F++)}return new We(P,{})}function Da(S){const I={};return _n(S,(v,P)=>{"string"==typeof v&&(v=[v]),null!==v&&(I[P]=os(new We([],{}),0,v))}),I}function Us(S){const I={};return _n(S,(v,P)=>I[P]=`${v}`),I}function So(S,I,v){return S==v.path&&Zt(I,v.parameters)}class Qs{constructor(I,v,P,F){this.routeReuseStrategy=I,this.futureState=v,this.currState=P,this.forwardEvent=F}activate(I){const v=this.futureState._root,P=this.currState?this.currState._root:null;this.deactivateChildRoutes(v,P,I),Ke(this.futureState.root),this.activateChildRoutes(v,P,I)}deactivateChildRoutes(I,v,P){const F=Jn(v);I.children.forEach(X=>{const Se=X.value.outlet;this.deactivateRoutes(X,F[Se],P),delete F[Se]}),_n(F,(X,Se)=>{this.deactivateRouteAndItsChildren(X,P)})}deactivateRoutes(I,v,P){const F=I.value,X=v?v.value:null;if(F===X)if(F.component){const Se=P.getContext(F.outlet);Se&&this.deactivateChildRoutes(I,v,Se.children)}else this.deactivateChildRoutes(I,v,P);else X&&this.deactivateRouteAndItsChildren(v,P)}deactivateRouteAndItsChildren(I,v){I.value.component&&this.routeReuseStrategy.shouldDetach(I.value.snapshot)?this.detachAndStoreRouteSubtree(I,v):this.deactivateRouteAndOutlet(I,v)}detachAndStoreRouteSubtree(I,v){const P=v.getContext(I.value.outlet),F=P&&I.value.component?P.children:v,X=Jn(I);for(const Se of Object.keys(X))this.deactivateRouteAndItsChildren(X[Se],F);if(P&&P.outlet){const Se=P.outlet.detach(),Be=P.children.onOutletDeactivated();this.routeReuseStrategy.store(I.value.snapshot,{componentRef:Se,route:I,contexts:Be})}}deactivateRouteAndOutlet(I,v){const P=v.getContext(I.value.outlet),F=P&&I.value.component?P.children:v,X=Jn(I);for(const Se of Object.keys(X))this.deactivateRouteAndItsChildren(X[Se],F);P&&P.outlet&&(P.outlet.deactivate(),P.children.onOutletDeactivated(),P.attachRef=null,P.resolver=null,P.route=null)}activateChildRoutes(I,v,P){const F=Jn(v);I.children.forEach(X=>{this.activateRoutes(X,F[X.value.outlet],P),this.forwardEvent(new bn(X.value.snapshot))}),I.children.length&&this.forwardEvent(new cr(I.value.snapshot))}activateRoutes(I,v,P){const F=I.value,X=v?v.value:null;if(Ke(F),F===X)if(F.component){const Se=P.getOrCreateContext(F.outlet);this.activateChildRoutes(I,v,Se.children)}else this.activateChildRoutes(I,v,P);else if(F.component){const Se=P.getOrCreateContext(F.outlet);if(this.routeReuseStrategy.shouldAttach(F.snapshot)){const Be=this.routeReuseStrategy.retrieve(F.snapshot);this.routeReuseStrategy.store(F.snapshot,null),Se.children.onOutletReAttached(Be.contexts),Se.attachRef=Be.componentRef,Se.route=Be.route.value,Se.outlet&&Se.outlet.attach(Be.componentRef,Be.route.value),Ke(Be.route.value),this.activateChildRoutes(I,null,Se.children)}else{const Be=function(S){for(let I=S.parent;I;I=I.parent){const v=I.routeConfig;if(v&&v._loadedConfig)return v._loadedConfig;if(v&&v.component)return null}return null}(F.snapshot),ct=Be?Be.module.componentFactoryResolver:null;Se.attachRef=null,Se.route=F,Se.resolver=ct,Se.outlet&&Se.outlet.activateWith(F,ct),this.activateChildRoutes(I,null,Se.children)}}else this.activateChildRoutes(I,null,P)}}class co{constructor(I,v){this.routes=I,this.module=v}}function ys(S){return"function"==typeof S}function Di(S){return S instanceof Ce}const ai=Symbol("INITIAL_VALUE");function Yr(){return(0,re.w)(S=>(0,q.a)(S.map(I=>I.pipe((0,we.q)(1),(0,Fe.O)(ai)))).pipe((0,le.R)((I,v)=>{let P=!1;return v.reduce((F,X,Se)=>F!==ai?F:(X===ai&&(P=!0),P||!1!==X&&Se!==v.length-1&&!Di(X)?F:X),I)},ai),(0,ue.h)(I=>I!==ai),(0,ae.U)(I=>Di(I)?I:!0===I),(0,we.q)(1)))}class qi{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Hi,this.attachRef=null}}class Hi{constructor(){this.contexts=new Map}onChildOutletCreated(I,v){const P=this.getOrCreateContext(I);P.outlet=v,this.contexts.set(I,P)}onChildOutletDestroyed(I){const v=this.getContext(I);v&&(v.outlet=null,v.attachRef=null)}onOutletDeactivated(){const I=this.contexts;return this.contexts=new Map,I}onOutletReAttached(I){this.contexts=I}getOrCreateContext(I){let v=this.getContext(I);return v||(v=new qi,this.contexts.set(I,v)),v}getContext(I){return this.contexts.get(I)||null}}let ki=(()=>{class S{constructor(v,P,F,X,Se){this.parentContexts=v,this.location=P,this.resolver=F,this.changeDetector=Se,this.activated=null,this._activatedRoute=null,this.activateEvents=new f.vpe,this.deactivateEvents=new f.vpe,this.attachEvents=new f.vpe,this.detachEvents=new f.vpe,this.name=X||nn,v.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const v=this.parentContexts.getContext(this.name);v&&v.route&&(v.attachRef?this.attach(v.attachRef,v.route):this.activateWith(v.route,v.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const v=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(v.instance),v}attach(v,P){this.activated=v,this._activatedRoute=P,this.location.insert(v.hostView),this.attachEvents.emit(v.instance)}deactivate(){if(this.activated){const v=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(v)}}activateWith(v,P){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=v;const Se=(P=P||this.resolver).resolveComponentFactory(v._futureSnapshot.routeConfig.component),Be=this.parentContexts.getOrCreateContext(this.name).children,ct=new Xs(v,Be,this.location.injector);this.activated=this.location.createComponent(Se,this.location.length,ct),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return S.\u0275fac=function(v){return new(v||S)(f.Y36(Hi),f.Y36(f.s_b),f.Y36(f._Vd),f.$8M("name"),f.Y36(f.sBO))},S.\u0275dir=f.lG2({type:S,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),S})();class Xs{constructor(I,v,P){this.route=I,this.childContexts=v,this.parent=P}get(I,v){return I===hn?this.route:I===Hi?this.childContexts:this.parent.get(I,v)}}let or=(()=>{class S{}return S.\u0275fac=function(v){return new(v||S)},S.\u0275cmp=f.Xpm({type:S,selectors:[["ng-component"]],decls:1,vars:0,template:function(v,P){1&v&&f._UZ(0,"router-outlet")},directives:[ki],encapsulation:2}),S})();function Ss(S,I=""){for(let v=0;v<S.length;v++){const P=S[v];Vs(P,eo(I,P))}}function Vs(S,I){S.children&&Ss(S.children,I)}function eo(S,I){return I?S||I.path?S&&!I.path?`${S}/`:!S&&I.path?I.path:`${S}/${I.path}`:"":S}function dr(S){const I=S.children&&S.children.map(dr),v=I?Object.assign(Object.assign({},S),{children:I}):Object.assign({},S);return!v.component&&(I||v.loadChildren)&&v.outlet&&v.outlet!==nn&&(v.component=or),v}function Wr(S){return S.outlet||nn}function oa(S,I){const v=S.filter(P=>Wr(P)===I);return v.push(...S.filter(P=>Wr(P)!==I)),v}const js={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Os(S,I,v){var P;if(""===I.path)return"full"===I.pathMatch&&(S.hasChildren()||v.length>0)?Object.assign({},js):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const X=(I.matcher||en)(v,S,I);if(!X)return Object.assign({},js);const Se={};_n(X.posParams,(ct,Bt)=>{Se[Bt]=ct.path});const Be=X.consumed.length>0?Object.assign(Object.assign({},Se),X.consumed[X.consumed.length-1].parameters):Se;return{matched:!0,consumedSegments:X.consumed,lastChild:X.consumed.length,parameters:Be,positionalParamSegments:null!==(P=X.posParams)&&void 0!==P?P:{}}}function Rs(S,I,v,P,F="corrected"){if(v.length>0&&function(S,I,v){return v.some(P=>R(S,I,P)&&Wr(P)!==nn)}(S,v,P)){const Se=new We(I,function(S,I,v,P){const F={};F[nn]=P,P._sourceSegment=S,P._segmentIndexShift=I.length;for(const X of v)if(""===X.path&&Wr(X)!==nn){const Se=new We([],{});Se._sourceSegment=S,Se._segmentIndexShift=I.length,F[Wr(X)]=Se}return F}(S,I,P,new We(v,S.children)));return Se._sourceSegment=S,Se._segmentIndexShift=I.length,{segmentGroup:Se,slicedSegments:[]}}if(0===v.length&&function(S,I,v){return v.some(P=>R(S,I,P))}(S,v,P)){const Se=new We(S.segments,function(S,I,v,P,F,X){const Se={};for(const Be of P)if(R(S,v,Be)&&!F[Wr(Be)]){const ct=new We([],{});ct._sourceSegment=S,ct._segmentIndexShift="legacy"===X?S.segments.length:I.length,Se[Wr(Be)]=ct}return Object.assign(Object.assign({},F),Se)}(S,I,v,P,S.children,F));return Se._sourceSegment=S,Se._segmentIndexShift=I.length,{segmentGroup:Se,slicedSegments:v}}const X=new We(S.segments,S.children);return X._sourceSegment=S,X._segmentIndexShift=I.length,{segmentGroup:X,slicedSegments:v}}function R(S,I,v){return(!(S.hasChildren()||I.length>0)||"full"!==v.pathMatch)&&""===v.path}function J(S,I,v,P){return!!(Wr(S)===P||P!==nn&&R(I,v,S))&&("**"===S.path||Os(I,S,v).matched)}function N(S,I,v){return 0===I.length&&!S.children[v]}class ee{constructor(I){this.segmentGroup=I||null}}class ke{constructor(I){this.urlTree=I}}function ut(S){return new C.y(I=>I.error(new ee(S)))}function Tt(S){return new C.y(I=>I.error(new ke(S)))}function Yt(S){return new C.y(I=>I.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${S}'`)))}class oe{constructor(I,v,P,F,X){this.configLoader=v,this.urlSerializer=P,this.urlTree=F,this.config=X,this.allowRedirects=!0,this.ngModule=I.get(f.h0i)}apply(){const I=Rs(this.urlTree.root,[],[],this.config).segmentGroup,v=new We(I.segments,I.children);return this.expandSegmentGroup(this.ngModule,this.config,v,nn).pipe((0,ae.U)(X=>this.createUrlTree(Le(X),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,ge.K)(X=>{if(X instanceof ke)return this.allowRedirects=!1,this.match(X.urlTree);throw X instanceof ee?this.noMatchError(X):X}))}match(I){return this.expandSegmentGroup(this.ngModule,this.config,I.root,nn).pipe((0,ae.U)(F=>this.createUrlTree(Le(F),I.queryParams,I.fragment))).pipe((0,ge.K)(F=>{throw F instanceof ee?this.noMatchError(F):F}))}noMatchError(I){return new Error(`Cannot match any routes. URL Segment: '${I.segmentGroup}'`)}createUrlTree(I,v,P){const F=I.segments.length>0?new We([],{[nn]:I}):I;return new Ce(F,v,P)}expandSegmentGroup(I,v,P,F){return 0===P.segments.length&&P.hasChildren()?this.expandChildren(I,v,P).pipe((0,ae.U)(X=>new We([],X))):this.expandSegment(I,P,v,P.segments,F,!0)}expandChildren(I,v,P){const F=[];for(const X of Object.keys(P.children))"primary"===X?F.unshift(X):F.push(X);return(0,W.D)(F).pipe((0,ye.b)(X=>{const Se=P.children[X],Be=oa(v,X);return this.expandSegmentGroup(I,Be,Se,X).pipe((0,ae.U)(ct=>({segment:ct,outlet:X})))}),(0,le.R)((X,Se)=>(X[Se.outlet]=Se.segment,X),{}),function(S,I){const v=arguments.length>=2;return P=>P.pipe(S?(0,ue.h)((F,X)=>S(F,X,P)):G.y,(0,de.h)(1),v?(0,me.d)(I):(0,Ie.T)(()=>new te.K))}())}expandSegment(I,v,P,F,X,Se){return(0,W.D)(P).pipe((0,ye.b)(Be=>this.expandSegmentAgainstRoute(I,v,P,Be,F,X,Se).pipe((0,ge.K)(Bt=>{if(Bt instanceof ee)return(0,Z.of)(null);throw Bt}))),(0,_e.P)(Be=>!!Be),(0,ge.K)((Be,ct)=>{if(Be instanceof te.K||"EmptyError"===Be.name){if(N(v,F,X))return(0,Z.of)(new We([],{}));throw new ee(v)}throw Be}))}expandSegmentAgainstRoute(I,v,P,F,X,Se,Be){return J(F,v,X,Se)?void 0===F.redirectTo?this.matchSegmentAgainstRoute(I,v,F,X,Se):Be&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(I,v,P,F,X,Se):ut(v):ut(v)}expandSegmentAgainstRouteUsingRedirect(I,v,P,F,X,Se){return"**"===F.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(I,P,F,Se):this.expandRegularSegmentAgainstRouteUsingRedirect(I,v,P,F,X,Se)}expandWildCardWithParamsAgainstRouteUsingRedirect(I,v,P,F){const X=this.applyRedirectCommands([],P.redirectTo,{});return P.redirectTo.startsWith("/")?Tt(X):this.lineralizeSegments(P,X).pipe((0,He.z)(Se=>{const Be=new We(Se,{});return this.expandSegment(I,Be,v,Se,F,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(I,v,P,F,X,Se){const{matched:Be,consumedSegments:ct,lastChild:Bt,positionalParamSegments:pr}=Os(v,F,X);if(!Be)return ut(v);const Dn=this.applyRedirectCommands(ct,F.redirectTo,pr);return F.redirectTo.startsWith("/")?Tt(Dn):this.lineralizeSegments(F,Dn).pipe((0,He.z)(on=>this.expandSegment(I,v,P,on.concat(X.slice(Bt)),Se,!1)))}matchSegmentAgainstRoute(I,v,P,F,X){if("**"===P.path)return P.loadChildren?(P._loadedConfig?(0,Z.of)(P._loadedConfig):this.configLoader.load(I.injector,P)).pipe((0,ae.U)(on=>(P._loadedConfig=on,new We(F,{})))):(0,Z.of)(new We(F,{}));const{matched:Se,consumedSegments:Be,lastChild:ct}=Os(v,P,F);if(!Se)return ut(v);const Bt=F.slice(ct);return this.getChildConfig(I,P,F).pipe((0,He.z)(Dn=>{const on=Dn.module,hr=Dn.routes,{segmentGroup:No,slicedSegments:Pr}=Rs(v,Be,Bt,hr),Sn=new We(No.segments,No.children);if(0===Pr.length&&Sn.hasChildren())return this.expandChildren(on,hr,Sn).pipe((0,ae.U)(Ui=>new We(Be,Ui)));if(0===hr.length&&0===Pr.length)return(0,Z.of)(new We(Be,{}));const vs=Wr(P)===X;return this.expandSegment(on,Sn,hr,Pr,vs?nn:X,!0).pipe((0,ae.U)(oo=>new We(Be.concat(oo.segments),oo.children)))}))}getChildConfig(I,v,P){return v.children?(0,Z.of)(new co(v.children,I)):v.loadChildren?void 0!==v._loadedConfig?(0,Z.of)(v._loadedConfig):this.runCanLoadGuards(I.injector,v,P).pipe((0,He.z)(F=>{return F?this.configLoader.load(I.injector,v).pipe((0,ae.U)(X=>(v._loadedConfig=X,X))):(S=v,new C.y(I=>I.error(ar(`Cannot load children because the guard of the route "path: '${S.path}'" returned false`))));var S})):(0,Z.of)(new co([],I))}runCanLoadGuards(I,v,P){const F=v.canLoad;if(!F||0===F.length)return(0,Z.of)(!0);const X=F.map(Se=>{const Be=I.get(Se);let ct;if((S=Be)&&ys(S.canLoad))ct=Be.canLoad(v,P);else{if(!ys(Be))throw new Error("Invalid CanLoad guard");ct=Be(v,P)}var S;return sr(ct)});return(0,Z.of)(X).pipe(Yr(),(0,De.b)(Se=>{if(!Di(Se))return;const Be=ar(`Redirecting to "${this.urlSerializer.serialize(Se)}"`);throw Be.url=Se,Be}),(0,ae.U)(Se=>!0===Se))}lineralizeSegments(I,v){let P=[],F=v.root;for(;;){if(P=P.concat(F.segments),0===F.numberOfChildren)return(0,Z.of)(P);if(F.numberOfChildren>1||!F.children[nn])return Yt(I.redirectTo);F=F.children[nn]}}applyRedirectCommands(I,v,P){return this.applyRedirectCreatreUrlTree(v,this.urlSerializer.parse(v),I,P)}applyRedirectCreatreUrlTree(I,v,P,F){const X=this.createSegmentGroup(I,v.root,P,F);return new Ce(X,this.createQueryParams(v.queryParams,this.urlTree.queryParams),v.fragment)}createQueryParams(I,v){const P={};return _n(I,(F,X)=>{if("string"==typeof F&&F.startsWith(":")){const Be=F.substring(1);P[X]=v[Be]}else P[X]=F}),P}createSegmentGroup(I,v,P,F){const X=this.createSegments(I,v.segments,P,F);let Se={};return _n(v.children,(Be,ct)=>{Se[ct]=this.createSegmentGroup(I,Be,P,F)}),new We(X,Se)}createSegments(I,v,P,F){return v.map(X=>X.path.startsWith(":")?this.findPosParam(I,X,F):this.findOrReturn(X,P))}findPosParam(I,v,P){const F=P[v.path.substring(1)];if(!F)throw new Error(`Cannot redirect to '${I}'. Cannot find '${v.path}'.`);return F}findOrReturn(I,v){let P=0;for(const F of v){if(F.path===I.path)return v.splice(P),F;P++}return I}}function Le(S){const I={};for(const P of Object.keys(S.children)){const X=Le(S.children[P]);(X.segments.length>0||X.hasChildren())&&(I[P]=X)}return function(S){if(1===S.numberOfChildren&&S.children[nn]){const I=S.children[nn];return new We(S.segments.concat(I.segments),I.children)}return S}(new We(S.segments,I))}class yt{constructor(I){this.path=I,this.route=this.path[this.path.length-1]}}class pt{constructor(I,v){this.component=I,this.route=v}}function In(S,I,v){const P=S._root;return vr(P,I?I._root:null,v,[P.value])}function Tn(S,I,v){const P=function(S){if(!S)return null;for(let I=S.parent;I;I=I.parent){const v=I.routeConfig;if(v&&v._loadedConfig)return v._loadedConfig}return null}(I);return(P?P.module.injector:v).get(S)}function vr(S,I,v,P,F={canDeactivateChecks:[],canActivateChecks:[]}){const X=Jn(I);return S.children.forEach(Se=>{(function(S,I,v,P,F={canDeactivateChecks:[],canActivateChecks:[]}){const X=S.value,Se=I?I.value:null,Be=v?v.getContext(S.value.outlet):null;if(Se&&X.routeConfig===Se.routeConfig){const ct=function(S,I,v){if("function"==typeof v)return v(S,I);switch(v){case"pathParamsChange":return!Dt(S.url,I.url);case"pathParamsOrQueryParamsChange":return!Dt(S.url,I.url)||!Zt(S.queryParams,I.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!je(S,I)||!Zt(S.queryParams,I.queryParams);default:return!je(S,I)}}(Se,X,X.routeConfig.runGuardsAndResolvers);ct?F.canActivateChecks.push(new yt(P)):(X.data=Se.data,X._resolvedData=Se._resolvedData),vr(S,I,X.component?Be?Be.children:null:v,P,F),ct&&Be&&Be.outlet&&Be.outlet.isActivated&&F.canDeactivateChecks.push(new pt(Be.outlet.component,Se))}else Se&&ht(I,Be,F),F.canActivateChecks.push(new yt(P)),vr(S,null,X.component?Be?Be.children:null:v,P,F)})(Se,X[Se.value.outlet],v,P.concat([Se.value]),F),delete X[Se.value.outlet]}),_n(X,(Se,Be)=>ht(Se,v.getContext(Be),F)),F}function ht(S,I,v){const P=Jn(S),F=S.value;_n(P,(X,Se)=>{ht(X,F.component?I?I.children.getContext(Se):null:I,v)}),v.canDeactivateChecks.push(new pt(F.component&&I&&I.outlet&&I.outlet.isActivated?I.outlet.component:null,F))}class Uu{}function Ca(S){return new C.y(I=>I.error(S))}class fo{constructor(I,v,P,F,X,Se){this.rootComponentType=I,this.config=v,this.urlTree=P,this.url=F,this.paramsInheritanceStrategy=X,this.relativeLinkResolution=Se}recognize(){const I=Rs(this.urlTree.root,[],[],this.config.filter(Se=>void 0===Se.redirectTo),this.relativeLinkResolution).segmentGroup,v=this.processSegmentGroup(this.config,I,nn);if(null===v)return null;const P=new gs([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},nn,this.rootComponentType,null,this.urlTree.root,-1,{}),F=new dn(P,v),X=new Zr(this.url,F);return this.inheritParamsAndData(X._root),X}inheritParamsAndData(I){const v=I.value,P=ss(v,this.paramsInheritanceStrategy);v.params=Object.freeze(P.params),v.data=Object.freeze(P.data),I.children.forEach(F=>this.inheritParamsAndData(F))}processSegmentGroup(I,v,P){return 0===v.segments.length&&v.hasChildren()?this.processChildren(I,v):this.processSegment(I,v,v.segments,P)}processChildren(I,v){const P=[];for(const X of Object.keys(v.children)){const Se=v.children[X],Be=oa(I,X),ct=this.processSegmentGroup(Be,Se,X);if(null===ct)return null;P.push(...ct)}const F=$s(P);return F.sort((I,v)=>I.value.outlet===nn?-1:v.value.outlet===nn?1:I.value.outlet.localeCompare(v.value.outlet)),F}processSegment(I,v,P,F){for(const X of I){const Se=this.processSegmentAgainstRoute(X,v,P,F);if(null!==Se)return Se}return N(v,P,F)?[]:null}processSegmentAgainstRoute(I,v,P,F){if(I.redirectTo||!J(I,v,P,F))return null;let X,Se=[],Be=[];if("**"===I.path){const hr=P.length>0?Lt(P).parameters:{};X=new gs(P,hr,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Ws(I),Wr(I),I.component,I,po(v),ua(v)+P.length,la(I))}else{const hr=Os(v,I,P);if(!hr.matched)return null;Se=hr.consumedSegments,Be=P.slice(hr.lastChild),X=new gs(Se,hr.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Ws(I),Wr(I),I.component,I,po(v),ua(v)+Se.length,la(I))}const ct=(S=I).children?S.children:S.loadChildren?S._loadedConfig.routes:[],{segmentGroup:Bt,slicedSegments:pr}=Rs(v,Se,Be,ct.filter(hr=>void 0===hr.redirectTo),this.relativeLinkResolution);var S;if(0===pr.length&&Bt.hasChildren()){const hr=this.processChildren(ct,Bt);return null===hr?null:[new dn(X,hr)]}if(0===ct.length&&0===pr.length)return[new dn(X,[])];const Dn=Wr(I)===F,on=this.processSegment(ct,Bt,pr,Dn?nn:F);return null===on?null:[new dn(X,on)]}}function gu(S){const I=S.value.routeConfig;return I&&""===I.path&&void 0===I.redirectTo}function $s(S){const I=[],v=new Set;for(const P of S){if(!gu(P)){I.push(P);continue}const F=I.find(X=>P.value.routeConfig===X.value.routeConfig);void 0!==F?(F.children.push(...P.children),v.add(F)):I.push(P)}for(const P of v){const F=$s(P.children);I.push(new dn(P.value,F))}return I.filter(P=>!v.has(P))}function po(S){let I=S;for(;I._sourceSegment;)I=I._sourceSegment;return I}function ua(S){let I=S,v=I._segmentIndexShift?I._segmentIndexShift:0;for(;I._sourceSegment;)I=I._sourceSegment,v+=I._segmentIndexShift?I._segmentIndexShift:0;return v-1}function Ws(S){return S.data||{}}function la(S){return S.resolve||{}}function mo(S){return(0,re.w)(I=>{const v=S(I);return v?(0,W.D)(v).pipe((0,ae.U)(()=>I)):(0,Z.of)(I)})}class $o extends class{shouldDetach(I){return!1}store(I,v){}shouldAttach(I){return!1}retrieve(I){return null}shouldReuseRoute(I,v){return I.routeConfig===v.routeConfig}}{}const Ho=new f.OlP("ROUTES");class ro{constructor(I,v,P,F){this.injector=I,this.compiler=v,this.onLoadStartListener=P,this.onLoadEndListener=F}load(I,v){if(v._loader$)return v._loader$;this.onLoadStartListener&&this.onLoadStartListener(v);const F=this.loadModuleFactory(v.loadChildren).pipe((0,ae.U)(X=>{this.onLoadEndListener&&this.onLoadEndListener(v);const Se=X.create(I);return new co(yn(Se.injector.get(Ho,void 0,f.XFs.Self|f.XFs.Optional)).map(dr),Se)}),(0,ge.K)(X=>{throw v._loader$=void 0,X}));return v._loader$=new j(F,()=>new Ze.x).pipe(H()),v._loader$}loadModuleFactory(I){return sr(I()).pipe((0,He.z)(v=>v instanceof f.YKP?(0,Z.of)(v):(0,W.D)(this.compiler.compileModuleAsync(v))))}}class Ga{shouldProcessUrl(I){return!0}extract(I){return I}merge(I,v){return I}}function mu(S){throw S}function ei(S,I,v){return I.parse("/")}function zs(S,I){return(0,Z.of)(null)}const zr={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Bu={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Yi=(()=>{class S{constructor(v,P,F,X,Se,Be,ct){this.rootComponentType=v,this.urlSerializer=P,this.rootContexts=F,this.location=X,this.config=ct,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Ze.x,this.errorHandler=mu,this.malformedUriErrorHandler=ei,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:zs,afterPreactivation:zs},this.urlHandlingStrategy=new Ga,this.routeReuseStrategy=new $o,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=Se.get(f.h0i),this.console=Se.get(f.c2e);const Dn=Se.get(f.R0b);this.isNgZoneEnabled=Dn instanceof f.R0b&&f.R0b.isInAngularZone(),this.resetConfig(ct),this.currentUrlTree=new Ce(new We([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new ro(Se,Be,on=>this.triggerEvent(new er(on)),on=>this.triggerEvent(new tr(on))),this.routerState=wi(this.currentUrlTree,this.rootComponentType),this.transitions=new z.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var v;return null===(v=this.location.getState())||void 0===v?void 0:v.\u0275routerPageId}setupNavigations(v){const P=this.events;return v.pipe((0,ue.h)(F=>0!==F.id),(0,ae.U)(F=>Object.assign(Object.assign({},F),{extractedUrl:this.urlHandlingStrategy.extract(F.rawUrl)})),(0,re.w)(F=>{let X=!1,Se=!1;return(0,Z.of)(F).pipe((0,De.b)(Be=>{this.currentNavigation={id:Be.id,initialUrl:Be.currentRawUrl,extractedUrl:Be.extractedUrl,trigger:Be.source,extras:Be.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,re.w)(Be=>{const ct=this.browserUrlTree.toString(),Bt=!this.navigated||Be.extractedUrl.toString()!==ct||ct!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||Bt)&&this.urlHandlingStrategy.shouldProcessUrl(Be.rawUrl))return Qi(Be.source)&&(this.browserUrlTree=Be.extractedUrl),(0,Z.of)(Be).pipe((0,re.w)(Dn=>{const on=this.transitions.getValue();return P.next(new kt(Dn.id,this.serializeUrl(Dn.extractedUrl),Dn.source,Dn.restoredState)),on!==this.transitions.getValue()?Ye.E:Promise.resolve(Dn)}),function(S,I,v,P){return(0,re.w)(F=>function(S,I,v,P,F){return new oe(S,I,v,P,F).apply()}(S,I,v,F.extractedUrl,P).pipe((0,ae.U)(X=>Object.assign(Object.assign({},F),{urlAfterRedirects:X}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,De.b)(Dn=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:Dn.urlAfterRedirects})}),function(S,I,v,P,F){return(0,He.z)(X=>function(S,I,v,P,F="emptyOnly",X="legacy"){try{const Se=new fo(S,I,v,P,F,X).recognize();return null===Se?Ca(new Uu):(0,Z.of)(Se)}catch(Se){return Ca(Se)}}(S,I,X.urlAfterRedirects,v(X.urlAfterRedirects),P,F).pipe((0,ae.U)(Se=>Object.assign(Object.assign({},X),{targetSnapshot:Se}))))}(this.rootComponentType,this.config,Dn=>this.serializeUrl(Dn),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,De.b)(Dn=>{if("eager"===this.urlUpdateStrategy){if(!Dn.extras.skipLocationChange){const hr=this.urlHandlingStrategy.merge(Dn.urlAfterRedirects,Dn.rawUrl);this.setBrowserUrl(hr,Dn)}this.browserUrlTree=Dn.urlAfterRedirects}const on=new Cn(Dn.id,this.serializeUrl(Dn.extractedUrl),this.serializeUrl(Dn.urlAfterRedirects),Dn.targetSnapshot);P.next(on)}));if(Bt&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:on,extractedUrl:hr,source:No,restoredState:Pr,extras:Sn}=Be,vs=new kt(on,this.serializeUrl(hr),No,Pr);P.next(vs);const Xi=wi(hr,this.rootComponentType).snapshot;return(0,Z.of)(Object.assign(Object.assign({},Be),{targetSnapshot:Xi,urlAfterRedirects:hr,extras:Object.assign(Object.assign({},Sn),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=Be.rawUrl,Be.resolve(null),Ye.E}),mo(Be=>{const{targetSnapshot:ct,id:Bt,extractedUrl:pr,rawUrl:Dn,extras:{skipLocationChange:on,replaceUrl:hr}}=Be;return this.hooks.beforePreactivation(ct,{navigationId:Bt,appliedUrlTree:pr,rawUrlTree:Dn,skipLocationChange:!!on,replaceUrl:!!hr})}),(0,De.b)(Be=>{const ct=new Bn(Be.id,this.serializeUrl(Be.extractedUrl),this.serializeUrl(Be.urlAfterRedirects),Be.targetSnapshot);this.triggerEvent(ct)}),(0,ae.U)(Be=>Object.assign(Object.assign({},Be),{guards:In(Be.targetSnapshot,Be.currentSnapshot,this.rootContexts)})),function(S,I){return(0,He.z)(v=>{const{targetSnapshot:P,currentSnapshot:F,guards:{canActivateChecks:X,canDeactivateChecks:Se}}=v;return 0===Se.length&&0===X.length?(0,Z.of)(Object.assign(Object.assign({},v),{guardsResult:!0})):function(S,I,v,P){return(0,W.D)(S).pipe((0,He.z)(F=>function(S,I,v,P,F){const X=I&&I.routeConfig?I.routeConfig.canDeactivate:null;if(!X||0===X.length)return(0,Z.of)(!0);const Se=X.map(Be=>{const ct=Tn(Be,I,F);let Bt;if(function(S){return S&&ys(S.canDeactivate)}(ct))Bt=sr(ct.canDeactivate(S,I,v,P));else{if(!ys(ct))throw new Error("Invalid CanDeactivate guard");Bt=sr(ct(S,I,v,P))}return Bt.pipe((0,_e.P)())});return(0,Z.of)(Se).pipe(Yr())}(F.component,F.route,v,I,P)),(0,_e.P)(F=>!0!==F,!0))}(Se,P,F,S).pipe((0,He.z)(Be=>Be&&function(S){return"boolean"==typeof S}(Be)?function(S,I,v,P){return(0,W.D)(I).pipe((0,ye.b)(F=>(0,Te.z)(function(S,I){return null!==S&&I&&I(new Gn(S)),(0,Z.of)(!0)}(F.route.parent,P),function(S,I){return null!==S&&I&&I(new Pn(S)),(0,Z.of)(!0)}(F.route,P),function(S,I,v){const P=I[I.length-1],X=I.slice(0,I.length-1).reverse().map(Se=>function(S){const I=S.routeConfig?S.routeConfig.canActivateChild:null;return I&&0!==I.length?{node:S,guards:I}:null}(Se)).filter(Se=>null!==Se).map(Se=>(0,Ae.P)(()=>{const Be=Se.guards.map(ct=>{const Bt=Tn(ct,Se.node,v);let pr;if(function(S){return S&&ys(S.canActivateChild)}(Bt))pr=sr(Bt.canActivateChild(P,S));else{if(!ys(Bt))throw new Error("Invalid CanActivateChild guard");pr=sr(Bt(P,S))}return pr.pipe((0,_e.P)())});return(0,Z.of)(Be).pipe(Yr())}));return(0,Z.of)(X).pipe(Yr())}(S,F.path,v),function(S,I,v){const P=I.routeConfig?I.routeConfig.canActivate:null;if(!P||0===P.length)return(0,Z.of)(!0);const F=P.map(X=>(0,Ae.P)(()=>{const Se=Tn(X,I,v);let Be;if(function(S){return S&&ys(S.canActivate)}(Se))Be=sr(Se.canActivate(I,S));else{if(!ys(Se))throw new Error("Invalid CanActivate guard");Be=sr(Se(I,S))}return Be.pipe((0,_e.P)())}));return(0,Z.of)(F).pipe(Yr())}(S,F.route,v))),(0,_e.P)(F=>!0!==F,!0))}(P,X,S,I):(0,Z.of)(Be)),(0,ae.U)(Be=>Object.assign(Object.assign({},v),{guardsResult:Be})))})}(this.ngModule.injector,Be=>this.triggerEvent(Be)),(0,De.b)(Be=>{if(Di(Be.guardsResult)){const Bt=ar(`Redirecting to "${this.serializeUrl(Be.guardsResult)}"`);throw Bt.url=Be.guardsResult,Bt}const ct=new An(Be.id,this.serializeUrl(Be.extractedUrl),this.serializeUrl(Be.urlAfterRedirects),Be.targetSnapshot,!!Be.guardsResult);this.triggerEvent(ct)}),(0,ue.h)(Be=>!!Be.guardsResult||(this.restoreHistory(Be),this.cancelNavigationTransition(Be,""),!1)),mo(Be=>{if(Be.guards.canActivateChecks.length)return(0,Z.of)(Be).pipe((0,De.b)(ct=>{const Bt=new qt(ct.id,this.serializeUrl(ct.extractedUrl),this.serializeUrl(ct.urlAfterRedirects),ct.targetSnapshot);this.triggerEvent(Bt)}),(0,re.w)(ct=>{let Bt=!1;return(0,Z.of)(ct).pipe(function(S,I){return(0,He.z)(v=>{const{targetSnapshot:P,guards:{canActivateChecks:F}}=v;if(!F.length)return(0,Z.of)(v);let X=0;return(0,W.D)(F).pipe((0,ye.b)(Se=>function(S,I,v,P){return function(S,I,v,P){const F=Object.keys(S);if(0===F.length)return(0,Z.of)({});const X={};return(0,W.D)(F).pipe((0,He.z)(Se=>function(S,I,v,P){const F=Tn(S,I,P);return sr(F.resolve?F.resolve(I,v):F(I,v))}(S[Se],I,v,P).pipe((0,De.b)(Be=>{X[Se]=Be}))),(0,de.h)(1),(0,He.z)(()=>Object.keys(X).length===F.length?(0,Z.of)(X):Ye.E))}(S._resolve,S,I,P).pipe((0,ae.U)(X=>(S._resolvedData=X,S.data=Object.assign(Object.assign({},S.data),ss(S,v).resolve),null)))}(Se.route,P,S,I)),(0,De.b)(()=>X++),(0,de.h)(1),(0,He.z)(Se=>X===F.length?(0,Z.of)(v):Ye.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,De.b)({next:()=>Bt=!0,complete:()=>{Bt||(this.restoreHistory(ct),this.cancelNavigationTransition(ct,"At least one route resolver didn't emit any value."))}}))}),(0,De.b)(ct=>{const Bt=new Ln(ct.id,this.serializeUrl(ct.extractedUrl),this.serializeUrl(ct.urlAfterRedirects),ct.targetSnapshot);this.triggerEvent(Bt)}))}),mo(Be=>{const{targetSnapshot:ct,id:Bt,extractedUrl:pr,rawUrl:Dn,extras:{skipLocationChange:on,replaceUrl:hr}}=Be;return this.hooks.afterPreactivation(ct,{navigationId:Bt,appliedUrlTree:pr,rawUrlTree:Dn,skipLocationChange:!!on,replaceUrl:!!hr})}),(0,ae.U)(Be=>{const ct=function(S,I,v){const P=ft(S,I._root,v?v._root:void 0);return new Rn(P,I)}(this.routeReuseStrategy,Be.targetSnapshot,Be.currentRouterState);return Object.assign(Object.assign({},Be),{targetRouterState:ct})}),(0,De.b)(Be=>{this.currentUrlTree=Be.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(Be.urlAfterRedirects,Be.rawUrl),this.routerState=Be.targetRouterState,"deferred"===this.urlUpdateStrategy&&(Be.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,Be),this.browserUrlTree=Be.urlAfterRedirects)}),((S,I,v)=>(0,ae.U)(P=>(new Qs(I,P.targetRouterState,P.currentRouterState,v).activate(S),P)))(this.rootContexts,this.routeReuseStrategy,Be=>this.triggerEvent(Be)),(0,De.b)({next(){X=!0},complete(){X=!0}}),(0,Et.x)(()=>{var Be;X||Se||this.cancelNavigationTransition(F,`Navigation ID ${F.id} is not equal to the current navigation id ${this.navigationId}`),(null===(Be=this.currentNavigation)||void 0===Be?void 0:Be.id)===F.id&&(this.currentNavigation=null)}),(0,ge.K)(Be=>{if(Se=!0,function(S){return S&&S[rr]}(Be)){const ct=Di(Be.url);ct||(this.navigated=!0,this.restoreHistory(F,!0));const Bt=new tn(F.id,this.serializeUrl(F.extractedUrl),Be.message);P.next(Bt),ct?setTimeout(()=>{const pr=this.urlHandlingStrategy.merge(Be.url,this.rawUrlTree),Dn={skipLocationChange:F.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Qi(F.source)};this.scheduleNavigation(pr,"imperative",null,Dn,{resolve:F.resolve,reject:F.reject,promise:F.promise})},0):F.resolve(!1)}else{this.restoreHistory(F,!0);const ct=new Hn(F.id,this.serializeUrl(F.extractedUrl),Be);P.next(ct);try{F.resolve(this.errorHandler(Be))}catch(Bt){F.reject(Bt)}}return Ye.E}))}))}resetRootComponentType(v){this.rootComponentType=v,this.routerState.root.component=this.rootComponentType}setTransition(v){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),v))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(v=>{const P="popstate"===v.type?"popstate":"hashchange";"popstate"===P&&setTimeout(()=>{var F;const X={replaceUrl:!0},Se=(null===(F=v.state)||void 0===F?void 0:F.navigationId)?v.state:null;if(Se){const ct=Object.assign({},Se);delete ct.navigationId,delete ct.\u0275routerPageId,0!==Object.keys(ct).length&&(X.state=ct)}const Be=this.parseUrl(v.url);this.scheduleNavigation(Be,P,Se,X)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(v){this.events.next(v)}resetConfig(v){Ss(v),this.config=v.map(dr),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(v,P={}){const{relativeTo:F,queryParams:X,fragment:Se,queryParamsHandling:Be,preserveFragment:ct}=P,Bt=F||this.routerState.root,pr=ct?this.currentUrlTree.fragment:Se;let Dn=null;switch(Be){case"merge":Dn=Object.assign(Object.assign({},this.currentUrlTree.queryParams),X);break;case"preserve":Dn=this.currentUrlTree.queryParams;break;default:Dn=X||null}return null!==Dn&&(Dn=this.removeEmptyProps(Dn)),function(S,I,v,P,F){if(0===v.length)return qr(I.root,I.root,I,P,F);const X=function(S){if("string"==typeof S[0]&&1===S.length&&"/"===S[0])return new Ii(!0,0,S);let I=0,v=!1;const P=S.reduce((F,X,Se)=>{if("object"==typeof X&&null!=X){if(X.outlets){const Be={};return _n(X.outlets,(ct,Bt)=>{Be[Bt]="string"==typeof ct?ct.split("/"):ct}),[...F,{outlets:Be}]}if(X.segmentPath)return[...F,X.segmentPath]}return"string"!=typeof X?[...F,X]:0===Se?(X.split("/").forEach((Be,ct)=>{0==ct&&"."===Be||(0==ct&&""===Be?v=!0:".."===Be?I++:""!=Be&&F.push(Be))}),F):[...F,X]},[]);return new Ii(v,I,P)}(v);if(X.toRoot())return qr(I.root,new We([],{}),I,P,F);const Se=function(S,I,v){if(S.isAbsolute)return new xr(I.root,!0,0);if(-1===v.snapshot._lastPathIndex){const X=v.snapshot._urlSegment;return new xr(X,X===I.root,0)}const P=gr(S.commands[0])?0:1;return function(S,I,v){let P=S,F=I,X=v;for(;X>F;){if(X-=F,P=P.parent,!P)throw new Error("Invalid number of '../'");F=P.segments.length}return new xr(P,!1,F-X)}(v.snapshot._urlSegment,v.snapshot._lastPathIndex+P,S.numberOfDoubleDots)}(X,I,S),Be=Se.processChildren?$i(Se.segmentGroup,Se.index,X.commands):hi(Se.segmentGroup,Se.index,X.commands);return qr(Se.segmentGroup,Be,I,P,F)}(Bt,this.currentUrlTree,v,Dn,null!=pr?pr:null)}navigateByUrl(v,P={skipLocationChange:!1}){const F=Di(v)?v:this.parseUrl(v),X=this.urlHandlingStrategy.merge(F,this.rawUrlTree);return this.scheduleNavigation(X,"imperative",null,P)}navigate(v,P={skipLocationChange:!1}){return function(S){for(let I=0;I<S.length;I++){const v=S[I];if(null==v)throw new Error(`The requested path contains ${v} segment at index ${I}`)}}(v),this.navigateByUrl(this.createUrlTree(v,P),P)}serializeUrl(v){return this.urlSerializer.serialize(v)}parseUrl(v){let P;try{P=this.urlSerializer.parse(v)}catch(F){P=this.malformedUriErrorHandler(F,this.urlSerializer,v)}return P}isActive(v,P){let F;if(F=!0===P?Object.assign({},zr):!1===P?Object.assign({},Bu):P,Di(v))return Nr(this.currentUrlTree,v,F);const X=this.parseUrl(v);return Nr(this.currentUrlTree,X,F)}removeEmptyProps(v){return Object.keys(v).reduce((P,F)=>{const X=v[F];return null!=X&&(P[F]=X),P},{})}processNavigations(){this.navigations.subscribe(v=>{this.navigated=!0,this.lastSuccessfulId=v.id,this.currentPageId=v.targetPageId,this.events.next(new xt(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,v.resolve(!0)},v=>{this.console.warn(`Unhandled Navigation Error: ${v}`)})}scheduleNavigation(v,P,F,X,Se){var Be,ct,Bt;if(this.disposed)return Promise.resolve(!1);const pr=this.transitions.value,Dn=Qi(P)&&pr&&!Qi(pr.source),on=pr.rawUrl.toString()===v.toString(),hr=pr.id===(null===(Be=this.currentNavigation)||void 0===Be?void 0:Be.id);if(Dn&&on&&hr)return Promise.resolve(!0);let Pr,Sn,vs;Se?(Pr=Se.resolve,Sn=Se.reject,vs=Se.promise):vs=new Promise((Ui,Er)=>{Pr=Ui,Sn=Er});const Xi=++this.navigationId;let oo;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(F=this.location.getState()),oo=F&&F.\u0275routerPageId?F.\u0275routerPageId:X.replaceUrl||X.skipLocationChange?null!==(ct=this.browserPageId)&&void 0!==ct?ct:0:(null!==(Bt=this.browserPageId)&&void 0!==Bt?Bt:0)+1):oo=0,this.setTransition({id:Xi,targetPageId:oo,source:P,restoredState:F,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:v,extras:X,resolve:Pr,reject:Sn,promise:vs,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),vs.catch(Ui=>Promise.reject(Ui))}setBrowserUrl(v,P){const F=this.urlSerializer.serialize(v),X=Object.assign(Object.assign({},P.extras.state),this.generateNgRouterState(P.id,P.targetPageId));this.location.isCurrentPathEqualTo(F)||P.extras.replaceUrl?this.location.replaceState(F,"",X):this.location.go(F,"",X)}restoreHistory(v,P=!1){var F,X;if("computed"===this.canceledNavigationResolution){const Se=this.currentPageId-v.targetPageId;"popstate"!==v.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(F=this.currentNavigation)||void 0===F?void 0:F.finalUrl)||0===Se?this.currentUrlTree===(null===(X=this.currentNavigation)||void 0===X?void 0:X.finalUrl)&&0===Se&&(this.resetState(v),this.browserUrlTree=v.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(Se)}else"replace"===this.canceledNavigationResolution&&(P&&this.resetState(v),this.resetUrlToCurrentUrlTree())}resetState(v){this.routerState=v.currentRouterState,this.currentUrlTree=v.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,v.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(v,P){const F=new tn(v.id,this.serializeUrl(v.extractedUrl),P);this.triggerEvent(F),v.resolve(!1)}generateNgRouterState(v,P){return"computed"===this.canceledNavigationResolution?{navigationId:v,\u0275routerPageId:P}:{navigationId:v}}}return S.\u0275fac=function(v){f.$Z()},S.\u0275prov=f.Yz7({token:S,factory:S.\u0275fac}),S})();function Qi(S){return"imperative"!==S}let Wo=(()=>{class S{constructor(v,P,F,X,Se){this.router=v,this.route=P,this.tabIndexAttribute=F,this.renderer=X,this.el=Se,this.commands=null,this.onChanges=new Ze.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(v){if(null!=this.tabIndexAttribute)return;const P=this.renderer,F=this.el.nativeElement;null!==v?P.setAttribute(F,"tabindex",v):P.removeAttribute(F,"tabindex")}ngOnChanges(v){this.onChanges.next(this)}set routerLink(v){null!=v?(this.commands=Array.isArray(v)?v:[v],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const v={skipLocationChange:ds(this.skipLocationChange),replaceUrl:ds(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,v),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:ds(this.preserveFragment)})}}return S.\u0275fac=function(v){return new(v||S)(f.Y36(Yi),f.Y36(hn),f.$8M("tabindex"),f.Y36(f.Qsj),f.Y36(f.SBq))},S.\u0275dir=f.lG2({type:S,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(v,P){1&v&&f.NdJ("click",function(){return P.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[f.TTD]}),S})(),da=(()=>{class S{constructor(v,P,F){this.router=v,this.route=P,this.locationStrategy=F,this.commands=null,this.href=null,this.onChanges=new Ze.x,this.subscription=v.events.subscribe(X=>{X instanceof xt&&this.updateTargetUrlAndHref()})}set routerLink(v){this.commands=null!=v?Array.isArray(v)?v:[v]:null}ngOnChanges(v){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(v,P,F,X,Se){if(0!==v||P||F||X||Se||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const Be={skipLocationChange:ds(this.skipLocationChange),replaceUrl:ds(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,Be),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:ds(this.preserveFragment)})}}return S.\u0275fac=function(v){return new(v||S)(f.Y36(Yi),f.Y36(hn),f.Y36(Ht.S$))},S.\u0275dir=f.lG2({type:S,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(v,P){1&v&&f.NdJ("click",function(X){return P.onClick(X.button,X.ctrlKey,X.shiftKey,X.altKey,X.metaKey)}),2&v&&f.uIk("target",P.target)("href",P.href,f.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[f.TTD]}),S})();function ds(S){return""===S||!!S}let zo=(()=>{class S{constructor(v,P,F,X,Se,Be){this.router=v,this.element=P,this.renderer=F,this.cdr=X,this.link=Se,this.linkWithHref=Be,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new f.vpe,this.routerEventsSubscription=v.events.subscribe(ct=>{ct instanceof xt&&this.update()})}ngAfterContentInit(){(0,Z.of)(this.links.changes,this.linksWithHrefs.changes,(0,Z.of)(null)).pipe((0,It.J)()).subscribe(v=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var v;null===(v=this.linkInputChangesSubscription)||void 0===v||v.unsubscribe();const P=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(F=>!!F).map(F=>F.onChanges);this.linkInputChangesSubscription=(0,W.D)(P).pipe((0,It.J)()).subscribe(F=>{this.isActive!==this.isLinkActive(this.router)(F)&&this.update()})}set routerLinkActive(v){const P=Array.isArray(v)?v:v.split(" ");this.classes=P.filter(F=>!!F)}ngOnChanges(v){this.update()}ngOnDestroy(){var v;this.routerEventsSubscription.unsubscribe(),null===(v=this.linkInputChangesSubscription)||void 0===v||v.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const v=this.hasActiveLinks();this.isActive!==v&&(this.isActive=v,this.cdr.markForCheck(),this.classes.forEach(P=>{v?this.renderer.addClass(this.element.nativeElement,P):this.renderer.removeClass(this.element.nativeElement,P)}),this.isActiveChange.emit(v))})}isLinkActive(v){const P=function(S){return!!S.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return F=>!!F.urlTree&&v.isActive(F.urlTree,P)}hasActiveLinks(){const v=this.isLinkActive(this.router);return this.link&&v(this.link)||this.linkWithHref&&v(this.linkWithHref)||this.links.some(v)||this.linksWithHrefs.some(v)}}return S.\u0275fac=function(v){return new(v||S)(f.Y36(Yi),f.Y36(f.SBq),f.Y36(f.Qsj),f.Y36(f.sBO),f.Y36(Wo,8),f.Y36(da,8))},S.\u0275dir=f.lG2({type:S,selectors:[["","routerLinkActive",""]],contentQueries:function(v,P,F){if(1&v&&(f.Suo(F,Wo,5),f.Suo(F,da,5)),2&v){let X;f.iGM(X=f.CRH())&&(P.links=X),f.iGM(X=f.CRH())&&(P.linksWithHrefs=X)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[f.TTD]}),S})();class Mo{}class ju{preload(I,v){return(0,Z.of)(null)}}let so=(()=>{class S{constructor(v,P,F,X){this.router=v,this.injector=F,this.preloadingStrategy=X,this.loader=new ro(F,P,ct=>v.triggerEvent(new er(ct)),ct=>v.triggerEvent(new tr(ct)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,ue.h)(v=>v instanceof xt),(0,ye.b)(()=>this.preload())).subscribe(()=>{})}preload(){const v=this.injector.get(f.h0i);return this.processRoutes(v,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(v,P){const F=[];for(const X of P)if(X.loadChildren&&!X.canLoad&&X._loadedConfig){const Se=X._loadedConfig;F.push(this.processRoutes(Se.module,Se.routes))}else X.loadChildren&&!X.canLoad?F.push(this.preloadConfig(v,X)):X.children&&F.push(this.processRoutes(v,X.children));return(0,W.D)(F).pipe((0,It.J)(),(0,ae.U)(X=>{}))}preloadConfig(v,P){return this.preloadingStrategy.preload(P,()=>(P._loadedConfig?(0,Z.of)(P._loadedConfig):this.loader.load(v.injector,P)).pipe((0,He.z)(X=>(P._loadedConfig=X,this.processRoutes(X.module,X.routes)))))}}return S.\u0275fac=function(v){return new(v||S)(f.LFG(Yi),f.LFG(f.Sil),f.LFG(f.zs3),f.LFG(Mo))},S.\u0275prov=f.Yz7({token:S,factory:S.\u0275fac}),S})(),Go=(()=>{class S{constructor(v,P,F={}){this.router=v,this.viewportScroller=P,this.options=F,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},F.scrollPositionRestoration=F.scrollPositionRestoration||"disabled",F.anchorScrolling=F.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(v=>{v instanceof kt?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=v.navigationTrigger,this.restoredId=v.restoredState?v.restoredState.navigationId:0):v instanceof xt&&(this.lastId=v.id,this.scheduleScrollEvent(v,this.router.parseUrl(v.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(v=>{v instanceof Vn&&(v.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(v.position):v.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(v.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(v,P){this.router.triggerEvent(new Vn(v,"popstate"===this.lastSource?this.store[this.restoredId]:null,P))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return S.\u0275fac=function(v){f.$Z()},S.\u0275prov=f.Yz7({token:S,factory:S.\u0275fac}),S})();const _o=new f.OlP("ROUTER_CONFIGURATION"),Ko=new f.OlP("ROUTER_FORROOT_GUARD"),ti=[Ht.Ye,{provide:St,useClass:rn},{provide:Yi,useFactory:function(S,I,v,P,F,X,Se={},Be,ct){const Bt=new Yi(null,S,I,v,P,F,yn(X));return Be&&(Bt.urlHandlingStrategy=Be),ct&&(Bt.routeReuseStrategy=ct),function(S,I){S.errorHandler&&(I.errorHandler=S.errorHandler),S.malformedUriErrorHandler&&(I.malformedUriErrorHandler=S.malformedUriErrorHandler),S.onSameUrlNavigation&&(I.onSameUrlNavigation=S.onSameUrlNavigation),S.paramsInheritanceStrategy&&(I.paramsInheritanceStrategy=S.paramsInheritanceStrategy),S.relativeLinkResolution&&(I.relativeLinkResolution=S.relativeLinkResolution),S.urlUpdateStrategy&&(I.urlUpdateStrategy=S.urlUpdateStrategy),S.canceledNavigationResolution&&(I.canceledNavigationResolution=S.canceledNavigationResolution)}(Se,Bt),Se.enableTracing&&Bt.events.subscribe(pr=>{var Dn,on;null===(Dn=console.group)||void 0===Dn||Dn.call(console,`Router Event: ${pr.constructor.name}`),console.log(pr.toString()),console.log(pr),null===(on=console.groupEnd)||void 0===on||on.call(console)}),Bt},deps:[St,Hi,Ht.Ye,f.zs3,f.Sil,Ho,_o,[class{},new f.FiY],[class{},new f.FiY]]},Hi,{provide:hn,useFactory:function(S){return S.routerState.root},deps:[Yi]},so,ju,class{preload(I,v){return v().pipe((0,ge.K)(()=>(0,Z.of)(null)))}},{provide:_o,useValue:{enableTracing:!1}}];function Po(){return new f.PXZ("Router",Yi)}let vo=(()=>{class S{constructor(v,P){}static forRoot(v,P){return{ngModule:S,providers:[ti,kr(v),{provide:Ko,useFactory:Pt,deps:[[Yi,new f.FiY,new f.tp0]]},{provide:_o,useValue:P||{}},{provide:Ht.S$,useFactory:yl,deps:[Ht.lw,[new f.tBr(Ht.mr),new f.FiY],_o]},{provide:Go,useFactory:yu,deps:[Yi,Ht.EM,_o]},{provide:Mo,useExisting:P&&P.preloadingStrategy?P.preloadingStrategy:ju},{provide:f.PXZ,multi:!0,useFactory:Po},[Nn,{provide:f.ip1,multi:!0,useFactory:Ji,deps:[Nn]},{provide:nt,useFactory:Wt,deps:[Nn]},{provide:f.tb,multi:!0,useExisting:nt}]]}}static forChild(v){return{ngModule:S,providers:[kr(v)]}}}return S.\u0275fac=function(v){return new(v||S)(f.LFG(Ko,8),f.LFG(Yi,8))},S.\u0275mod=f.oAB({type:S}),S.\u0275inj=f.cJS({}),S})();function yu(S,I,v){return v.scrollOffset&&I.setOffset(v.scrollOffset),new Go(S,I,v)}function yl(S,I,v={}){return v.useHash?new Ht.Do(S,I):new Ht.b0(S,I)}function Pt(S){return"guarded"}function kr(S){return[{provide:f.deG,multi:!0,useValue:S},{provide:Ho,multi:!0,useValue:S}]}let Nn=(()=>{class S{constructor(v){this.injector=v,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Ze.x}appInitializer(){return this.injector.get(Ht.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let P=null;const F=new Promise(Be=>P=Be),X=this.injector.get(Yi),Se=this.injector.get(_o);return"disabled"===Se.initialNavigation?(X.setUpLocationChangeListener(),P(!0)):"enabled"===Se.initialNavigation||"enabledBlocking"===Se.initialNavigation?(X.hooks.afterPreactivation=()=>this.initNavigation?(0,Z.of)(null):(this.initNavigation=!0,P(!0),this.resultOfPreactivationDone),X.initialNavigation()):P(!0),F})}bootstrapListener(v){const P=this.injector.get(_o),F=this.injector.get(so),X=this.injector.get(Go),Se=this.injector.get(Yi),Be=this.injector.get(f.z2F);v===Be.components[0]&&(("enabledNonBlocking"===P.initialNavigation||void 0===P.initialNavigation)&&Se.initialNavigation(),F.setUpPreloading(),X.init(),Se.resetRootComponentType(Be.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return S.\u0275fac=function(v){return new(v||S)(f.LFG(f.zs3))},S.\u0275prov=f.Yz7({token:S,factory:S.\u0275fac}),S})();function Ji(S){return S.appInitializer.bind(S)}function Wt(S){return S.bootstrapListener.bind(S)}const nt=new f.OlP("Router Initializer")},579:(gt,Ne,b)=>{"use strict";b.d(Ne,{Gb:()=>Tr,Kz:()=>he,EI:()=>Me,lT:()=>ur,Iv:()=>Nr,xP:()=>xe,Xd:()=>nn});var f=b(5861),C=b(9681),$=b(1877),ce=b(2090),x=b(4859);b(2833);const j="analytics",W="firebase_id",Z="origin",q="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",te="https://www.googletagmanager.com/gtag/js",Te=new $.Yd("@firebase/analytics");function Ae(Ce){return Promise.all(Ce.map(We=>We.catch(st=>st)))}function Ye(Ce,We){const st=document.createElement("script");st.src=`${te}?l=${Ce}&id=${We}`,st.async=!0,document.head.appendChild(st)}function ue(Ce,We,st,vt,Dt,mt){return de.apply(this,arguments)}function de(){return(de=(0,f.Z)(function*(Ce,We,st,vt,Dt,mt){const St=vt[Dt];try{if(St)yield We[St];else{const vn=(yield Ae(st)).find(Ue=>Ue.measurementId===Dt);vn&&(yield We[vn.appId])}}catch(rn){Te.error(rn)}Ce("config",Dt,mt)})).apply(this,arguments)}function Ie(Ce,We,st,vt,Dt){return me.apply(this,arguments)}function me(){return(me=(0,f.Z)(function*(Ce,We,st,vt,Dt){try{let mt=[];if(Dt&&Dt.send_to){let St=Dt.send_to;Array.isArray(St)||(St=[St]);const rn=yield Ae(st);for(const vn of St){const Ue=rn.find(pe=>pe.measurementId===vn),Oe=Ue&&We[Ue.appId];if(!Oe){mt=[];break}mt.push(Oe)}}0===mt.length&&(mt=Object.values(We)),yield Promise.all(mt),Ce("event",vt,Dt||{})}catch(mt){Te.error(mt)}})).apply(this,arguments)}function ae(){const Ce=window.document.getElementsByTagName("script");for(const We of Object.values(Ce))if(We.src&&We.src.includes(te))return We;return null}const we=new ce.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),ye=new class{constructor(We={},st=1e3){this.throttleMetadata=We,this.intervalMillis=st}getThrottleMetadata(We){return this.throttleMetadata[We]}setThrottleMetadata(We,st){this.throttleMetadata[We]=st}deleteThrottleMetadata(We){delete this.throttleMetadata[We]}};function _e(Ce){return new Headers({Accept:"application/json","x-goog-api-key":Ce})}function He(Ce){return De.apply(this,arguments)}function De(){return(De=(0,f.Z)(function*(Ce){var We;const{appId:st,apiKey:vt}=Ce,Dt={method:"GET",headers:_e(vt)},mt=q.replace("{app-id}",st),St=yield fetch(mt,Dt);if(200!==St.status&&304!==St.status){let rn="";try{const vn=yield St.json();(null===(We=vn.error)||void 0===We?void 0:We.message)&&(rn=vn.error.message)}catch(vn){}throw we.create("config-fetch-failed",{httpStatus:St.status,responseMessage:rn})}return St.json()})).apply(this,arguments)}function Et(Ce){return It.apply(this,arguments)}function It(){return(It=(0,f.Z)(function*(Ce,We=ye,st){const{appId:vt,apiKey:Dt,measurementId:mt}=Ce.options;if(!vt)throw we.create("no-app-id");if(!Dt){if(mt)return{measurementId:mt,appId:vt};throw we.create("no-api-key")}const St=We.getThrottleMetadata(vt)||{backoffCount:0,throttleEndTimeMillis:Date.now()},rn=new tn;return setTimeout((0,f.Z)(function*(){rn.abort()}),void 0!==st?st:6e4),Ht({appId:vt,apiKey:Dt,measurementId:mt},St,rn,We)})).apply(this,arguments)}function Ht(Ce,We,st){return it.apply(this,arguments)}function it(){return(it=(0,f.Z)(function*(Ce,{throttleEndTimeMillis:We,backoffCount:st},vt,Dt=ye){const{appId:mt,measurementId:St}=Ce;try{yield kt(vt,We)}catch(rn){if(St)return Te.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${St} provided in the "measurementId" field in the local Firebase config. [${rn.message}]`),{appId:mt,measurementId:St};throw rn}try{const rn=yield He(Ce);return Dt.deleteThrottleMetadata(mt),rn}catch(rn){if(!xt(rn)){if(Dt.deleteThrottleMetadata(mt),St)return Te.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${St} provided in the "measurementId" field in the local Firebase config. [${rn.message}]`),{appId:mt,measurementId:St};throw rn}const vn=503===Number(rn.customData.httpStatus)?(0,ce.$s)(st,Dt.intervalMillis,30):(0,ce.$s)(st,Dt.intervalMillis),Ue={throttleEndTimeMillis:Date.now()+vn,backoffCount:st+1};return Dt.setThrottleMetadata(mt,Ue),Te.debug(`Calling attemptFetch again in ${vn} millis`),Ht(Ce,Ue,vt,Dt)}})).apply(this,arguments)}function kt(Ce,We){return new Promise((st,vt)=>{const Dt=Math.max(We-Date.now(),0),mt=setTimeout(st,Dt);Ce.addEventListener(()=>{clearTimeout(mt),vt(we.create("fetch-throttle",{throttleEndTimeMillis:We}))})})}function xt(Ce){if(!(Ce instanceof ce.ZR&&Ce.customData))return!1;const We=Number(Ce.customData.httpStatus);return 429===We||500===We||503===We||504===We}class tn{constructor(){this.listeners=[]}addEventListener(We){this.listeners.push(We)}abort(){this.listeners.forEach(We=>We())}}function Hn(){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,f.Z)(function*(){if(!(0,ce.hl)())return Te.warn(we.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ce.eu)()}catch(Ce){return Te.warn(we.create("indexeddb-unavailable",{errorInfo:Ce}).message),!1}return!0})).apply(this,arguments)}function An(){return(An=(0,f.Z)(function*(Ce,We,st,vt,Dt,mt,St){var rn;const vn=Et(Ce);vn.then(rt=>{st[rt.measurementId]=rt.appId,Ce.options.measurementId&&rt.measurementId!==Ce.options.measurementId&&Te.warn(`The measurement ID in the local Firebase config (${Ce.options.measurementId}) does not match the measurement ID fetched from the server (${rt.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(rt=>Te.error(rt)),We.push(vn);const Ue=Hn().then(rt=>{if(rt)return vt.getId()}),[Oe,pe]=yield Promise.all([vn,Ue]);ae()||Ye(mt,Oe.measurementId),Dt("js",new Date);const Ve=null!==(rn=null==St?void 0:St.config)&&void 0!==rn?rn:{};return Ve[Z]="firebase",Ve.update=!0,null!=pe&&(Ve[W]=pe),Dt("config",Oe.measurementId,Ve),Oe.measurementId})).apply(this,arguments)}class qt{constructor(We){this.app=We}_delete(){return delete Ln[this.app.options.appId],Promise.resolve()}}let Ln={},er=[];const tr={};let Pn,bn,Gn="dataLayer",cr="gtag",Vn=!1;function nn(Ce){if(Vn)throw we.create("already-initialized");Ce.dataLayerName&&(Gn=Ce.dataLayerName),Ce.gtagName&&(cr=Ce.gtagName)}function kn(Ce,We,st){!function(){const Ce=[];if((0,ce.ru)()&&Ce.push("This is a browser extension environment."),(0,ce.zI)()||Ce.push("Cookies are not available."),Ce.length>0){const We=Ce.map((vt,Dt)=>`(${Dt+1}) ${vt}`).join(" "),st=we.create("invalid-analytics-context",{errorInfo:We});Te.warn(st.message)}}();const vt=Ce.options.appId;if(!vt)throw we.create("no-app-id");if(!Ce.options.apiKey){if(!Ce.options.measurementId)throw we.create("no-api-key");Te.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${Ce.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ln[vt])throw we.create("already-exists",{id:vt});if(!Vn){!function(Ce){let We=[];Array.isArray(window[Ce])?We=window[Ce]:window[Ce]=We}(Gn);const{wrappedGtag:mt,gtagCore:St}=function(Ce,We,st,vt,Dt){let mt=function(...St){window[vt].push(arguments)};return window[Dt]&&"function"==typeof window[Dt]&&(mt=window[Dt]),window[Dt]=function(Ce,We,st,vt){function mt(){return(mt=(0,f.Z)(function*(St,rn,vn){try{"event"===St?yield Ie(Ce,We,st,rn,vn):"config"===St?yield ue(Ce,We,st,vt,rn,vn):Ce("set",rn)}catch(Ue){Te.error(Ue)}})).apply(this,arguments)}return function(St,rn,vn){return mt.apply(this,arguments)}}(mt,Ce,We,st),{gtagCore:mt,wrappedGtag:window[Dt]}}(Ln,er,tr,Gn,cr);bn=mt,Pn=St,Vn=!0}return Ln[vt]=function(Ce,We,st,vt,Dt,mt,St){return An.apply(this,arguments)}(Ce,er,tr,We,Pn,Gn,st),new qt(Ce)}function ar(){return(ar=(0,f.Z)(function*(Ce,We,st,vt,Dt){if(Dt&&Dt.global)Ce("event",st,vt);else{const mt=yield We;Ce("event",st,Object.assign(Object.assign({},vt),{send_to:mt}))}})).apply(this,arguments)}function en(){return(en=(0,f.Z)(function*(Ce,We,st,vt){if(vt&&vt.global)return Ce("set",{screen_name:st}),Promise.resolve();Ce("config",yield We,{update:!0,screen_name:st})})).apply(this,arguments)}function Zt(){return(Zt=(0,f.Z)(function*(Ce,We,st,vt){if(vt&&vt.global)return Ce("set",{user_id:st}),Promise.resolve();Ce("config",yield We,{update:!0,user_id:st})})).apply(this,arguments)}function yn(){return(yn=(0,f.Z)(function*(Ce,We,st,vt){if(vt&&vt.global){const Dt={};for(const mt of Object.keys(st))Dt[`user_properties.${mt}`]=st[mt];return Ce("set",Dt),Promise.resolve()}Ce("config",yield We,{update:!0,user_properties:st})})).apply(this,arguments)}function jt(){return(jt=(0,f.Z)(function*(Ce,We){const st=yield Ce;window[`ga-disable-${st}`]=!We})).apply(this,arguments)}function Tr(){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,f.Z)(function*(){if((0,ce.ru)()||!(0,ce.zI)()||!(0,ce.hl)())return!1;try{return yield(0,ce.eu)()}catch(Ce){return!1}})).apply(this,arguments)}function ur(Ce,We,st){Ce=(0,ce.m9)(Ce),function(Ce,We,st,vt){return en.apply(this,arguments)}(bn,Ln[Ce.app.options.appId],We,st).catch(vt=>Te.error(vt))}function Nr(Ce,We,st){Ce=(0,ce.m9)(Ce),function(Ce,We,st,vt){return Zt.apply(this,arguments)}(bn,Ln[Ce.app.options.appId],We,st).catch(vt=>Te.error(vt))}function xe(Ce,We,st){Ce=(0,ce.m9)(Ce),function(Ce,We,st,vt){return yn.apply(this,arguments)}(bn,Ln[Ce.app.options.appId],We,st).catch(vt=>Te.error(vt))}function Me(Ce,We){Ce=(0,ce.m9)(Ce),function(Ce,We){return jt.apply(this,arguments)}(Ln[Ce.app.options.appId],We).catch(st=>Te.error(st))}function he(Ce,We,st,vt){Ce=(0,ce.m9)(Ce),function(Ce,We,st,vt,Dt){return ar.apply(this,arguments)}(bn,Ln[Ce.app.options.appId],We,st,vt).catch(Dt=>Te.error(Dt))}const V="@firebase/analytics",K="0.7.5";(0,C._registerComponent)(new x.wA(j,(We,{options:st})=>kn(We.getProvider("app").getImmediate(),We.getProvider("installations-internal").getImmediate(),st),"PUBLIC")),(0,C._registerComponent)(new x.wA("analytics-internal",function(We){try{const st=We.getProvider(j).getImmediate();return{logEvent:(vt,Dt,mt)=>he(st,vt,Dt,mt)}}catch(st){throw we.create("interop-component-reg-failed",{reason:st})}},"PRIVATE")),(0,C.registerVersion)(V,K),(0,C.registerVersion)(V,K,"esm2017")},3942:(gt,Ne,b)=>{"use strict";b.d(Ne,{Z:()=>Ye});var f=b(2090),C=b(4859),$=b(9681),ce=b(1877);class x{constructor(ue,de){this._delegate=ue,this.firebase=de,(0,$._addComponent)(ue,new C.wA("app-compat",()=>this,"PUBLIC")),this.container=ue.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ue){this._delegate.automaticDataCollectionEnabled=ue}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ue=>{this._delegate.checkDestroyed(),ue()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,$.deleteApp)(this._delegate)))}_getService(ue,de=$._DEFAULT_ENTRY_NAME){var Ie;this._delegate.checkDestroyed();const me=this._delegate.container.getProvider(ue);return!me.isInitialized()&&"EXPLICIT"===(null===(Ie=me.getComponent())||void 0===Ie?void 0:Ie.instantiationMode)&&me.initialize(),me.getImmediate({identifier:de})}_removeServiceInstance(ue,de=$._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ue).clearInstance(de)}_addComponent(ue){(0,$._addComponent)(this._delegate,ue)}_addOrOverwriteComponent(ue){(0,$._addOrOverwriteComponent)(this._delegate,ue)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const j=new f.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),z=function Z(){const Ze=function(Ze){const ue={},de={__esModule:!0,initializeApp:function(we,Fe={}){const le=$.initializeApp(we,Fe);if((0,f.r3)(ue,le.name))return ue[le.name];const ge=new Ze(le,de);return ue[le.name]=ge,ge},app:me,registerVersion:$.registerVersion,setLogLevel:$.setLogLevel,onLog:$.onLog,apps:null,SDK_VERSION:$.SDK_VERSION,INTERNAL:{registerComponent:function(we){const Fe=we.name,le=Fe.replace("-compat","");if($._registerComponent(we)&&"PUBLIC"===we.type){const ge=(ye=me())=>{if("function"!=typeof ye[le])throw j.create("invalid-app-argument",{appName:Fe});return ye[le]()};void 0!==we.serviceProps&&(0,f.ZB)(ge,we.serviceProps),de[le]=ge,Ze.prototype[le]=function(...ye){return this._getService.bind(this,Fe).apply(this,we.multipleInstances?ye:[])}}return"PUBLIC"===we.type?de[le]:null},removeApp:function(we){delete ue[we]},useAsService:function(we,Fe){return"serverAuth"===Fe?null:Fe},modularAPIs:$}};function me(we){if(!(0,f.r3)(ue,we=we||$._DEFAULT_ENTRY_NAME))throw j.create("no-app",{appName:we});return ue[we]}return de.default=de,Object.defineProperty(de,"apps",{get:function(){return Object.keys(ue).map(we=>ue[we])}}),me.App=Ze,de}(x);return Ze.INTERNAL=Object.assign(Object.assign({},Ze.INTERNAL),{createFirebaseNamespace:Z,extendNamespace:function(de){(0,f.ZB)(Ze,de)},createSubscribe:f.ne,ErrorFactory:f.LL,deepExtend:f.ZB}),Ze}(),q=new ce.Yd("@firebase/app-compat");if((0,f.jU)()&&void 0!==self.firebase){q.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ze=self.firebase.SDK_VERSION;Ze&&Ze.indexOf("LITE")>=0&&q.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ye=z;(0,$.registerVersion)("@firebase/app-compat","0.1.16",undefined)},9681:(gt,Ne,b)=>{"use strict";b.r(Ne),b.d(Ne,{FirebaseError:()=>ce.ZR,SDK_VERSION:()=>Gn,_DEFAULT_ENTRY_NAME:()=>Ht,_addComponent:()=>tn,_addOrOverwriteComponent:()=>Hn,_apps:()=>kt,_clearComponents:()=>qt,_components:()=>xt,_getProvider:()=>Bn,_registerComponent:()=>Cn,_removeServiceInstance:()=>An,deleteApp:()=>Vn,getApp:()=>Pn,getApps:()=>bn,initializeApp:()=>cr,onLog:()=>kn,registerVersion:()=>Xt,setLogLevel:()=>rr});var f=b(5861),C=b(4859),$=b(1877),ce=b(2090);class x{constructor(en){this.container=en}getPlatformInfoString(){return this.container.getProviders().map(un=>{if(function(Kt){const en=Kt.getComponent();return"VERSION"===(null==en?void 0:en.type)}(un)){const Zt=un.getImmediate();return`${Zt.library}/${Zt.version}`}return null}).filter(un=>un).join(" ")}}const j="@firebase/app",W="0.7.15",Z=new $.Yd("@firebase/app"),Ht="[DEFAULT]",it={[j]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},kt=new Map,xt=new Map;function tn(Kt,en){try{Kt.container.addComponent(en)}catch(un){Z.debug(`Component ${en.name} failed to register with FirebaseApp ${Kt.name}`,un)}}function Hn(Kt,en){Kt.container.addOrOverwriteComponent(en)}function Cn(Kt){const en=Kt.name;if(xt.has(en))return Z.debug(`There were multiple attempts to register component ${en}.`),!1;xt.set(en,Kt);for(const un of kt.values())tn(un,Kt);return!0}function Bn(Kt,en){return Kt.container.getProvider(en)}function An(Kt,en,un=Ht){Bn(Kt,en).clearInstance(un)}function qt(){xt.clear()}const er=new ce.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class tr{constructor(en,un,Zt){this._isDeleted=!1,this._options=Object.assign({},en),this._config=Object.assign({},un),this._name=un.name,this._automaticDataCollectionEnabled=un.automaticDataCollectionEnabled,this._container=Zt,this.container.addComponent(new C.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(en){this.checkDestroyed(),this._automaticDataCollectionEnabled=en}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(en){this._isDeleted=en}checkDestroyed(){if(this.isDeleted)throw er.create("app-deleted",{appName:this._name})}}const Gn="9.6.5";function cr(Kt,en={}){"object"!=typeof en&&(en={name:en});const un=Object.assign({name:Ht,automaticDataCollectionEnabled:!1},en),Zt=un.name;if("string"!=typeof Zt||!Zt)throw er.create("bad-app-name",{appName:String(Zt)});const jn=kt.get(Zt);if(jn){if((0,ce.vZ)(Kt,jn.options)&&(0,ce.vZ)(un,jn.config))return jn;throw er.create("duplicate-app",{appName:Zt})}const yn=new C.H0(Zt);for(const jt of xt.values())yn.addComponent(jt);const Lt=new tr(Kt,un,yn);return kt.set(Zt,Lt),Lt}function Pn(Kt=Ht){const en=kt.get(Kt);if(!en)throw er.create("no-app",{appName:Kt});return en}function bn(){return Array.from(kt.values())}function Vn(Kt){return nn.apply(this,arguments)}function nn(){return(nn=(0,f.Z)(function*(Kt){const en=Kt.name;kt.has(en)&&(kt.delete(en),yield Promise.all(Kt.container.getProviders().map(un=>un.delete())),Kt.isDeleted=!0)})).apply(this,arguments)}function Xt(Kt,en,un){var Zt;let jn=null!==(Zt=it[Kt])&&void 0!==Zt?Zt:Kt;un&&(jn+=`-${un}`);const yn=jn.match(/\s|\//),Lt=en.match(/\s|\//);if(yn||Lt){const jt=[`Unable to register library "${jn}" with version "${en}":`];return yn&&jt.push(`library name "${jn}" contains illegal characters (whitespace or "/")`),yn&&Lt&&jt.push("and"),Lt&&jt.push(`version name "${en}" contains illegal characters (whitespace or "/")`),void Z.warn(jt.join(" "))}Cn(new C.wA(`${jn}-version`,()=>({library:jn,version:en}),"VERSION"))}function kn(Kt,en){if(null!==Kt&&"function"!=typeof Kt)throw er.create("invalid-log-argument");(0,$.Am)(Kt,en)}function rr(Kt){(0,$.Ub)(Kt)}Cn(new C.wA("platform-logger",en=>new x(en),"PRIVATE")),Xt(j,W,""),Xt(j,W,"esm2017"),Xt("fire-js","")},4859:(gt,Ne,b)=>{"use strict";b.d(Ne,{wA:()=>$,H0:()=>W});var f=b(5861),C=b(2090);class ${constructor(z,q,te){this.name=z,this.instanceFactory=q,this.type=te,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(z){return this.instantiationMode=z,this}setMultipleInstances(z){return this.multipleInstances=z,this}setServiceProps(z){return this.serviceProps=z,this}setInstanceCreatedCallback(z){return this.onInstanceCreated=z,this}}const ce="[DEFAULT]";class x{constructor(z,q){this.name=z,this.container=q,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(z){const q=this.normalizeInstanceIdentifier(z);if(!this.instancesDeferred.has(q)){const te=new C.BH;if(this.instancesDeferred.set(q,te),this.isInitialized(q)||this.shouldAutoInitialize())try{const Te=this.getOrInitializeService({instanceIdentifier:q});Te&&te.resolve(Te)}catch(Te){}}return this.instancesDeferred.get(q).promise}getImmediate(z){var q;const te=this.normalizeInstanceIdentifier(null==z?void 0:z.identifier),Te=null!==(q=null==z?void 0:z.optional)&&void 0!==q&&q;if(!this.isInitialized(te)&&!this.shouldAutoInitialize()){if(Te)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:te})}catch(Ae){if(Te)return null;throw Ae}}getComponent(){return this.component}setComponent(z){if(z.name!==this.name)throw Error(`Mismatching Component ${z.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=z,this.shouldAutoInitialize()){if("EAGER"===z.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:ce})}catch(q){}for(const[q,te]of this.instancesDeferred.entries()){const Te=this.normalizeInstanceIdentifier(q);try{const Ae=this.getOrInitializeService({instanceIdentifier:Te});te.resolve(Ae)}catch(Ae){}}}}clearInstance(z=ce){this.instancesDeferred.delete(z),this.instancesOptions.delete(z),this.instances.delete(z)}delete(){var z=this;return(0,f.Z)(function*(){const q=Array.from(z.instances.values());yield Promise.all([...q.filter(te=>"INTERNAL"in te).map(te=>te.INTERNAL.delete()),...q.filter(te=>"_delete"in te).map(te=>te._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(z=ce){return this.instances.has(z)}getOptions(z=ce){return this.instancesOptions.get(z)||{}}initialize(z={}){const{options:q={}}=z,te=this.normalizeInstanceIdentifier(z.instanceIdentifier);if(this.isInitialized(te))throw Error(`${this.name}(${te}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Te=this.getOrInitializeService({instanceIdentifier:te,options:q});for(const[Ae,Ye]of this.instancesDeferred.entries())te===this.normalizeInstanceIdentifier(Ae)&&Ye.resolve(Te);return Te}onInit(z,q){var te;const Te=this.normalizeInstanceIdentifier(q),Ae=null!==(te=this.onInitCallbacks.get(Te))&&void 0!==te?te:new Set;Ae.add(z),this.onInitCallbacks.set(Te,Ae);const Ye=this.instances.get(Te);return Ye&&z(Ye,Te),()=>{Ae.delete(z)}}invokeOnInitCallbacks(z,q){const te=this.onInitCallbacks.get(q);if(te)for(const Te of te)try{Te(z,q)}catch(Ae){}}getOrInitializeService({instanceIdentifier:z,options:q={}}){let te=this.instances.get(z);if(!te&&this.component&&(te=this.component.instanceFactory(this.container,{instanceIdentifier:(Z=z,Z===ce?void 0:Z),options:q}),this.instances.set(z,te),this.instancesOptions.set(z,q),this.invokeOnInitCallbacks(te,z),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,z,te)}catch(Te){}var Z;return te||null}normalizeInstanceIdentifier(z=ce){return this.component?this.component.multipleInstances?z:ce:z}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class W{constructor(z){this.name=z,this.providers=new Map}addComponent(z){const q=this.getProvider(z.name);if(q.isComponentSet())throw new Error(`Component ${z.name} has already been registered with ${this.name}`);q.setComponent(z)}addOrOverwriteComponent(z){this.getProvider(z.name).isComponentSet()&&this.providers.delete(z.name),this.addComponent(z)}getProvider(z){if(this.providers.has(z))return this.providers.get(z);const q=new x(z,this);return this.providers.set(z,q),q}getProviders(){return Array.from(this.providers.values())}}},2833:(gt,Ne,b)=>{"use strict";var f=b(5861),C=b(9681),$=b(4859),ce=b(2090),x=b(6033);const H="@firebase/installations",j="0.5.5",Z=`w:${j}`,z="FIS_v2",Ze=new ce.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function ue(be){return be instanceof ce.ZR&&be.code.includes("request-failed")}function de({projectId:be}){return`https://firebaseinstallations.googleapis.com/v1/projects/${be}/installations`}function Ie(be){return{token:be.token,requestStatus:2,expiresIn:Fe(be.expiresIn),creationTime:Date.now()}}function me(be,Xe){return G.apply(this,arguments)}function G(){return(G=(0,f.Z)(function*(be,Xe){const Vt=(yield Xe.json()).error;return Ze.create("request-failed",{requestName:be,serverCode:Vt.code,serverMessage:Vt.message,serverStatus:Vt.status})})).apply(this,arguments)}function w({apiKey:be}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":be})}function ae(be,{refreshToken:Xe}){const dt=w(be);return dt.append("Authorization",function(be){return`${z} ${be}`}(Xe)),dt}function re(be){return we.apply(this,arguments)}function we(){return(we=(0,f.Z)(function*(be){const Xe=yield be();return Xe.status>=500&&Xe.status<600?be():Xe})).apply(this,arguments)}function Fe(be){return Number(be.replace("s","000"))}function ge(be,Xe){return ye.apply(this,arguments)}function ye(){return(ye=(0,f.Z)(function*(be,{fid:Xe}){const dt=de(be),dn={method:"POST",headers:w(be),body:JSON.stringify({fid:Xe,authVersion:z,appId:be.appId,sdkVersion:Z})},Jn=yield re(()=>fetch(dt,dn));if(Jn.ok){const Rn=yield Jn.json();return{fid:Rn.fid||Xe,registrationStatus:2,refreshToken:Rn.refreshToken,authToken:Ie(Rn.authToken)}}throw yield me("Create Installation",Jn)})).apply(this,arguments)}function _e(be){return new Promise(Xe=>{setTimeout(Xe,be)})}const De=/^[cdef][\w-]{21}$/;function It(){try{const be=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(be),be[0]=112+be[0]%16;const dt=function(be){return function(be){return btoa(String.fromCharCode(...be)).replace(/\+/g,"-").replace(/\//g,"_")}(be).substr(0,22)}(be);return De.test(dt)?dt:""}catch(be){return""}}function it(be){return`${be.appName}!${be.appId}`}const kt=new Map;function xt(be,Xe){const dt=it(be);Cn(dt,Xe),function(be,Xe){const dt=(!An&&"BroadcastChannel"in self&&(An=new BroadcastChannel("[Firebase] FID Change"),An.onmessage=be=>{Cn(be.data.key,be.data.fid)}),An);dt&&dt.postMessage({key:be,fid:Xe}),0===kt.size&&An&&(An.close(),An=null)}(dt,Xe)}function Cn(be,Xe){const dt=kt.get(be);if(dt)for(const Vt of dt)Vt(Xe)}let An=null;const Gn="firebase-installations-store";let cr=null;function Pn(){return cr||(cr=(0,x.openDb)("firebase-installations-database",1,be=>{0===be.oldVersion&&be.createObjectStore(Gn)})),cr}function bn(be,Xe){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,f.Z)(function*(be,Xe){const dt=it(be),Qn=(yield Pn()).transaction(Gn,"readwrite"),dn=Qn.objectStore(Gn),Jn=yield dn.get(dt);return yield dn.put(Xe,dt),yield Qn.complete,(!Jn||Jn.fid!==Xe.fid)&&xt(be,Xe.fid),Xe})).apply(this,arguments)}function nn(be){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,f.Z)(function*(be){const Xe=it(be),Vt=(yield Pn()).transaction(Gn,"readwrite");yield Vt.objectStore(Gn).delete(Xe),yield Vt.complete})).apply(this,arguments)}function kn(be,Xe){return rr.apply(this,arguments)}function rr(){return(rr=(0,f.Z)(function*(be,Xe){const dt=it(be),Qn=(yield Pn()).transaction(Gn,"readwrite"),dn=Qn.objectStore(Gn),Jn=yield dn.get(dt),Rn=Xe(Jn);return void 0===Rn?yield dn.delete(dt):yield dn.put(Rn,dt),yield Qn.complete,Rn&&(!Jn||Jn.fid!==Rn.fid)&&xt(be,Rn.fid),Rn})).apply(this,arguments)}function ar(be){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,f.Z)(function*(be){let Xe;const dt=yield kn(be,Vt=>{const Qn=en(Vt),dn=un(be,Qn);return Xe=dn.registrationPromise,dn.installationEntry});return""===dt.fid?{installationEntry:yield Xe}:{installationEntry:dt,registrationPromise:Xe}})).apply(this,arguments)}function en(be){return _n(be||{fid:It(),registrationStatus:0})}function un(be,Xe){if(0===Xe.registrationStatus){if(!navigator.onLine)return{installationEntry:Xe,registrationPromise:Promise.reject(Ze.create("app-offline"))};const dt={fid:Xe.fid,registrationStatus:1,registrationTime:Date.now()},Vt=function(be,Xe){return jn.apply(this,arguments)}(be,dt);return{installationEntry:dt,registrationPromise:Vt}}return 1===Xe.registrationStatus?{installationEntry:Xe,registrationPromise:yn(be)}:{installationEntry:Xe}}function jn(){return(jn=(0,f.Z)(function*(be,Xe){try{return bn(be,yield ge(be,Xe))}catch(dt){throw ue(dt)&&409===dt.customData.serverCode?yield nn(be):yield bn(be,{fid:Xe.fid,registrationStatus:0}),dt}})).apply(this,arguments)}function yn(be){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,f.Z)(function*(be){let Xe=yield jt(be);for(;1===Xe.registrationStatus;)yield _e(100),Xe=yield jt(be);if(0===Xe.registrationStatus){const{installationEntry:dt,registrationPromise:Vt}=yield ar(be);return Vt||dt}return Xe})).apply(this,arguments)}function jt(be){return kn(be,Xe=>{if(!Xe)throw Ze.create("installation-not-found");return _n(Xe)})}function _n(be){return function(be){return 1===be.registrationStatus&&be.registrationTime+1e4<Date.now()}(be)?{fid:be.fid,registrationStatus:0}:be}function Tr(be,Xe){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,f.Z)(function*({appConfig:be,platformLoggerProvider:Xe},dt){const Vt=ur(be,dt),Qn=ae(be,dt),dn=Xe.getImmediate({optional:!0});dn&&Qn.append("x-firebase-client",dn.getPlatformInfoString());const Rn={method:"POST",headers:Qn,body:JSON.stringify({installation:{sdkVersion:Z}})},wi=yield re(()=>fetch(Vt,Rn));if(wi.ok)return Ie(yield wi.json());throw yield me("Generate Auth Token",wi)})).apply(this,arguments)}function ur(be,{fid:Xe}){return`${de(be)}/${Xe}/authTokens:generate`}function Nr(be){return xe.apply(this,arguments)}function xe(){return(xe=(0,f.Z)(function*(be,Xe=!1){let dt;const Vt=yield kn(be.appConfig,dn=>{if(!Ce(dn))throw Ze.create("not-registered");const Jn=dn.authToken;if(!Xe&&We(Jn))return dn;if(1===Jn.requestStatus)return dt=Me(be,Xe),dn;{if(!navigator.onLine)throw Ze.create("app-offline");const Rn=vt(dn);return dt=K(be,Rn),Rn}});return dt?yield dt:Vt.authToken})).apply(this,arguments)}function Me(be,Xe){return he.apply(this,arguments)}function he(){return(he=(0,f.Z)(function*(be,Xe){let dt=yield V(be.appConfig);for(;1===dt.authToken.requestStatus;)yield _e(100),dt=yield V(be.appConfig);const Vt=dt.authToken;return 0===Vt.requestStatus?Nr(be,Xe):Vt})).apply(this,arguments)}function V(be){return kn(be,Xe=>{if(!Ce(Xe))throw Ze.create("not-registered");return function(be){return 1===be.requestStatus&&be.requestTime+1e4<Date.now()}(Xe.authToken)?Object.assign(Object.assign({},Xe),{authToken:{requestStatus:0}}):Xe})}function K(be,Xe){return ze.apply(this,arguments)}function ze(){return(ze=(0,f.Z)(function*(be,Xe){try{const dt=yield Tr(be,Xe),Vt=Object.assign(Object.assign({},Xe),{authToken:dt});return yield bn(be.appConfig,Vt),dt}catch(dt){if(!ue(dt)||401!==dt.customData.serverCode&&404!==dt.customData.serverCode){const Vt=Object.assign(Object.assign({},Xe),{authToken:{requestStatus:0}});yield bn(be.appConfig,Vt)}else yield nn(be.appConfig);throw dt}})).apply(this,arguments)}function Ce(be){return void 0!==be&&2===be.registrationStatus}function We(be){return 2===be.requestStatus&&!function(be){const Xe=Date.now();return Xe<be.creationTime||be.creationTime+be.expiresIn<Xe+36e5}(be)}function vt(be){const Xe={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},be),{authToken:Xe})}function St(){return(St=(0,f.Z)(function*(be){const Xe=be,{installationEntry:dt,registrationPromise:Vt}=yield ar(Xe.appConfig);return Vt?Vt.catch(console.error):Nr(Xe).catch(console.error),dt.fid})).apply(this,arguments)}function vn(){return(vn=(0,f.Z)(function*(be,Xe=!1){const dt=be;return yield Ue(dt.appConfig),(yield Nr(dt,Xe)).token})).apply(this,arguments)}function Ue(be){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,f.Z)(function*(be){const{registrationPromise:Xe}=yield ar(be);Xe&&(yield Xe)})).apply(this,arguments)}function Ur(be){return Ze.create("missing-app-config-values",{valueName:be})}const Si="installations";(0,C._registerComponent)(new $.wA(Si,be=>{const Xe=be.getProvider("app").getImmediate(),dt=function(be){if(!be||!be.options)throw Ur("App Configuration");if(!be.name)throw Ur("App Name");const Xe=["projectId","apiKey","appId"];for(const dt of Xe)if(!be.options[dt])throw Ur(dt);return{appName:be.name,projectId:be.options.projectId,apiKey:be.options.apiKey,appId:be.options.appId}}(Xe);return{app:Xe,appConfig:dt,platformLoggerProvider:(0,C._getProvider)(Xe,"platform-logger"),_delete:()=>Promise.resolve()}},"PUBLIC")),(0,C._registerComponent)(new $.wA("installations-internal",be=>{const Xe=be.getProvider("app").getImmediate(),dt=(0,C._getProvider)(Xe,Si).getImmediate();return{getId:()=>function(be){return St.apply(this,arguments)}(dt),getToken:Qn=>function(be){return vn.apply(this,arguments)}(dt,Qn)}},"PRIVATE")),(0,C.registerVersion)(H,j),(0,C.registerVersion)(H,j,"esm2017")},1877:(gt,Ne,b)=>{"use strict";b.d(Ne,{in:()=>C,Yd:()=>j,Ub:()=>W,Am:()=>Z});const f=[];var C=(()=>{return(z=C||(C={}))[z.DEBUG=0]="DEBUG",z[z.VERBOSE=1]="VERBOSE",z[z.INFO=2]="INFO",z[z.WARN=3]="WARN",z[z.ERROR=4]="ERROR",z[z.SILENT=5]="SILENT",C;var z})();const $={debug:C.DEBUG,verbose:C.VERBOSE,info:C.INFO,warn:C.WARN,error:C.ERROR,silent:C.SILENT},ce=C.INFO,x={[C.DEBUG]:"log",[C.VERBOSE]:"log",[C.INFO]:"info",[C.WARN]:"warn",[C.ERROR]:"error"},H=(z,q,...te)=>{if(q<z.logLevel)return;const Te=(new Date).toISOString(),Ae=x[q];if(!Ae)throw new Error(`Attempted to log a message with an invalid logType (value: ${q})`);console[Ae](`[${Te}]  ${z.name}:`,...te)};class j{constructor(q){this.name=q,this._logLevel=ce,this._logHandler=H,this._userLogHandler=null,f.push(this)}get logLevel(){return this._logLevel}set logLevel(q){if(!(q in C))throw new TypeError(`Invalid value "${q}" assigned to \`logLevel\``);this._logLevel=q}setLogLevel(q){this._logLevel="string"==typeof q?$[q]:q}get logHandler(){return this._logHandler}set logHandler(q){if("function"!=typeof q)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=q}get userLogHandler(){return this._userLogHandler}set userLogHandler(q){this._userLogHandler=q}debug(...q){this._userLogHandler&&this._userLogHandler(this,C.DEBUG,...q),this._logHandler(this,C.DEBUG,...q)}log(...q){this._userLogHandler&&this._userLogHandler(this,C.VERBOSE,...q),this._logHandler(this,C.VERBOSE,...q)}info(...q){this._userLogHandler&&this._userLogHandler(this,C.INFO,...q),this._logHandler(this,C.INFO,...q)}warn(...q){this._userLogHandler&&this._userLogHandler(this,C.WARN,...q),this._logHandler(this,C.WARN,...q)}error(...q){this._userLogHandler&&this._userLogHandler(this,C.ERROR,...q),this._logHandler(this,C.ERROR,...q)}}function W(z){f.forEach(q=>{q.setLogLevel(z)})}function Z(z,q){for(const te of f){let Te=null;q&&q.level&&(Te=$[q.level]),te.userLogHandler=null===z?null:(Ae,Ye,...Ze)=>{const ue=Ze.map(de=>{if(null==de)return null;if("string"==typeof de)return de;if("number"==typeof de||"boolean"==typeof de)return de.toString();if(de instanceof Error)return de.message;try{return JSON.stringify(de)}catch(Ie){return null}}).filter(de=>de).join(" ");Ye>=(null!=Te?Te:Ae.logLevel)&&z({level:C[Ye].toLowerCase(),message:ue,args:Ze,type:Ae.name})}}}},9783:(gt,Ne,b)=>{"use strict";b.d(Ne,{a6:()=>H,pg:()=>Ze,iZ:()=>q,$_:()=>de,h4:()=>ue,ez:()=>Te,F0:()=>Ae,dv:()=>Ye,b4:()=>j,jx:()=>Ie,m8:()=>me,ws:()=>W,Y:()=>G});var f=b(5e3),C=b(7579),$=b(5921),ce=b(9808);const x=["*"];let H=(()=>{class w{}return w.STARTS_WITH="startsWith",w.CONTAINS="contains",w.NOT_CONTAINS="notContains",w.ENDS_WITH="endsWith",w.EQUALS="equals",w.NOT_EQUALS="notEquals",w.IN="in",w.LESS_THAN="lt",w.LESS_THAN_OR_EQUAL_TO="lte",w.GREATER_THAN="gt",w.GREATER_THAN_OR_EQUAL_TO="gte",w.BETWEEN="between",w.IS="is",w.IS_NOT="isNot",w.BEFORE="before",w.AFTER="after",w.DATE_IS="dateIs",w.DATE_IS_NOT="dateIsNot",w.DATE_BEFORE="dateBefore",w.DATE_AFTER="dateAfter",w})(),j=(()=>{class w{constructor(){this.ripple=!1,this.filterMatchModeOptions={text:[H.STARTS_WITH,H.CONTAINS,H.NOT_CONTAINS,H.ENDS_WITH,H.EQUALS,H.NOT_EQUALS],numeric:[H.EQUALS,H.NOT_EQUALS,H.LESS_THAN,H.LESS_THAN_OR_EQUAL_TO,H.GREATER_THAN,H.GREATER_THAN_OR_EQUAL_TO],date:[H.DATE_IS,H.DATE_IS_NOT,H.DATE_BEFORE,H.DATE_AFTER]},this.translation={startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",is:"Is",isNot:"Is not",before:"Before",after:"After",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dateFormat:"mm/dd/yy",firstDayOfWeek:0,today:"Today",weekHeader:"Wk",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyMessage:"No results found",emptyFilterMessage:"No results found"},this.zIndex={modal:1100,overlay:1e3,menu:1e3,tooltip:1100},this.translationSource=new C.x,this.translationObserver=this.translationSource.asObservable()}getTranslation(re){return this.translation[re]}setTranslation(re){this.translation=Object.assign(Object.assign({},this.translation),re),this.translationSource.next(this.translation)}}return w.\u0275fac=function(re){return new(re||w)},w.\u0275prov=f.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})(),W=(()=>{class w{}return w.STARTS_WITH="startsWith",w.CONTAINS="contains",w.NOT_CONTAINS="notContains",w.ENDS_WITH="endsWith",w.EQUALS="equals",w.NOT_EQUALS="notEquals",w.NO_FILTER="noFilter",w.LT="lt",w.LTE="lte",w.GT="gt",w.GTE="gte",w.IS="is",w.IS_NOT="isNot",w.BEFORE="before",w.AFTER="after",w.CLEAR="clear",w.APPLY="apply",w.MATCH_ALL="matchAll",w.MATCH_ANY="matchAny",w.ADD_RULE="addRule",w.REMOVE_RULE="removeRule",w.ACCEPT="accept",w.REJECT="reject",w.CHOOSE="choose",w.UPLOAD="upload",w.CANCEL="cancel",w.DAY_NAMES="dayNames",w.DAY_NAMES_SHORT="dayNamesShort",w.DAY_NAMES_MIN="dayNamesMin",w.MONTH_NAMES="monthNames",w.MONTH_NAMES_SHORT="monthNamesShort",w.FIRST_DAY_OF_WEEK="firstDayOfWeek",w.TODAY="today",w.WEEK_HEADER="weekHeader",w.WEAK="weak",w.MEDIUM="medium",w.STRONG="strong",w.PASSWORD_PROMPT="passwordPrompt",w.EMPTY_MESSAGE="emptyMessage",w.EMPTY_FILTER_MESSAGE="emptyFilterMessage",w})(),q=(()=>{class w{constructor(){this.filters={startsWith:(re,we,Fe)=>{if(null==we||""===we.trim())return!0;if(null==re)return!1;let le=$.gb.removeAccents(we.toString()).toLocaleLowerCase(Fe);return $.gb.removeAccents(re.toString()).toLocaleLowerCase(Fe).slice(0,le.length)===le},contains:(re,we,Fe)=>{if(null==we||"string"==typeof we&&""===we.trim())return!0;if(null==re)return!1;let le=$.gb.removeAccents(we.toString()).toLocaleLowerCase(Fe);return-1!==$.gb.removeAccents(re.toString()).toLocaleLowerCase(Fe).indexOf(le)},notContains:(re,we,Fe)=>{if(null==we||"string"==typeof we&&""===we.trim())return!0;if(null==re)return!1;let le=$.gb.removeAccents(we.toString()).toLocaleLowerCase(Fe);return-1===$.gb.removeAccents(re.toString()).toLocaleLowerCase(Fe).indexOf(le)},endsWith:(re,we,Fe)=>{if(null==we||""===we.trim())return!0;if(null==re)return!1;let le=$.gb.removeAccents(we.toString()).toLocaleLowerCase(Fe),ge=$.gb.removeAccents(re.toString()).toLocaleLowerCase(Fe);return-1!==ge.indexOf(le,ge.length-le.length)},equals:(re,we,Fe)=>null==we||"string"==typeof we&&""===we.trim()||null!=re&&(re.getTime&&we.getTime?re.getTime()===we.getTime():$.gb.removeAccents(re.toString()).toLocaleLowerCase(Fe)==$.gb.removeAccents(we.toString()).toLocaleLowerCase(Fe)),notEquals:(re,we,Fe)=>!(null==we||"string"==typeof we&&""===we.trim()||null!=re&&(re.getTime&&we.getTime?re.getTime()===we.getTime():$.gb.removeAccents(re.toString()).toLocaleLowerCase(Fe)==$.gb.removeAccents(we.toString()).toLocaleLowerCase(Fe))),in:(re,we)=>{if(null==we||0===we.length)return!0;for(let Fe=0;Fe<we.length;Fe++)if($.gb.equals(re,we[Fe]))return!0;return!1},between:(re,we)=>null==we||null==we[0]||null==we[1]||null!=re&&(re.getTime?we[0].getTime()<=re.getTime()&&re.getTime()<=we[1].getTime():we[0]<=re&&re<=we[1]),lt:(re,we,Fe)=>null==we||null!=re&&(re.getTime&&we.getTime?re.getTime()<we.getTime():re<we),lte:(re,we,Fe)=>null==we||null!=re&&(re.getTime&&we.getTime?re.getTime()<=we.getTime():re<=we),gt:(re,we,Fe)=>null==we||null!=re&&(re.getTime&&we.getTime?re.getTime()>we.getTime():re>we),gte:(re,we,Fe)=>null==we||null!=re&&(re.getTime&&we.getTime?re.getTime()>=we.getTime():re>=we),is:(re,we,Fe)=>this.filters.equals(re,we,Fe),isNot:(re,we,Fe)=>this.filters.notEquals(re,we,Fe),before:(re,we,Fe)=>this.filters.lt(re,we,Fe),after:(re,we,Fe)=>this.filters.gt(re,we,Fe),dateIs:(re,we)=>null==we||null!=re&&re.toDateString()===we.toDateString(),dateIsNot:(re,we)=>null==we||null!=re&&re.toDateString()!==we.toDateString(),dateBefore:(re,we)=>null==we||null!=re&&re.getTime()<we.getTime(),dateAfter:(re,we)=>null==we||null!=re&&re.getTime()>we.getTime()}}filter(re,we,Fe,le,ge){let ye=[];if(re)for(let _e of re)for(let He of we){let De=$.gb.resolveFieldData(_e,He);if(this.filters[le](De,Fe,ge)){ye.push(_e);break}}return ye}register(re,we){this.filters[re]=we}}return w.\u0275fac=function(re){return new(re||w)},w.\u0275prov=f.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})(),Te=(()=>{class w{constructor(){this.messageSource=new C.x,this.clearSource=new C.x,this.messageObserver=this.messageSource.asObservable(),this.clearObserver=this.clearSource.asObservable()}add(re){re&&this.messageSource.next(re)}addAll(re){re&&re.length&&this.messageSource.next(re)}clear(re){this.clearSource.next(re||null)}}return w.\u0275fac=function(re){return new(re||w)},w.\u0275prov=f.Yz7({token:w,factory:w.\u0275fac}),w})(),Ae=(()=>{class w{constructor(){this.clickSource=new C.x,this.clickObservable=this.clickSource.asObservable()}add(re){re&&this.clickSource.next(re)}}return w.\u0275fac=function(re){return new(re||w)},w.\u0275prov=f.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})(),Ye=(()=>{class w{}return w.ALIGN_CENTER="pi pi-align-center",w.ALIGN_JUSTIFY="pi pi-align-justify",w.ALIGN_LEFT="pi pi-align-left",w.ALIGN_RIGHT="pi pi-align-right",w.AMAZON="pi pi-amazon",w.ANDROID="pi pi-android",w.ANGLE_DOUBLE_DOWN="pi pi-angle-double-down",w.ANGLE_DOUBLE_LEFT="pi pi-angle-double-left",w.ANGLE_DOUBLE_RIGHT="pi pi-angle-double-right",w.ANGLE_DOUBLE_UP="pi pi-angle-double-up",w.ANGLE_DOWN="pi pi-angle-down",w.ANGLE_LEFT="pi pi-angle-left",w.ANGLE_RIGHT="pi pi-angle-right",w.ANGLE_UP="pi pi-angle-up",w.APPLE="pi pi-apple",w.ARROW_CIRCLE_DOWN="pi pi-arrow-circle-down",w.ARROW_CIRCLE_LEFT="pi pi-arrow-circle-left",w.ARROW_CIRCLE_RIGHT="pi pi-arrow-circle-right",w.ARROW_CIRCLE_UP="pi pi-arrow-circle-up",w.ARROW_DOWN="pi pi-arrow-down",w.ARROW_DOWN_LEFT="pi pi-arrow-down-left",w.ARROW_DOWN_RIGHT="pi pi-arrow-down-right",w.ARROW_LEFT="pi pi-arrow-left",w.ARROW_RIGHT="pi pi-arrow-right",w.ARROW_UP="pi pi-arrow-up",w.ARROW_UP_LEFT="pi pi-arrow-up-left",w.ARROW_UP_RIGHT="pi pi-arrow-up-right",w.ARROW_H="pi pi-arrow-h",w.ARROW_V="pi pi-arrow-v",w.AT="pi pi-at",w.BACKWARD="pi pi-backward",w.BAN="pi pi-ban",w.BARS="pi pi-bars",w.BELL="pi pi-bell",w.BOLT="pi pi-bolt",w.BOOK="pi pi-book",w.BOOKMARK="pi pi-bookmark",w.BOOKMARK_FILL="pi pi-bookmark-fill",w.BOX="pi pi-box",w.BRIEFCASE="pi pi-briefcase",w.BUILDING="pi pi-building",w.CALENDAR="pi pi-calendar",w.CALENDAR_MINUS="pi pi-calendar-minus",w.CALENDAR_PLUS="pi pi-calendar-plus",w.CALENDAR_TIMES="pi pi-calendar-times",w.CAMERA="pi pi-camera",w.CAR="pi pi-car",w.CARET_DOWN="pi pi-caret-down",w.CARET_LEFT="pi pi-caret-left",w.CARET_RIGHT="pi pi-caret-right",w.CARET_UP="pi pi-caret-up",w.CHART_BAR="pi pi-chart-bar",w.CHART_LINE="pi pi-chart-line",w.CHART_PIE="pi pi-chart-pie",w.CHECK="pi pi-check",w.CHECK_CIRCLE="pi pi-check-circle",w.CHECK_SQUARE="pi pi-check-square",w.CHEVRON_CIRCLE_DOWN="pi pi-chevron-circle-down",w.CHEVRON_CIRCLE_LEFT="pi pi-chevron-circle-left",w.CHEVRON_CIRCLE_RIGHT="pi pi-chevron-circle-right",w.CHEVRON_CIRCLE_UP="pi pi-chevron-circle-up",w.CHEVRON_DOWN="pi pi-chevron-down",w.CHEVRON_LEFT="pi pi-chevron-left",w.CHEVRON_RIGHT="pi pi-chevron-right",w.CHEVRON_UP="pi pi-chevron-up",w.CIRCLE="pi pi-circle",w.CIRCLE_FILL="pi pi-circle-fill",w.CLOCK="pi pi-clock",w.CLONE="pi pi-clone",w.CLOUD="pi pi-cloud",w.CLOUD_DOWNLOAD="pi pi-cloud-download",w.CLOUD_UPLOAD="pi pi-cloud-upload",w.CODE="pi pi-code",w.COG="pi pi-cog",w.COMMENT="pi pi-comment",w.COMMENTS="pi pi-comments",w.COMPASS="pi pi-compass",w.COPY="pi pi-copy",w.CREDIT_CARD="pi pi-credit-card",w.DATABASE="pi pi-database",w.DESKTOP="pi pi-desktop",w.DIRECTIONS="pi pi-directions",w.DIRECTIONS_ALT="pi pi-directions-alt",w.DISCORD="pi pi-discord",w.DOLLAR="pi pi-dollar",w.DOWNLOAD="pi pi-download",w.EJECT="pi pi-eject",w.ELLIPSIS_H="pi pi-ellipsis-h",w.ELLIPSIS_V="pi pi-ellipsis-v",w.ENVELOPE="pi pi-envelope",w.EURO="pi pi-euro",w.EXCLAMATION_CIRCLE="pi pi-exclamation-circle",w.EXCLAMATION_TRIANGLE="pi pi-exclamation-triangle",w.EXTERNAL_LINK="pi pi-external-link",w.EYE="pi pi-eye",w.EYE_SLASH="pi pi-eye-slash",w.FACEBOOK="pi pi-facebook",w.FAST_BACKWARD="pi pi-fast-backward",w.FAST_FORWARD="pi pi-fast-forward",w.FILE="pi pi-file",w.FILE_EXCEL="pi pi-file-excel",w.FILE_PDF="pi pi-file-pdf",w.FILTER="pi pi-filter",w.FILTER_FILL="pi pi-filter-fill",w.FILTER_SLASH="pi pi-filter-slash",w.FLAG="pi pi-flag",w.FLAG_FILL="pi pi-flag-fill",w.FOLDER="pi pi-folder",w.FOLDER_OPEN="pi pi-folder-open",w.FORWARD="pi pi-forward",w.GITHUB="pi pi-github",w.GLOBE="pi pi-globe",w.GOOGLE="pi pi-google",w.HASHTAG="pi pi-hashtag",w.HEART="pi pi-heart",w.HEART_FILL="pi pi-heart-fill",w.HISTORY="pi pi-history",w.HOME="pi pi-home",w.ID_CARD="pi pi-id-card",w.IMAGE="pi pi-image",w.IMAGES="pi pi-images",w.INBOX="pi pi-inbox",w.INFO="pi pi-info",w.INFO_CIRCLE="pi pi-info-circle",w.INSTAGRAM="pi pi-instagram",w.KEY="pi pi-key",w.LINK="pi pi-link",w.LINKEDIN="pi pi-linkedin",w.LIST="pi pi-list",w.LOCK="pi pi-lock",w.LOCK_OPEN="pi pi-lock-open",w.MAP="pi pi-map",w.MAP_MARKER="pi pi-map-marker",w.MICROSOFT="pi pi-microsoft",w.MINUS="pi pi-minus",w.MINUS_CIRCLE="pi pi-minus-circle",w.MOBILE="pi pi-mobile",w.MONEY_BILL="pi pi-money-bill",w.MOON="pi pi-moon",w.PALETTE="pi pi-palette",w.PAPERCLIP="pi pi-paperclip",w.PAUSE="pi pi-pause",w.PAYPAL="pi pi-paypal",w.PENCIL="pi pi-pencil",w.PERCENTAGE="pi pi-percentage",w.PHONE="pi pi-phone",w.PLAY="pi pi-play",w.PLUS="pi pi-plus",w.PLUS_CIRCLE="pi pi-plus-circle",w.POUND="pi pi-pound",w.POWER_OFF="pi pi-power-off",w.PRIME="pi pi-prime",w.PRINT="pi pi-print",w.QRCODE="pi pi-qrcode",w.QUESTION="pi pi-question",w.QUESTION_CIRCLE="pi pi-question-circle",w.REDDIT="pi pi-reddit",w.REFRESH="pi pi-refresh",w.REPLAY="pi pi-replay",w.REPLY="pi pi-reply",w.SAVE="pi pi-save",w.SEARCH="pi pi-search",w.SEARCH_MINUS="pi pi-search-minus",w.SEARCH_PLUS="pi pi-search-plus",w.SEND="pi pi-send",w.SERVER="pi pi-server",w.SHARE_ALT="pi pi-share-alt",w.SHIELD="pi pi-shield",w.SHOPPING_BAG="pi pi-shopping-bag",w.SHOPPING_CART="pi pi-shopping-cart",w.SIGN_IN="pi pi-sign-in",w.SIGN_OUT="pi pi-sign-out",w.SITEMAP="pi pi-sitemap",w.SLACK="pi pi-slack",w.SLIDERS_H="pi pi-sliders-h",w.SLIDERS_V="pi pi-sliders-v",w.SORT="pi pi-sort",w.SORT_ALPHA_DOWN="pi pi-sort-alpha-down",w.SORT_ALPHA_ALT_DOWN="pi pi-sort-alpha-alt-down",w.SORT_ALPHA_UP="pi pi-sort-alpha-up",w.SORT_ALPHA_ALT_UP="pi pi-sort-alpha-alt-up",w.SORT_ALT="pi pi-sort-alt",w.SORT_ALT_SLASH="pi pi-sort-slash",w.SORT_AMOUNT_DOWN="pi pi-sort-amount-down",w.SORT_AMOUNT_DOWN_ALT="pi pi-sort-amount-down-alt",w.SORT_AMOUNT_UP="pi pi-sort-amount-up",w.SORT_AMOUNT_UP_ALT="pi pi-sort-amount-up-alt",w.SORT_DOWN="pi pi-sort-down",w.SORT_NUMERIC_DOWN="pi pi-sort-numeric-down",w.SORT_NUMERIC_ALT_DOWN="pi pi-sort-numeric-alt-down",w.SORT_NUMERIC_UP="pi pi-sort-numeric-up",w.SORT_NUMERIC_ALT_UP="pi pi-sort-numeric-alt-up",w.SORT_UP="pi pi-sort-up",w.SPINNER="pi pi-spinner",w.STAR="pi pi-star",w.STAR_FILL="pi pi-star-fill",w.STEP_BACKWARD="pi pi-step-backward",w.STEP_BACKWARD_ALT="pi pi-step-backward-alt",w.STEP_FORWARD="pi pi-step-forward",w.STEP_FORWARD_ALT="pi pi-step-forward-alt",w.STOP="pi pi-stop",w.STOP_CIRCLE="pi pi-stop-circle",w.SUN="pi pi-sun",w.SYNC="pi pi-sync",w.TABLE="pi pi-table",w.TABLET="pi pi-tablet",w.TAG="pi pi-tag",w.TAGS="pi pi-tags",w.TELEGRAM="pi pi-telegram",w.TH_LARGE="pi pi-th-large",w.THUMBS_DOWN="pi pi-thumbs-down",w.THUMBS_UP="pi pi-thumbs-up",w.TICKET="pi pi-ticket",w.TIMES="pi pi-times",w.TIMES_CIRCLE="pi pi-times-circle",w.TRASH="pi pi-trash",w.TWITTER="pi pi-twitter",w.UNDO="pi pi-undo",w.UNLOCK="pi pi-unlock",w.UPLOAD="pi pi-upload",w.USER="pi pi-user",w.USER_EDIT="pi pi-user-edit",w.USER_MINUS="pi pi-user-minus",w.USER_PLUS="pi pi-user-plus",w.USERS="pi pi-users",w.VIDEO="pi pi-video",w.VIMEO="pi pi-vimeo",w.VOLUME_DOWN="pi pi-volume-down",w.VOLUME_OFF="pi pi-volume-off",w.VOLUME_UP="pi pi-volume-up",w.WALLET="pi pi-wallet",w.WHATSAPP="pi pi-whatsapp",w.WIFI="pi pi-wifi",w.WINDOW_MAXIMIZE="pi pi-window-maximize",w.WINDOW_MINIMIZE="pi pi-window-minimize",w.YOUTUBE="pi pi-youtube",w})(),Ze=(()=>{class w{}return w.AND="and",w.OR="or",w})(),ue=(()=>{class w{}return w.\u0275fac=function(re){return new(re||w)},w.\u0275cmp=f.Xpm({type:w,selectors:[["p-header"]],ngContentSelectors:x,decls:1,vars:0,template:function(re,we){1&re&&(f.F$t(),f.Hsn(0))},encapsulation:2}),w})(),de=(()=>{class w{}return w.\u0275fac=function(re){return new(re||w)},w.\u0275cmp=f.Xpm({type:w,selectors:[["p-footer"]],ngContentSelectors:x,decls:1,vars:0,template:function(re,we){1&re&&(f.F$t(),f.Hsn(0))},encapsulation:2}),w})(),Ie=(()=>{class w{constructor(re){this.template=re}getType(){return this.name}}return w.\u0275fac=function(re){return new(re||w)(f.Y36(f.Rgc))},w.\u0275dir=f.lG2({type:w,selectors:[["","pTemplate",""]],inputs:{type:"type",name:["pTemplate","name"]}}),w})(),me=(()=>{class w{}return w.\u0275fac=function(re){return new(re||w)},w.\u0275mod=f.oAB({type:w}),w.\u0275inj=f.cJS({imports:[[ce.ez]]}),w})(),G=(()=>{class w{constructor(){this.dragStartSource=new C.x,this.dragStopSource=new C.x,this.dragStart$=this.dragStartSource.asObservable(),this.dragStop$=this.dragStopSource.asObservable()}startDrag(re){this.dragStartSource.next(re)}stopDrag(re){this.dragStopSource.next(re)}}return w.\u0275fac=function(re){return new(re||w)},w.\u0275prov=f.Yz7({token:w,factory:w.\u0275fac}),w})()},5730:(gt,Ne,b)=>{"use strict";b.d(Ne,{V:()=>C,p:()=>f});let f=(()=>{class ${static addClass(x,H){x.classList?x.classList.add(H):x.className+=" "+H}static addMultipleClasses(x,H){if(x.classList){let j=H.trim().split(" ");for(let W=0;W<j.length;W++)x.classList.add(j[W])}else{let j=H.split(" ");for(let W=0;W<j.length;W++)x.className+=" "+j[W]}}static removeClass(x,H){x.classList?x.classList.remove(H):x.className=x.className.replace(new RegExp("(^|\\b)"+H.split(" ").join("|")+"(\\b|$)","gi")," ")}static hasClass(x,H){return x.classList?x.classList.contains(H):new RegExp("(^| )"+H+"( |$)","gi").test(x.className)}static siblings(x){return Array.prototype.filter.call(x.parentNode.children,function(H){return H!==x})}static find(x,H){return Array.from(x.querySelectorAll(H))}static findSingle(x,H){return x?x.querySelector(H):null}static index(x){let H=x.parentNode.childNodes,j=0;for(var W=0;W<H.length;W++){if(H[W]==x)return j;1==H[W].nodeType&&j++}return-1}static indexWithinGroup(x,H){let j=x.parentNode?x.parentNode.childNodes:[],W=0;for(var Z=0;Z<j.length;Z++){if(j[Z]==x)return W;j[Z].attributes&&j[Z].attributes[H]&&1==j[Z].nodeType&&W++}return-1}static relativePosition(x,H){let j=x.offsetParent?{width:x.offsetWidth,height:x.offsetHeight}:this.getHiddenElementDimensions(x);const W=H.offsetHeight,Z=H.getBoundingClientRect(),z=this.getViewport();let q,te;Z.top+W+j.height>z.height?(q=-1*j.height,x.style.transformOrigin="bottom",Z.top+q<0&&(q=-1*Z.top)):(q=W,x.style.transformOrigin="top"),te=j.width>z.width?-1*Z.left:Z.left+j.width>z.width?-1*(Z.left+j.width-z.width):0,x.style.top=q+"px",x.style.left=te+"px"}static absolutePosition(x,H){let Ze,ue,j=x.offsetParent?{width:x.offsetWidth,height:x.offsetHeight}:this.getHiddenElementDimensions(x),W=j.height,Z=j.width,z=H.offsetHeight,q=H.offsetWidth,te=H.getBoundingClientRect(),Te=this.getWindowScrollTop(),Ae=this.getWindowScrollLeft(),Ye=this.getViewport();te.top+z+W>Ye.height?(Ze=te.top+Te-W,x.style.transformOrigin="bottom",Ze<0&&(Ze=Te)):(Ze=z+te.top+Te,x.style.transformOrigin="top"),ue=te.left+Z>Ye.width?Math.max(0,te.left+Ae+q-Z):te.left+Ae,x.style.top=Ze+"px",x.style.left=ue+"px"}static getParents(x,H=[]){return null===x.parentNode?H:this.getParents(x.parentNode,H.concat([x.parentNode]))}static getScrollableParents(x){let H=[];if(x){let j=this.getParents(x);const W=/(auto|scroll)/,Z=z=>{let q=window.getComputedStyle(z,null);return W.test(q.getPropertyValue("overflow"))||W.test(q.getPropertyValue("overflowX"))||W.test(q.getPropertyValue("overflowY"))};for(let z of j){let q=1===z.nodeType&&z.dataset.scrollselectors;if(q){let te=q.split(",");for(let Te of te){let Ae=this.findSingle(z,Te);Ae&&Z(Ae)&&H.push(Ae)}}9!==z.nodeType&&Z(z)&&H.push(z)}}return H}static getHiddenElementOuterHeight(x){x.style.visibility="hidden",x.style.display="block";let H=x.offsetHeight;return x.style.display="none",x.style.visibility="visible",H}static getHiddenElementOuterWidth(x){x.style.visibility="hidden",x.style.display="block";let H=x.offsetWidth;return x.style.display="none",x.style.visibility="visible",H}static getHiddenElementDimensions(x){let H={};return x.style.visibility="hidden",x.style.display="block",H.width=x.offsetWidth,H.height=x.offsetHeight,x.style.display="none",x.style.visibility="visible",H}static scrollInView(x,H){let j=getComputedStyle(x).getPropertyValue("borderTopWidth"),W=j?parseFloat(j):0,Z=getComputedStyle(x).getPropertyValue("paddingTop"),z=Z?parseFloat(Z):0,q=x.getBoundingClientRect(),Te=H.getBoundingClientRect().top+document.body.scrollTop-(q.top+document.body.scrollTop)-W-z,Ae=x.scrollTop,Ye=x.clientHeight,Ze=this.getOuterHeight(H);Te<0?x.scrollTop=Ae+Te:Te+Ze>Ye&&(x.scrollTop=Ae+Te-Ye+Ze)}static fadeIn(x,H){x.style.opacity=0;let j=+new Date,W=0,Z=function(){W=+x.style.opacity.replace(",",".")+((new Date).getTime()-j)/H,x.style.opacity=W,j=+new Date,+W<1&&(window.requestAnimationFrame&&requestAnimationFrame(Z)||setTimeout(Z,16))};Z()}static fadeOut(x,H){var j=1,z=50/H;let q=setInterval(()=>{(j-=z)<=0&&(j=0,clearInterval(q)),x.style.opacity=j},50)}static getWindowScrollTop(){let x=document.documentElement;return(window.pageYOffset||x.scrollTop)-(x.clientTop||0)}static getWindowScrollLeft(){let x=document.documentElement;return(window.pageXOffset||x.scrollLeft)-(x.clientLeft||0)}static matches(x,H){var j=Element.prototype;return(j.matches||j.webkitMatchesSelector||j.mozMatchesSelector||j.msMatchesSelector||function(Z){return-1!==[].indexOf.call(document.querySelectorAll(Z),this)}).call(x,H)}static getOuterWidth(x,H){let j=x.offsetWidth;if(H){let W=getComputedStyle(x);j+=parseFloat(W.marginLeft)+parseFloat(W.marginRight)}return j}static getHorizontalPadding(x){let H=getComputedStyle(x);return parseFloat(H.paddingLeft)+parseFloat(H.paddingRight)}static getHorizontalMargin(x){let H=getComputedStyle(x);return parseFloat(H.marginLeft)+parseFloat(H.marginRight)}static innerWidth(x){let H=x.offsetWidth,j=getComputedStyle(x);return H+=parseFloat(j.paddingLeft)+parseFloat(j.paddingRight),H}static width(x){let H=x.offsetWidth,j=getComputedStyle(x);return H-=parseFloat(j.paddingLeft)+parseFloat(j.paddingRight),H}static getInnerHeight(x){let H=x.offsetHeight,j=getComputedStyle(x);return H+=parseFloat(j.paddingTop)+parseFloat(j.paddingBottom),H}static getOuterHeight(x,H){let j=x.offsetHeight;if(H){let W=getComputedStyle(x);j+=parseFloat(W.marginTop)+parseFloat(W.marginBottom)}return j}static getHeight(x){let H=x.offsetHeight,j=getComputedStyle(x);return H-=parseFloat(j.paddingTop)+parseFloat(j.paddingBottom)+parseFloat(j.borderTopWidth)+parseFloat(j.borderBottomWidth),H}static getWidth(x){let H=x.offsetWidth,j=getComputedStyle(x);return H-=parseFloat(j.paddingLeft)+parseFloat(j.paddingRight)+parseFloat(j.borderLeftWidth)+parseFloat(j.borderRightWidth),H}static getViewport(){let x=window,H=document,j=H.documentElement,W=H.getElementsByTagName("body")[0];return{width:x.innerWidth||j.clientWidth||W.clientWidth,height:x.innerHeight||j.clientHeight||W.clientHeight}}static getOffset(x){var H=x.getBoundingClientRect();return{top:H.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:H.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}static replaceElementWith(x,H){let j=x.parentNode;if(!j)throw"Can't replace element";return j.replaceChild(H,x)}static getUserAgent(){return navigator.userAgent}static isIE(){var x=window.navigator.userAgent;return x.indexOf("MSIE ")>0||(x.indexOf("Trident/")>0?(x.indexOf("rv:"),!0):x.indexOf("Edge/")>0)}static isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}static isAndroid(){return/(android)/i.test(navigator.userAgent)}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}static appendChild(x,H){if(this.isElement(H))H.appendChild(x);else{if(!H.el||!H.el.nativeElement)throw"Cannot append "+H+" to "+x;H.el.nativeElement.appendChild(x)}}static removeChild(x,H){if(this.isElement(H))H.removeChild(x);else{if(!H.el||!H.el.nativeElement)throw"Cannot remove "+x+" from "+H;H.el.nativeElement.removeChild(x)}}static removeElement(x){"remove"in Element.prototype?x.remove():x.parentNode.removeChild(x)}static isElement(x){return"object"==typeof HTMLElement?x instanceof HTMLElement:x&&"object"==typeof x&&null!==x&&1===x.nodeType&&"string"==typeof x.nodeName}static calculateScrollbarWidth(x){if(x){let H=getComputedStyle(x);return x.offsetWidth-x.clientWidth-parseFloat(H.borderLeftWidth)-parseFloat(H.borderRightWidth)}{if(null!==this.calculatedScrollbarWidth)return this.calculatedScrollbarWidth;let H=document.createElement("div");H.className="p-scrollbar-measure",document.body.appendChild(H);let j=H.offsetWidth-H.clientWidth;return document.body.removeChild(H),this.calculatedScrollbarWidth=j,j}}static calculateScrollbarHeight(){if(null!==this.calculatedScrollbarHeight)return this.calculatedScrollbarHeight;let x=document.createElement("div");x.className="p-scrollbar-measure",document.body.appendChild(x);let H=x.offsetHeight-x.clientHeight;return document.body.removeChild(x),this.calculatedScrollbarWidth=H,H}static invokeElementMethod(x,H,j){x[H].apply(x,j)}static clearSelection(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch(x){}}static getBrowser(){if(!this.browser){let x=this.resolveUserAgent();this.browser={},x.browser&&(this.browser[x.browser]=!0,this.browser.version=x.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}static resolveUserAgent(){let x=navigator.userAgent.toLowerCase(),H=/(chrome)[ \/]([\w.]+)/.exec(x)||/(webkit)[ \/]([\w.]+)/.exec(x)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(x)||/(msie) ([\w.]+)/.exec(x)||x.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(x)||[];return{browser:H[1]||"",version:H[2]||"0"}}static isInteger(x){return Number.isInteger?Number.isInteger(x):"number"==typeof x&&isFinite(x)&&Math.floor(x)===x}static isHidden(x){return null===x.offsetParent}static getFocusableElements(x){let H=$.find(x,'button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]):not(.p-disabled)'),j=[];for(let W of H)"none"!=getComputedStyle(W).display&&"hidden"!=getComputedStyle(W).visibility&&j.push(W);return j}static generateZIndex(){return this.zindex=this.zindex||999,++this.zindex}}return $.zindex=1e3,$.calculatedScrollbarWidth=null,$.calculatedScrollbarHeight=null,$})();class C{constructor(ce,x=(()=>{})){this.element=ce,this.listener=x}bindScrollListener(){this.scrollableParents=f.getScrollableParents(this.element);for(let ce=0;ce<this.scrollableParents.length;ce++)this.scrollableParents[ce].addEventListener("scroll",this.listener)}unbindScrollListener(){if(this.scrollableParents)for(let ce=0;ce<this.scrollableParents.length;ce++)this.scrollableParents[ce].removeEventListener("scroll",this.listener)}destroy(){this.unbindScrollListener(),this.element=null,this.listener=null,this.scrollableParents=null}}},5787:(gt,Ne,b)=>{"use strict";b.d(Ne,{H:()=>x,T:()=>H});var f=b(5e3),C=b(9808),$=b(5730),ce=b(9783);let x=(()=>{class j{constructor(Z,z,q){this.el=Z,this.zone=z,this.config=q}ngAfterViewInit(){this.config&&this.config.ripple&&this.zone.runOutsideAngular(()=>{this.create(),this.mouseDownListener=this.onMouseDown.bind(this),this.el.nativeElement.addEventListener("mousedown",this.mouseDownListener)})}onMouseDown(Z){let z=this.getInk();if(!z||"none"===getComputedStyle(z,null).display)return;if($.p.removeClass(z,"p-ink-active"),!$.p.getHeight(z)&&!$.p.getWidth(z)){let Ae=Math.max($.p.getOuterWidth(this.el.nativeElement),$.p.getOuterHeight(this.el.nativeElement));z.style.height=Ae+"px",z.style.width=Ae+"px"}let q=$.p.getOffset(this.el.nativeElement),te=Z.pageX-q.left+document.body.scrollTop-$.p.getWidth(z)/2,Te=Z.pageY-q.top+document.body.scrollLeft-$.p.getHeight(z)/2;z.style.top=Te+"px",z.style.left=te+"px",$.p.addClass(z,"p-ink-active")}getInk(){for(let Z=0;Z<this.el.nativeElement.children.length;Z++)if(-1!==this.el.nativeElement.children[Z].className.indexOf("p-ink"))return this.el.nativeElement.children[Z];return null}resetInk(){let Z=this.getInk();Z&&$.p.removeClass(Z,"p-ink-active")}onAnimationEnd(Z){$.p.removeClass(Z.currentTarget,"p-ink-active")}create(){let Z=document.createElement("span");Z.className="p-ink",this.el.nativeElement.appendChild(Z),this.animationListener=this.onAnimationEnd.bind(this),Z.addEventListener("animationend",this.animationListener)}remove(){let Z=this.getInk();Z&&(this.el.nativeElement.removeEventListener("mousedown",this.mouseDownListener),Z.removeEventListener("animationend",this.animationListener),$.p.removeElement(Z))}ngOnDestroy(){this.config&&this.config.ripple&&this.remove()}}return j.\u0275fac=function(Z){return new(Z||j)(f.Y36(f.SBq),f.Y36(f.R0b),f.Y36(ce.b4,8))},j.\u0275dir=f.lG2({type:j,selectors:[["","pRipple",""]],hostAttrs:[1,"p-ripple","p-element"]}),j})(),H=(()=>{class j{}return j.\u0275fac=function(Z){return new(Z||j)},j.\u0275mod=f.oAB({type:j}),j.\u0275inj=f.cJS({imports:[[C.ez]]}),j})()},7773:(gt,Ne,b)=>{"use strict";b.d(Ne,{FN:()=>de,EV:()=>Ie});var f=b(5e3),C=b(9808),$=b(9783),ce=b(5921),x=b(5787),H=b(1777);const j=["container"],W=function(me,G,w,ae){return{"pi-info-circle":me,"pi-exclamation-triangle":G,"pi-times-circle":w,"pi-check":ae}};function Z(me,G){if(1&me&&(f.ynx(0),f._UZ(1,"span",6),f.TgZ(2,"div",7),f.TgZ(3,"div",8),f._uU(4),f.qZA(),f.TgZ(5,"div",9),f._uU(6),f.qZA(),f.qZA(),f.BQk()),2&me){const w=f.oxw();f.xp6(1),f.Tol("p-toast-message-icon pi"+(w.message.icon?" "+w.message.icon:"")),f.Q6J("ngClass",f.l5B(5,W,"info"==w.message.severity,"warn"==w.message.severity,"error"==w.message.severity,"success"==w.message.severity)),f.xp6(3),f.Oqu(w.message.summary),f.xp6(2),f.Oqu(w.message.detail)}}function z(me,G){1&me&&f.GkF(0)}function q(me,G){if(1&me){const w=f.EpF();f.TgZ(0,"button",10),f.NdJ("click",function(re){return f.CHM(w),f.oxw().onCloseIconClick(re)})("keydown.enter",function(re){return f.CHM(w),f.oxw().onCloseIconClick(re)}),f._UZ(1,"span",11),f.qZA()}}const te=function(me){return[me,"p-toast-message"]},Te=function(me,G,w,ae){return{showTransformParams:me,hideTransformParams:G,showTransitionParams:w,hideTransitionParams:ae}},Ae=function(me){return{value:"visible",params:me}},Ye=function(me){return{$implicit:me}};function Ze(me,G){if(1&me){const w=f.EpF();f.TgZ(0,"p-toastItem",3),f.NdJ("onClose",function(re){return f.CHM(w),f.oxw().onMessageClose(re)})("@toastAnimation.start",function(re){return f.CHM(w),f.oxw().onAnimationStart(re)})("@toastAnimation.done",function(re){return f.CHM(w),f.oxw().onAnimationEnd(re)}),f.qZA()}if(2&me){const w=G.$implicit,ae=G.index,re=f.oxw();f.Q6J("message",w)("index",ae)("template",re.template)("@toastAnimation",void 0)("showTransformOptions",re.showTransformOptions)("hideTransformOptions",re.hideTransformOptions)("showTransitionOptions",re.showTransitionOptions)("hideTransitionOptions",re.hideTransitionOptions)}}let ue=(()=>{class me{constructor(w){this.zone=w,this.onClose=new f.vpe}ngAfterViewInit(){this.initTimeout()}initTimeout(){this.message.sticky||this.zone.runOutsideAngular(()=>{this.timeout=setTimeout(()=>{this.onClose.emit({index:this.index,message:this.message})},this.message.life||3e3)})}clearTimeout(){this.timeout&&(clearTimeout(this.timeout),this.timeout=null)}onMouseEnter(){this.clearTimeout()}onMouseLeave(){this.initTimeout()}onCloseIconClick(w){this.clearTimeout(),this.onClose.emit({index:this.index,message:this.message}),w.preventDefault()}ngOnDestroy(){this.clearTimeout()}}return me.\u0275fac=function(w){return new(w||me)(f.Y36(f.R0b))},me.\u0275cmp=f.Xpm({type:me,selectors:[["p-toastItem"]],viewQuery:function(w,ae){if(1&w&&f.Gf(j,5),2&w){let re;f.iGM(re=f.CRH())&&(ae.containerViewChild=re.first)}},hostAttrs:[1,"p-element"],inputs:{message:"message",index:"index",template:"template",showTransformOptions:"showTransformOptions",hideTransformOptions:"hideTransformOptions",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{onClose:"onClose"},decls:6,vars:21,consts:[[3,"ngClass","mouseenter","mouseleave"],["container",""],["role","alert","aria-live","assertive","aria-atomic","true",1,"p-toast-message-content",3,"ngClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["type","button","class","p-toast-icon-close p-link","pRipple","",3,"click","keydown.enter",4,"ngIf"],[3,"ngClass"],[1,"p-toast-message-text"],[1,"p-toast-summary"],[1,"p-toast-detail"],["type","button","pRipple","",1,"p-toast-icon-close","p-link",3,"click","keydown.enter"],[1,"p-toast-icon-close-icon","pi","pi-times"]],template:function(w,ae){1&w&&(f.TgZ(0,"div",0,1),f.NdJ("mouseenter",function(){return ae.onMouseEnter()})("mouseleave",function(){return ae.onMouseLeave()}),f.TgZ(2,"div",2),f.YNc(3,Z,7,10,"ng-container",3),f.YNc(4,z,1,0,"ng-container",4),f.YNc(5,q,2,0,"button",5),f.qZA(),f.qZA()),2&w&&(f.Tol(ae.message.styleClass),f.Q6J("ngClass",f.VKq(10,te,"p-toast-message-"+ae.message.severity))("@messageState",f.VKq(17,Ae,f.l5B(12,Te,ae.showTransformOptions,ae.hideTransformOptions,ae.showTransitionOptions,ae.hideTransitionOptions))),f.uIk("id",ae.message.id),f.xp6(2),f.Q6J("ngClass",ae.message.contentStyleClass),f.xp6(1),f.Q6J("ngIf",!ae.template),f.xp6(1),f.Q6J("ngTemplateOutlet",ae.template)("ngTemplateOutletContext",f.VKq(19,Ye,ae.message)),f.xp6(1),f.Q6J("ngIf",!1!==ae.message.closable))},directives:[C.mk,C.O5,C.tP,x.H],encapsulation:2,data:{animation:[(0,H.X$)("messageState",[(0,H.SB)("visible",(0,H.oB)({transform:"translateY(0)",opacity:1})),(0,H.eR)("void => *",[(0,H.oB)({transform:"{{showTransformParams}}",opacity:0}),(0,H.jt)("{{showTransitionParams}}")]),(0,H.eR)("* => void",[(0,H.jt)("{{hideTransitionParams}}",(0,H.oB)({height:0,opacity:0,transform:"{{hideTransformParams}}"}))])])]},changeDetection:0}),me})(),de=(()=>{class me{constructor(w,ae,re){this.messageService=w,this.cd=ae,this.config=re,this.autoZIndex=!0,this.baseZIndex=0,this.position="top-right",this.preventOpenDuplicates=!1,this.preventDuplicates=!1,this.showTransformOptions="translateY(100%)",this.hideTransformOptions="translateY(-100%)",this.showTransitionOptions="300ms ease-out",this.hideTransitionOptions="250ms ease-in",this.onClose=new f.vpe,this.id=(0,ce.Th)()}ngOnInit(){this.messageSubscription=this.messageService.messageObserver.subscribe(w=>{if(w)if(w instanceof Array){const ae=w.filter(re=>this.canAdd(re));this.add(ae)}else this.canAdd(w)&&this.add([w])}),this.clearSubscription=this.messageService.clearObserver.subscribe(w=>{w?this.key===w&&(this.messages=null):this.messages=null,this.cd.markForCheck()})}ngAfterViewInit(){this.breakpoints&&this.createStyle()}add(w){this.messages=this.messages?[...this.messages,...w]:[...w],this.preventDuplicates&&(this.messagesArchieve=this.messagesArchieve?[...this.messagesArchieve,...w]:[...w]),this.cd.markForCheck()}canAdd(w){let ae=this.key===w.key;return ae&&this.preventOpenDuplicates&&(ae=!this.containsMessage(this.messages,w)),ae&&this.preventDuplicates&&(ae=!this.containsMessage(this.messagesArchieve,w)),ae}containsMessage(w,ae){return!!w&&null!=w.find(re=>re.summary===ae.summary&&re.detail==ae.detail&&re.severity===ae.severity)}ngAfterContentInit(){this.templates.forEach(w=>{w.getType(),this.template=w.template})}onMessageClose(w){this.messages.splice(w.index,1),this.onClose.emit({message:w.message}),this.cd.detectChanges()}onAnimationStart(w){"void"===w.fromState&&(this.containerViewChild.nativeElement.setAttribute(this.id,""),this.autoZIndex&&ce.P9.set("modal",this.containerViewChild.nativeElement,this.baseZIndex||this.config.zIndex.modal))}onAnimationEnd(w){"void"===w.toState&&this.autoZIndex&&ce.gb.isEmpty(this.messages)&&ce.P9.clear(this.containerViewChild.nativeElement)}createStyle(){if(!this.styleElement){this.styleElement=document.createElement("style"),this.styleElement.type="text/css",document.head.appendChild(this.styleElement);let w="";for(let ae in this.breakpoints){let re="";for(let we in this.breakpoints[ae])re+=we+":"+this.breakpoints[ae][we]+" !important;";w+=`\n                    @media screen and (max-width: ${ae}) {\n                        .p-toast[${this.id}] {\n                           ${re}\n                        }\n                    }\n                `}this.styleElement.innerHTML=w}}destroyStyle(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)}ngOnDestroy(){this.messageSubscription&&this.messageSubscription.unsubscribe(),this.containerViewChild&&this.autoZIndex&&ce.P9.clear(this.containerViewChild.nativeElement),this.clearSubscription&&this.clearSubscription.unsubscribe(),this.destroyStyle()}}return me.\u0275fac=function(w){return new(w||me)(f.Y36($.ez),f.Y36(f.sBO),f.Y36($.b4))},me.\u0275cmp=f.Xpm({type:me,selectors:[["p-toast"]],contentQueries:function(w,ae,re){if(1&w&&f.Suo(re,$.jx,4),2&w){let we;f.iGM(we=f.CRH())&&(ae.templates=we)}},viewQuery:function(w,ae){if(1&w&&f.Gf(j,5),2&w){let re;f.iGM(re=f.CRH())&&(ae.containerViewChild=re.first)}},hostAttrs:[1,"p-element"],inputs:{key:"key",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",style:"style",styleClass:"styleClass",position:"position",preventOpenDuplicates:"preventOpenDuplicates",preventDuplicates:"preventDuplicates",showTransformOptions:"showTransformOptions",hideTransformOptions:"hideTransformOptions",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",breakpoints:"breakpoints"},outputs:{onClose:"onClose"},decls:3,vars:5,consts:[[3,"ngClass","ngStyle"],["container",""],[3,"message","index","template","showTransformOptions","hideTransformOptions","showTransitionOptions","hideTransitionOptions","onClose",4,"ngFor","ngForOf"],[3,"message","index","template","showTransformOptions","hideTransformOptions","showTransitionOptions","hideTransitionOptions","onClose"]],template:function(w,ae){1&w&&(f.TgZ(0,"div",0,1),f.YNc(2,Ze,1,8,"p-toastItem",2),f.qZA()),2&w&&(f.Tol(ae.styleClass),f.Q6J("ngClass","p-toast p-component p-toast-"+ae.position)("ngStyle",ae.style),f.xp6(2),f.Q6J("ngForOf",ae.messages))},directives:[C.mk,C.PC,C.sg,ue],styles:[".p-toast{position:fixed;width:25rem}.p-toast-message{overflow:hidden}.p-toast-message-content{display:flex;align-items:flex-start}.p-toast-message-text{flex:1 1 auto}.p-toast-top-right{top:20px;right:20px}.p-toast-top-left{top:20px;left:20px}.p-toast-bottom-left{bottom:20px;left:20px}.p-toast-bottom-right{bottom:20px;right:20px}.p-toast-top-center{top:20px;left:50%;transform:translate(-50%)}.p-toast-bottom-center{bottom:20px;left:50%;transform:translate(-50%)}.p-toast-center{left:50%;top:50%;min-width:20vw;transform:translate(-50%,-50%)}.p-toast-icon-close{display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-toast-icon-close.p-link{cursor:pointer}\n"],encapsulation:2,data:{animation:[(0,H.X$)("toastAnimation",[(0,H.eR)(":enter, :leave",[(0,H.IO)("@*",(0,H.pV)())])])]},changeDetection:0}),me})(),Ie=(()=>{class me{}return me.\u0275fac=function(w){return new(w||me)},me.\u0275mod=f.oAB({type:me}),me.\u0275inj=f.cJS({imports:[[C.ez,x.T],$.m8]}),me})()},5921:(gt,Ne,b)=>{"use strict";b.d(Ne,{gb:()=>f,Th:()=>$,P9:()=>x});class f{static equals(j,W,Z){return Z?this.resolveFieldData(j,Z)===this.resolveFieldData(W,Z):this.equalsByValue(j,W)}static equalsByValue(j,W){if(j===W)return!0;if(j&&W&&"object"==typeof j&&"object"==typeof W){var q,te,Te,Z=Array.isArray(j),z=Array.isArray(W);if(Z&&z){if((te=j.length)!=W.length)return!1;for(q=te;0!=q--;)if(!this.equalsByValue(j[q],W[q]))return!1;return!0}if(Z!=z)return!1;var Ae=j instanceof Date,Ye=W instanceof Date;if(Ae!=Ye)return!1;if(Ae&&Ye)return j.getTime()==W.getTime();var Ze=j instanceof RegExp,ue=W instanceof RegExp;if(Ze!=ue)return!1;if(Ze&&ue)return j.toString()==W.toString();var de=Object.keys(j);if((te=de.length)!==Object.keys(W).length)return!1;for(q=te;0!=q--;)if(!Object.prototype.hasOwnProperty.call(W,de[q]))return!1;for(q=te;0!=q--;)if(!this.equalsByValue(j[Te=de[q]],W[Te]))return!1;return!0}return j!=j&&W!=W}static resolveFieldData(j,W){if(j&&W){if(this.isFunction(W))return W(j);if(-1==W.indexOf("."))return j[W];{let Z=W.split("."),z=j;for(let q=0,te=Z.length;q<te;++q){if(null==z)return null;z=z[Z[q]]}return z}}return null}static isFunction(j){return!!(j&&j.constructor&&j.call&&j.apply)}static reorderArray(j,W,Z){j&&W!==Z&&(Z>=j.length&&(Z%=j.length,W%=j.length),j.splice(Z,0,j.splice(W,1)[0]))}static insertIntoOrderedArray(j,W,Z,z){if(Z.length>0){let q=!1;for(let te=0;te<Z.length;te++)if(this.findIndexInList(Z[te],z)>W){Z.splice(te,0,j),q=!0;break}q||Z.push(j)}else Z.push(j)}static findIndexInList(j,W){let Z=-1;if(W)for(let z=0;z<W.length;z++)if(W[z]==j){Z=z;break}return Z}static contains(j,W){if(null!=j&&W&&W.length)for(let Z of W)if(this.equals(j,Z))return!0;return!1}static removeAccents(j){return j&&j.search(/[\xC0-\xFF]/g)>-1&&(j=j.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),j}static isEmpty(j){return null==j||""===j||Array.isArray(j)&&0===j.length||!(j instanceof Date)&&"object"==typeof j&&0===Object.keys(j).length}static isNotEmpty(j){return!this.isEmpty(j)}}var C=0;function $(){return"pr_id_"+ ++C}var x=function(){let H=[];const z=q=>q&&parseInt(q.style.zIndex,10)||0;return{get:z,set:(q,te,Te)=>{te&&(te.style.zIndex=String(((q,te)=>{let Te=H.length>0?H[H.length-1]:{key:q,value:te},Ae=Te.value+(Te.key===q?0:te)+1;return H.push({key:q,value:Ae}),Ae})(q,Te)))},clear:q=>{q&&((q=>{H=H.filter(te=>te.value!==q)})(z(q)),q.style.zIndex="")},getCurrent:()=>H.length>0?H[H.length-1].value:0}}()},5861:(gt,Ne,b)=>{"use strict";function f($,ce,x,H,j,W,Z){try{var z=$[W](Z),q=z.value}catch(te){return void x(te)}z.done?ce(q):Promise.resolve(q).then(H,j)}function C($){return function(){var ce=this,x=arguments;return new Promise(function(H,j){var W=$.apply(ce,x);function Z(q){f(W,H,j,Z,z,"next",q)}function z(q){f(W,H,j,Z,z,"throw",q)}Z(void 0)})}}b.d(Ne,{Z:()=>C})}},gt=>{gt(gt.s=4457)}]);